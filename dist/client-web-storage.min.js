(()=>{var zv=Object.create;var Dn=Object.defineProperty;var Hv=Object.getOwnPropertyDescriptor;var Yv=Object.getOwnPropertyNames;var Wv=Object.getPrototypeOf,Jv=Object.prototype.hasOwnProperty;var i=(e,r)=>Dn(e,"name",{value:r,configurable:!0}),Pr=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Xv=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Yv(r))!Jv.call(e,s)&&s!==t&&Dn(e,s,{get:()=>r[s],enumerable:!(a=Hv(r,s))||a.enumerable});return e};var _n=(e,r,t)=>(t=e!=null?zv(Wv(e)):{},Xv(r||!e||!e.__esModule?Dn(t,"default",{value:e,enumerable:!0}):t,e));var xn=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var w=(e,r,t)=>(xn(e,r,"read from private field"),t?t.call(e):r.get(e)),$=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},ae=(e,r,t,a)=>(xn(e,r,"write to private field"),a?a.call(e,t):r.set(e,t),t);var _=(e,r,t)=>(xn(e,r,"access private method"),t);var Pn=d((_T,so)=>{var Cn=typeof document=="object"&&document.all,Qv=typeof Cn>"u"&&Cn!==void 0;so.exports={all:Cn,IS_HTMLDDA:Qv}});var Z=d((xT,co)=>{var uo=Pn(),Zv=uo.all;co.exports=uo.IS_HTMLDDA?function(e){return typeof e=="function"||e===Zv}:function(e){return typeof e=="function"}});var W=d((CT,fo)=>{fo.exports=function(e){try{return!!e()}catch{return!0}}});var ue=d((PT,lo)=>{var ed=W();lo.exports=!ed(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var ce=d((NT,vo)=>{var Ot=i(function(e){return e&&e.Math==Math&&e},"check");vo.exports=Ot(typeof globalThis=="object"&&globalThis)||Ot(typeof window=="object"&&window)||Ot(typeof self=="object"&&self)||Ot(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var Ee=d((jT,ho)=>{var po=Z(),yo=Pn(),rd=yo.all;ho.exports=yo.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:po(e)||e===rd}:function(e){return typeof e=="object"?e!==null:po(e)}});var jn=d((MT,go)=>{var td=ce(),mo=Ee(),Nn=td.document,nd=mo(Nn)&&mo(Nn.createElement);go.exports=function(e){return nd?Nn.createElement(e):{}}});var Mn=d((BT,So)=>{var ad=ue(),id=W(),od=jn();So.exports=!ad&&!id(function(){return Object.defineProperty(od("div"),"a",{get:function(){return 7}}).a!=7})});var Bn=d((VT,Eo)=>{var sd=ue(),ud=W();Eo.exports=sd&&ud(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var de=d((LT,bo)=>{var cd=Ee(),fd=String,ld=TypeError;bo.exports=function(e){if(cd(e))return e;throw ld(fd(e)+" is not an object")}});var It=d((FT,To)=>{var vd=W();To.exports=!vd(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var Ce=d((UT,Oo)=>{var dd=It(),Rt=Function.prototype.call;Oo.exports=dd?Rt.bind(Rt):function(){return Rt.apply(Rt,arguments)}});var Ie=d((kT,Io)=>{var Vn=ce(),pd=Z(),yd=i(function(e){return pd(e)?e:void 0},"aFunction");Io.exports=function(e,r){return arguments.length<2?yd(Vn[e]):Vn[e]&&Vn[e][r]}});var ee=d(($T,qo)=>{var Ro=It(),wo=Function.prototype,Ln=wo.call,hd=Ro&&wo.bind.bind(Ln,Ln);qo.exports=Ro?hd:function(e){return function(){return Ln.apply(e,arguments)}}});var Mr=d((KT,Ao)=>{var md=ee();Ao.exports=md({}.isPrototypeOf)});var _o=d((GT,Do)=>{Do.exports=typeof navigator<"u"&&String(navigator.userAgent)||""});var Un=d((zT,Mo)=>{var jo=ce(),Fn=_o(),xo=jo.process,Co=jo.Deno,Po=xo&&xo.versions||Co&&Co.version,No=Po&&Po.v8,Te,wt;No&&(Te=No.split("."),wt=Te[0]>0&&Te[0]<4?1:+(Te[0]+Te[1]));!wt&&Fn&&(Te=Fn.match(/Edge\/(\d+)/),(!Te||Te[1]>=74)&&(Te=Fn.match(/Chrome\/(\d+)/),Te&&(wt=+Te[1])));Mo.exports=wt});var kn=d((HT,Vo)=>{var Bo=Un(),gd=W();Vo.exports=!!Object.getOwnPropertySymbols&&!gd(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Bo&&Bo<41})});var $n=d((YT,Lo)=>{var Sd=kn();Lo.exports=Sd&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var qt=d((WT,Fo)=>{var Ed=Ie(),bd=Z(),Td=Mr(),Od=$n(),Id=Object;Fo.exports=Od?function(e){return typeof e=="symbol"}:function(e){var r=Ed("Symbol");return bd(r)&&Td(r.prototype,Id(e))}});var At=d((JT,Uo)=>{var Rd=String;Uo.exports=function(e){try{return Rd(e)}catch{return"Object"}}});var Br=d((XT,ko)=>{var wd=Z(),qd=At(),Ad=TypeError;ko.exports=function(e){if(wd(e))return e;throw Ad(qd(e)+" is not a function")}});var er=d((QT,$o)=>{$o.exports=function(e){return e==null}});var Dt=d((ZT,Ko)=>{var Dd=Br(),_d=er();Ko.exports=function(e,r){var t=e[r];return _d(t)?void 0:Dd(t)}});var zo=d((eO,Go)=>{var Kn=Ce(),Gn=Z(),zn=Ee(),xd=TypeError;Go.exports=function(e,r){var t,a;if(r==="string"&&Gn(t=e.toString)&&!zn(a=Kn(t,e))||Gn(t=e.valueOf)&&!zn(a=Kn(t,e))||r!=="string"&&Gn(t=e.toString)&&!zn(a=Kn(t,e)))return a;throw xd("Can't convert object to primitive value")}});var $e=d((rO,Ho)=>{Ho.exports=!1});var _t=d((tO,Wo)=>{var Yo=ce(),Cd=Object.defineProperty;Wo.exports=function(e,r){try{Cd(Yo,e,{value:r,configurable:!0,writable:!0})}catch{Yo[e]=r}return r}});var xt=d((nO,Xo)=>{var Pd=ce(),Nd=_t(),Jo="__core-js_shared__",jd=Pd[Jo]||Nd(Jo,{});Xo.exports=jd});var Hn=d((aO,Zo)=>{var Md=$e(),Qo=xt();(Zo.exports=function(e,r){return Qo[e]||(Qo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.30.1",mode:Md?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var Yn=d((iO,es)=>{var Bd=er(),Vd=TypeError;es.exports=function(e){if(Bd(e))throw Vd("Can't call method on "+e);return e}});var Ct=d((oO,rs)=>{var Ld=Yn(),Fd=Object;rs.exports=function(e){return Fd(Ld(e))}});var fe=d((sO,ts)=>{var Ud=ee(),kd=Ct(),$d=Ud({}.hasOwnProperty);ts.exports=Object.hasOwn||i(function(r,t){return $d(kd(r),t)},"hasOwn")});var Vr=d((uO,ns)=>{var Kd=ee(),Gd=0,zd=Math.random(),Hd=Kd(1 .toString);ns.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Hd(++Gd+zd,36)}});var be=d((cO,is)=>{var Yd=ce(),Wd=Hn(),as=fe(),Jd=Vr(),Xd=kn(),Qd=$n(),hr=Yd.Symbol,Wn=Wd("wks"),Zd=Qd?hr.for||hr:hr&&hr.withoutSetter||Jd;is.exports=function(e){return as(Wn,e)||(Wn[e]=Xd&&as(hr,e)?hr[e]:Zd("Symbol."+e)),Wn[e]}});var cs=d((fO,us)=>{var ep=Ce(),os=Ee(),ss=qt(),rp=Dt(),tp=zo(),np=be(),ap=TypeError,ip=np("toPrimitive");us.exports=function(e,r){if(!os(e)||ss(e))return e;var t=rp(e,ip),a;if(t){if(r===void 0&&(r="default"),a=ep(t,e,r),!os(a)||ss(a))return a;throw ap("Can't convert object to primitive value")}return r===void 0&&(r="number"),tp(e,r)}});var Pt=d((lO,fs)=>{var op=cs(),sp=qt();fs.exports=function(e){var r=op(e,"string");return sp(r)?r:r+""}});var pe=d(vs=>{var up=ue(),cp=Mn(),fp=Bn(),Nt=de(),ls=Pt(),lp=TypeError,Jn=Object.defineProperty,vp=Object.getOwnPropertyDescriptor,Xn="enumerable",Qn="configurable",Zn="writable";vs.f=up?fp?i(function(r,t,a){if(Nt(r),t=ls(t),Nt(a),typeof r=="function"&&t==="prototype"&&"value"in a&&Zn in a&&!a[Zn]){var s=vp(r,t);s&&s[Zn]&&(r[t]=a.value,a={configurable:Qn in a?a[Qn]:s[Qn],enumerable:Xn in a?a[Xn]:s[Xn],writable:!1})}return Jn(r,t,a)},"defineProperty"):Jn:i(function(r,t,a){if(Nt(r),t=ls(t),Nt(a),cp)try{return Jn(r,t,a)}catch{}if("get"in a||"set"in a)throw lp("Accessors not supported");return"value"in a&&(r[t]=a.value),r},"defineProperty")});var ta=d((dO,ps)=>{var ea=ue(),dp=fe(),ds=Function.prototype,pp=ea&&Object.getOwnPropertyDescriptor,ra=dp(ds,"name"),yp=ra&&i(function(){},"something").name==="something",hp=ra&&(!ea||ea&&pp(ds,"name").configurable);ps.exports={EXISTS:ra,PROPER:yp,CONFIGURABLE:hp}});var aa=d((pO,ys)=>{var mp=ee(),gp=Z(),na=xt(),Sp=mp(Function.toString);gp(na.inspectSource)||(na.inspectSource=function(e){return Sp(e)});ys.exports=na.inspectSource});var gs=d((yO,ms)=>{var Ep=ce(),bp=Z(),hs=Ep.WeakMap;ms.exports=bp(hs)&&/native code/.test(String(hs))});var Ke=d((hO,Ss)=>{Ss.exports=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}});var Lr=d((mO,Es)=>{var Tp=ue(),Op=pe(),Ip=Ke();Es.exports=Tp?function(e,r,t){return Op.f(e,r,Ip(1,t))}:function(e,r,t){return e[r]=t,e}});var jt=d((gO,Ts)=>{var Rp=Hn(),wp=Vr(),bs=Rp("keys");Ts.exports=function(e){return bs[e]||(bs[e]=wp(e))}});var Fr=d((SO,Os)=>{Os.exports={}});var kr=d((EO,ws)=>{var qp=gs(),Rs=ce(),Ap=Ee(),Dp=Lr(),ia=fe(),oa=xt(),_p=jt(),xp=Fr(),Is="Object already initialized",sa=Rs.TypeError,Cp=Rs.WeakMap,Mt,Ur,Bt,Pp=i(function(e){return Bt(e)?Ur(e):Mt(e,{})},"enforce"),Np=i(function(e){return function(r){var t;if(!Ap(r)||(t=Ur(r)).type!==e)throw sa("Incompatible receiver, "+e+" required");return t}},"getterFor");qp||oa.state?(Oe=oa.state||(oa.state=new Cp),Oe.get=Oe.get,Oe.has=Oe.has,Oe.set=Oe.set,Mt=i(function(e,r){if(Oe.has(e))throw sa(Is);return r.facade=e,Oe.set(e,r),r},"set"),Ur=i(function(e){return Oe.get(e)||{}},"get"),Bt=i(function(e){return Oe.has(e)},"has")):(rr=_p("state"),xp[rr]=!0,Mt=i(function(e,r){if(ia(e,rr))throw sa(Is);return r.facade=e,Dp(e,rr,r),r},"set"),Ur=i(function(e){return ia(e,rr)?e[rr]:{}},"get"),Bt=i(function(e){return ia(e,rr)},"has"));var Oe,rr;ws.exports={set:Mt,get:Ur,has:Bt,enforce:Pp,getterFor:Np}});var fa=d((bO,Ds)=>{var ca=ee(),jp=W(),Mp=Z(),Vt=fe(),ua=ue(),Bp=ta().CONFIGURABLE,Vp=aa(),As=kr(),Lp=As.enforce,Fp=As.get,qs=String,Lt=Object.defineProperty,Up=ca("".slice),kp=ca("".replace),$p=ca([].join),Kp=ua&&!jp(function(){return Lt(function(){},"length",{value:8}).length!==8}),Gp=String(String).split("String"),zp=Ds.exports=function(e,r,t){Up(qs(r),0,7)==="Symbol("&&(r="["+kp(qs(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Vt(e,"name")||Bp&&e.name!==r)&&(ua?Lt(e,"name",{value:r,configurable:!0}):e.name=r),Kp&&t&&Vt(t,"arity")&&e.length!==t.arity&&Lt(e,"length",{value:t.arity});try{t&&Vt(t,"constructor")&&t.constructor?ua&&Lt(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=Lp(e);return Vt(a,"source")||(a.source=$p(Gp,typeof r=="string"?r:"")),e};Function.prototype.toString=zp(i(function(){return Mp(this)&&Fp(this).source||Vp(this)},"toString"),"toString")});var Pe=d((TO,_s)=>{var Hp=Z(),Yp=pe(),Wp=fa(),Jp=_t();_s.exports=function(e,r,t,a){a||(a={});var s=a.enumerable,p=a.name!==void 0?a.name:r;if(Hp(t)&&Wp(t,p,a),a.global)s?e[r]=t:Jp(r,t);else{try{a.unsafe?e[r]&&(s=!0):delete e[r]}catch{}s?e[r]=t:Yp.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}});var tr=d((OO,Cs)=>{var xs=ee(),Xp=xs({}.toString),Qp=xs("".slice);Cs.exports=function(e){return Qp(Xp(e),8,-1)}});var Ns=d((IO,Ps)=>{var Zp=ee(),ey=W(),ry=tr(),la=Object,ty=Zp("".split);Ps.exports=ey(function(){return!la("z").propertyIsEnumerable(0)})?function(e){return ry(e)=="String"?ty(e,""):la(e)}:la});var nr=d((RO,js)=>{var ny=Ns(),ay=Yn();js.exports=function(e){return ny(ay(e))}});var Bs=d((wO,Ms)=>{var iy=Math.ceil,oy=Math.floor;Ms.exports=Math.trunc||i(function(r){var t=+r;return(t>0?oy:iy)(t)},"trunc")});var va=d((qO,Vs)=>{var sy=Bs();Vs.exports=function(e){var r=+e;return r!==r||r===0?0:sy(r)}});var da=d((AO,Ls)=>{var uy=va(),cy=Math.max,fy=Math.min;Ls.exports=function(e,r){var t=uy(e);return t<0?cy(t+r,0):fy(t,r)}});var Us=d((DO,Fs)=>{var ly=va(),vy=Math.min;Fs.exports=function(e){return e>0?vy(ly(e),9007199254740991):0}});var $r=d((_O,ks)=>{var dy=Us();ks.exports=function(e){return dy(e.length)}});var Gs=d((xO,Ks)=>{var py=nr(),yy=da(),hy=$r(),$s=i(function(e){return function(r,t,a){var s=py(r),p=hy(s),c=yy(a,p),S;if(e&&t!=t){for(;p>c;)if(S=s[c++],S!=S)return!0}else for(;p>c;c++)if((e||c in s)&&s[c]===t)return e||c||0;return!e&&-1}},"createMethod");Ks.exports={includes:$s(!0),indexOf:$s(!1)}});var ya=d((CO,Hs)=>{var my=ee(),pa=fe(),gy=nr(),Sy=Gs().indexOf,Ey=Fr(),zs=my([].push);Hs.exports=function(e,r){var t=gy(e),a=0,s=[],p;for(p in t)!pa(Ey,p)&&pa(t,p)&&zs(s,p);for(;r.length>a;)pa(t,p=r[a++])&&(~Sy(s,p)||zs(s,p));return s}});var Ft=d((PO,Ys)=>{Ys.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var ha=d((NO,Ws)=>{var by=ya(),Ty=Ft();Ws.exports=Object.keys||i(function(r){return by(r,Ty)},"keys")});var Xs=d(Js=>{var Oy=ue(),Iy=Bn(),Ry=pe(),wy=de(),qy=nr(),Ay=ha();Js.f=Oy&&!Iy?Object.defineProperties:i(function(r,t){wy(r);for(var a=qy(t),s=Ay(t),p=s.length,c=0,S;p>c;)Ry.f(r,S=s[c++],a[S]);return r},"defineProperties")});var Zs=d((MO,Qs)=>{var Dy=Ie();Qs.exports=Dy("document","documentElement")});var ar=d((BO,ou)=>{var _y=de(),xy=Xs(),eu=Ft(),Cy=Fr(),Py=Zs(),Ny=jn(),jy=jt(),ru=">",tu="<",ga="prototype",Sa="script",au=jy("IE_PROTO"),ma=i(function(){},"EmptyConstructor"),iu=i(function(e){return tu+Sa+ru+e+tu+"/"+Sa+ru},"scriptTag"),nu=i(function(e){e.write(iu("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),My=i(function(){var e=Ny("iframe"),r="java"+Sa+":",t;return e.style.display="none",Py.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(iu("document.F=Object")),t.close(),t.F},"NullProtoObjectViaIFrame"),Ut,kt=i(function(){try{Ut=new ActiveXObject("htmlfile")}catch{}kt=typeof document<"u"?document.domain&&Ut?nu(Ut):My():nu(Ut);for(var e=eu.length;e--;)delete kt[ga][eu[e]];return kt()},"NullProtoObject");Cy[au]=!0;ou.exports=Object.create||i(function(r,t){var a;return r!==null?(ma[ga]=_y(r),a=new ma,ma[ga]=null,a[au]=r):a=kt(),t===void 0?a:xy.f(a,t)},"create")});var $t=d((VO,uu)=>{var By=be(),Vy=By("toStringTag"),su={};su[Vy]="z";uu.exports=String(su)==="[object z]"});var mr=d((LO,cu)=>{var Ly=$t(),Fy=Z(),Kt=tr(),Uy=be(),ky=Uy("toStringTag"),$y=Object,Ky=Kt(function(){return arguments}())=="Arguments",Gy=i(function(e,r){try{return e[r]}catch{}},"tryGet");cu.exports=Ly?Kt:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=Gy(r=$y(e),ky))=="string"?t:Ky?Kt(r):(a=Kt(r))=="Object"&&Fy(r.callee)?"Arguments":a}});var lu=d((FO,fu)=>{var zy=mr(),Hy=String;fu.exports=function(e){if(zy(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Hy(e)}});var Gt=d((UO,vu)=>{var Yy=lu();vu.exports=function(e,r){return e===void 0?arguments.length<2?"":r:Yy(e)}});var Ea=d((kO,pu)=>{"use strict";var Wy=ue(),Jy=W(),Xy=de(),Qy=ar(),du=Gt(),zt=Error.prototype.toString,Zy=Jy(function(){if(Wy){var e=Qy(Object.defineProperty({},"name",{get:function(){return this===e}}));if(zt.call(e)!=="true")return!0}return zt.call({message:1,name:2})!=="2: 1"||zt.call({})!=="Error"});pu.exports=Zy?i(function(){var r=Xy(this),t=du(r.name,"Error"),a=du(r.message);return t?a?t+": "+a:t:a},"toString"):zt});var mu=d(()=>{var eh=Pe(),yu=Ea(),hu=Error.prototype;hu.toString!==yu&&eh(hu,"toString",yu)});var Su=d((GO,gu)=>{var rh=be(),th=ar(),nh=pe().f,ba=rh("unscopables"),Ta=Array.prototype;Ta[ba]==null&&nh(Ta,ba,{configurable:!0,value:th(null)});gu.exports=function(e){Ta[ba][e]=!0}});var gr=d((zO,Eu)=>{Eu.exports={}});var Iu=d(Ou=>{"use strict";var bu={}.propertyIsEnumerable,Tu=Object.getOwnPropertyDescriptor,ah=Tu&&!bu.call({1:2},1);Ou.f=ah?i(function(r){var t=Tu(this,r);return!!t&&t.enumerable},"propertyIsEnumerable"):bu});var Oa=d(wu=>{var ih=ue(),oh=Ce(),sh=Iu(),uh=Ke(),ch=nr(),fh=Pt(),lh=fe(),vh=Mn(),Ru=Object.getOwnPropertyDescriptor;wu.f=ih?Ru:i(function(r,t){if(r=ch(r),t=fh(t),vh)try{return Ru(r,t)}catch{}if(lh(r,t))return uh(!oh(sh.f,r,t),r[t])},"getOwnPropertyDescriptor")});var Ht=d(qu=>{var dh=ya(),ph=Ft(),yh=ph.concat("length","prototype");qu.f=Object.getOwnPropertyNames||i(function(r){return dh(r,yh)},"getOwnPropertyNames")});var Du=d(Au=>{Au.f=Object.getOwnPropertySymbols});var xu=d((XO,_u)=>{var hh=Ie(),mh=ee(),gh=Ht(),Sh=Du(),Eh=de(),bh=mh([].concat);_u.exports=hh("Reflect","ownKeys")||i(function(r){var t=gh.f(Eh(r)),a=Sh.f;return a?bh(t,a(r)):t},"ownKeys")});var Nu=d((QO,Pu)=>{var Cu=fe(),Th=xu(),Oh=Oa(),Ih=pe();Pu.exports=function(e,r,t){for(var a=Th(r),s=Ih.f,p=Oh.f,c=0;c<a.length;c++){var S=a[c];!Cu(e,S)&&!(t&&Cu(t,S))&&s(e,S,p(r,S))}}});var Ia=d((ZO,ju)=>{var Rh=W(),wh=Z(),qh=/#|\.prototype\./,Kr=i(function(e,r){var t=Dh[Ah(e)];return t==xh?!0:t==_h?!1:wh(r)?Rh(r):!!r},"isForced"),Ah=Kr.normalize=function(e){return String(e).replace(qh,".").toLowerCase()},Dh=Kr.data={},_h=Kr.NATIVE="N",xh=Kr.POLYFILL="P";ju.exports=Kr});var Ge=d((eI,Mu)=>{var Ra=ce(),Ch=Oa().f,Ph=Lr(),Nh=Pe(),jh=_t(),Mh=Nu(),Bh=Ia();Mu.exports=function(e,r){var t=e.target,a=e.global,s=e.stat,p,c,S,y,E,g;if(a?c=Ra:s?c=Ra[t]||jh(t,{}):c=(Ra[t]||{}).prototype,c)for(S in r){if(E=r[S],e.dontCallGetSet?(g=Ch(c,S),y=g&&g.value):y=c[S],p=Bh(a?S:t+(s?".":"#")+S,e.forced),!p&&y!==void 0){if(typeof E==typeof y)continue;Mh(E,y)}(e.sham||y&&y.sham)&&Ph(E,"sham",!0),Nh(c,S,E,e)}}});var Vu=d((rI,Bu)=>{var Vh=W();Bu.exports=!Vh(function(){function e(){}return i(e,"F"),e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var qa=d((tI,Fu)=>{var Lh=fe(),Fh=Z(),Uh=Ct(),kh=jt(),$h=Vu(),Lu=kh("IE_PROTO"),wa=Object,Kh=wa.prototype;Fu.exports=$h?wa.getPrototypeOf:function(e){var r=Uh(e);if(Lh(r,Lu))return r[Lu];var t=r.constructor;return Fh(t)&&r instanceof t?t.prototype:r instanceof wa?Kh:null}});var xa=d((nI,$u)=>{"use strict";var Gh=W(),zh=Z(),Hh=Ee(),Yh=ar(),Uu=qa(),Wh=Pe(),Jh=be(),Xh=$e(),_a=Jh("iterator"),ku=!1,Ne,Aa,Da;[].keys&&(Da=[].keys(),"next"in Da?(Aa=Uu(Uu(Da)),Aa!==Object.prototype&&(Ne=Aa)):ku=!0);var Qh=!Hh(Ne)||Gh(function(){var e={};return Ne[_a].call(e)!==e});Qh?Ne={}:Xh&&(Ne=Yh(Ne));zh(Ne[_a])||Wh(Ne,_a,function(){return this});$u.exports={IteratorPrototype:Ne,BUGGY_SAFARI_ITERATORS:ku}});var Gr=d((aI,Gu)=>{var Zh=pe().f,em=fe(),rm=be(),Ku=rm("toStringTag");Gu.exports=function(e,r,t){e&&!t&&(e=e.prototype),e&&!em(e,Ku)&&Zh(e,Ku,{configurable:!0,value:r})}});var Hu=d((iI,zu)=>{"use strict";var tm=xa().IteratorPrototype,nm=ar(),am=Ke(),im=Gr(),om=gr(),sm=i(function(){return this},"returnThis");zu.exports=function(e,r,t,a){var s=r+" Iterator";return e.prototype=nm(tm,{next:am(+!a,t)}),im(e,s,!1,!0),om[s]=sm,e}});var Wu=d((oI,Yu)=>{var um=ee(),cm=Br();Yu.exports=function(e,r,t){try{return um(cm(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}}});var Xu=d((sI,Ju)=>{var fm=Z(),lm=String,vm=TypeError;Ju.exports=function(e){if(typeof e=="object"||fm(e))return e;throw vm("Can't set "+lm(e)+" as a prototype")}});var Ca=d((uI,Qu)=>{var dm=Wu(),pm=de(),ym=Xu();Qu.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=dm(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return i(function(s,p){return pm(s),ym(p),e?t(s,p):s.__proto__=p,s},"setPrototypeOf")}():void 0)});var Na=d((cI,uc)=>{"use strict";var hm=Ge(),mm=Ce(),Yt=$e(),oc=ta(),gm=Z(),Sm=Hu(),Zu=qa(),ec=Ca(),Em=Gr(),bm=Lr(),Pa=Pe(),Tm=be(),rc=gr(),sc=xa(),Om=oc.PROPER,Im=oc.CONFIGURABLE,tc=sc.IteratorPrototype,Wt=sc.BUGGY_SAFARI_ITERATORS,zr=Tm("iterator"),nc="keys",Hr="values",ac="entries",ic=i(function(){return this},"returnThis");uc.exports=function(e,r,t,a,s,p,c){Sm(t,r,a);var S=i(function(P){if(P===s&&m)return m;if(!Wt&&P in g)return g[P];switch(P){case nc:return i(function(){return new t(this,P)},"keys");case Hr:return i(function(){return new t(this,P)},"values");case ac:return i(function(){return new t(this,P)},"entries")}return function(){return new t(this)}},"getIterationMethod"),y=r+" Iterator",E=!1,g=e.prototype,A=g[zr]||g["@@iterator"]||s&&g[s],m=!Wt&&A||S(s),T=r=="Array"&&g.entries||A,C,x,G;if(T&&(C=Zu(T.call(new e)),C!==Object.prototype&&C.next&&(!Yt&&Zu(C)!==tc&&(ec?ec(C,tc):gm(C[zr])||Pa(C,zr,ic)),Em(C,y,!0,!0),Yt&&(rc[y]=ic))),Om&&s==Hr&&A&&A.name!==Hr&&(!Yt&&Im?bm(g,"name",Hr):(E=!0,m=i(function(){return mm(A,this)},"values"))),s)if(x={values:S(Hr),keys:p?m:S(nc),entries:S(ac)},c)for(G in x)(Wt||E||!(G in g))&&Pa(g,G,x[G]);else hm({target:r,proto:!0,forced:Wt||E},x);return(!Yt||c)&&g[zr]!==m&&Pa(g,zr,m,{name:s}),rc[r]=m,x}});var ja=d((fI,cc)=>{cc.exports=function(e,r){return{value:e,done:r}}});var yc=d((lI,pc)=>{"use strict";var Rm=nr(),Ma=Su(),fc=gr(),vc=kr(),wm=pe().f,qm=Na(),Jt=ja(),Am=$e(),Dm=ue(),dc="Array Iterator",_m=vc.set,xm=vc.getterFor(dc);pc.exports=qm(Array,"Array",function(e,r){_m(this,{type:dc,target:Rm(e),index:0,kind:r})},function(){var e=xm(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,Jt(void 0,!0)):t=="keys"?Jt(a,!1):t=="values"?Jt(r[a],!1):Jt([a,r[a]],!1)},"values");var lc=fc.Arguments=fc.Array;Ma("keys");Ma("values");Ma("entries");if(!Am&&Dm&&lc.name!=="values")try{wm(lc,"name",{value:"values"})}catch{}});var mc=d(()=>{var Cm=Ge(),Pm=Ct(),hc=ha(),Nm=W(),jm=Nm(function(){hc(1)});Cm({target:"Object",stat:!0,forced:jm},{keys:i(function(r){return hc(Pm(r))},"keys")})});var Sc=d((pI,gc)=>{"use strict";var Mm=$t(),Bm=mr();gc.exports=Mm?{}.toString:i(function(){return"[object "+Bm(this)+"]"},"toString")});var Ec=d(()=>{var Vm=$t(),Lm=Pe(),Fm=Sc();Vm||Lm(Object.prototype,"toString",Fm,{unsafe:!0})});var Ba=d((mI,bc)=>{"use strict";var Um=Pt(),km=pe(),$m=Ke();bc.exports=function(e,r,t){var a=Um(r);a in e?km.f(e,a,$m(0,t)):e[a]=t}});var Ic=d((gI,Oc)=>{var Tc=da(),Km=$r(),Gm=Ba(),zm=Array,Hm=Math.max;Oc.exports=function(e,r,t){for(var a=Km(e),s=Tc(r,a),p=Tc(t===void 0?a:t,a),c=zm(Hm(p-s,0)),S=0;s<p;s++,S++)Gm(c,S,e[s]);return c.length=S,c}});var Ac=d((SI,qc)=>{var Ym=tr(),Wm=nr(),Rc=Ht().f,Jm=Ic(),wc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Xm=i(function(e){try{return Rc(e)}catch{return Jm(wc)}},"getWindowNames");qc.exports.f=i(function(r){return wc&&Ym(r)=="Window"?Xm(r):Rc(Wm(r))},"getOwnPropertyNames")});var _c=d((EI,Dc)=>{var Qm=W();Dc.exports=Qm(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var Pc=d((bI,Cc)=>{var Zm=W(),eg=Ee(),rg=tr(),xc=_c(),Xt=Object.isExtensible,tg=Zm(function(){Xt(1)});Cc.exports=tg||xc?i(function(r){return!eg(r)||xc&&rg(r)=="ArrayBuffer"?!1:Xt?Xt(r):!0},"isExtensible"):Xt});var jc=d((TI,Nc)=>{var ng=W();Nc.exports=!ng(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Ua=d((OI,Vc)=>{var ag=Ge(),ig=ee(),og=Fr(),sg=Ee(),Va=fe(),ug=pe().f,Mc=Ht(),cg=Ac(),La=Pc(),fg=Vr(),lg=jc(),Bc=!1,je=fg("meta"),vg=0,Fa=i(function(e){ug(e,je,{value:{objectID:"O"+vg++,weakData:{}}})},"setMetadata"),dg=i(function(e,r){if(!sg(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Va(e,je)){if(!La(e))return"F";if(!r)return"E";Fa(e)}return e[je].objectID},"fastKey"),pg=i(function(e,r){if(!Va(e,je)){if(!La(e))return!0;if(!r)return!1;Fa(e)}return e[je].weakData},"getWeakData"),yg=i(function(e){return lg&&Bc&&La(e)&&!Va(e,je)&&Fa(e),e},"onFreeze"),hg=i(function(){mg.enable=function(){},Bc=!0;var e=Mc.f,r=ig([].splice),t={};t[je]=1,e(t).length&&(Mc.f=function(a){for(var s=e(a),p=0,c=s.length;p<c;p++)if(s[p]===je){r(s,p,1);break}return s},ag({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:cg.f}))},"enable"),mg=Vc.exports={enable:hg,fastKey:dg,getWeakData:pg,onFreeze:yg};og[je]=!0});var Fc=d((II,Lc)=>{var gg=tr(),Sg=ee();Lc.exports=function(e){if(gg(e)==="Function")return Sg(e)}});var ka=d((RI,kc)=>{var Uc=Fc(),Eg=Br(),bg=It(),Tg=Uc(Uc.bind);kc.exports=function(e,r){return Eg(e),r===void 0?e:bg?Tg(e,r):function(){return e.apply(r,arguments)}}});var Kc=d((wI,$c)=>{var Og=be(),Ig=gr(),Rg=Og("iterator"),wg=Array.prototype;$c.exports=function(e){return e!==void 0&&(Ig.Array===e||wg[Rg]===e)}});var $a=d((qI,zc)=>{var qg=mr(),Gc=Dt(),Ag=er(),Dg=gr(),_g=be(),xg=_g("iterator");zc.exports=function(e){if(!Ag(e))return Gc(e,xg)||Gc(e,"@@iterator")||Dg[qg(e)]}});var Yc=d((AI,Hc)=>{var Cg=Ce(),Pg=Br(),Ng=de(),jg=At(),Mg=$a(),Bg=TypeError;Hc.exports=function(e,r){var t=arguments.length<2?Mg(e):r;if(Pg(t))return Ng(Cg(t,e));throw Bg(jg(e)+" is not iterable")}});var Xc=d((DI,Jc)=>{var Vg=Ce(),Wc=de(),Lg=Dt();Jc.exports=function(e,r,t){var a,s;Wc(e);try{if(a=Lg(e,"return"),!a){if(r==="throw")throw t;return t}a=Vg(a,e)}catch(p){s=!0,a=p}if(r==="throw")throw t;if(s)throw a;return Wc(a),t}});var Zt=d((_I,rf)=>{var Fg=ka(),Ug=Ce(),kg=de(),$g=At(),Kg=Kc(),Gg=$r(),Qc=Mr(),zg=Yc(),Hg=$a(),Zc=Xc(),Yg=TypeError,Qt=i(function(e,r){this.stopped=e,this.result=r},"Result"),ef=Qt.prototype;rf.exports=function(e,r,t){var a=t&&t.that,s=!!(t&&t.AS_ENTRIES),p=!!(t&&t.IS_RECORD),c=!!(t&&t.IS_ITERATOR),S=!!(t&&t.INTERRUPTED),y=Fg(r,a),E,g,A,m,T,C,x,G=i(function(N){return E&&Zc(E,"normal",N),new Qt(!0,N)},"stop"),P=i(function(N){return s?(kg(N),S?y(N[0],N[1],G):y(N[0],N[1])):S?y(N,G):y(N)},"callFn");if(p)E=e.iterator;else if(c)E=e;else{if(g=Hg(e),!g)throw Yg($g(e)+" is not iterable");if(Kg(g)){for(A=0,m=Gg(e);m>A;A++)if(T=P(e[A]),T&&Qc(ef,T))return T;return new Qt(!1)}E=zg(e,g)}for(C=p?e.next:E.next;!(x=Ug(C,E)).done;){try{T=P(x.value)}catch(N){Zc(E,"throw",N)}if(typeof T=="object"&&T&&Qc(ef,T))return T}return new Qt(!1)}});var Yr=d((xI,tf)=>{var Wg=Mr(),Jg=TypeError;tf.exports=function(e,r){if(Wg(r,e))return e;throw Jg("Incorrect invocation")}});var uf=d((CI,sf)=>{var Xg=be(),af=Xg("iterator"),of=!1;try{nf=0,Ka={next:function(){return{done:!!nf++}},return:function(){of=!0}},Ka[af]=function(){return this},Array.from(Ka,function(){throw 2})}catch{}var nf,Ka;sf.exports=function(e,r){if(!r&&!of)return!1;var t=!1;try{var a={};a[af]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t}});var Ga=d((PI,ff)=>{var Qg=Z(),Zg=Ee(),cf=Ca();ff.exports=function(e,r,t){var a,s;return cf&&Qg(a=r.constructor)&&a!==t&&Zg(s=a.prototype)&&s!==t.prototype&&cf(e,s),e}});var Ya=d((NI,vf)=>{"use strict";var eS=Ge(),rS=ce(),tS=ee(),lf=Ia(),nS=Pe(),aS=Ua(),iS=Zt(),oS=Yr(),sS=Z(),uS=er(),za=Ee(),Ha=W(),cS=uf(),fS=Gr(),lS=Ga();vf.exports=function(e,r,t){var a=e.indexOf("Map")!==-1,s=e.indexOf("Weak")!==-1,p=a?"set":"add",c=rS[e],S=c&&c.prototype,y=c,E={},g=i(function(P){var N=tS(S[P]);nS(S,P,P=="add"?i(function(te){return N(this,te===0?0:te),this},"add"):P=="delete"?function(V){return s&&!za(V)?!1:N(this,V===0?0:V)}:P=="get"?i(function(te){return s&&!za(te)?void 0:N(this,te===0?0:te)},"get"):P=="has"?i(function(te){return s&&!za(te)?!1:N(this,te===0?0:te)},"has"):i(function(te,qe){return N(this,te===0?0:te,qe),this},"set"))},"fixMethod"),A=lf(e,!sS(c)||!(s||S.forEach&&!Ha(function(){new c().entries().next()})));if(A)y=t.getConstructor(r,e,a,p),aS.enable();else if(lf(e,!0)){var m=new y,T=m[p](s?{}:-0,1)!=m,C=Ha(function(){m.has(1)}),x=cS(function(P){new c(P)}),G=!s&&Ha(function(){for(var P=new c,N=5;N--;)P[p](N,N);return!P.has(-0)});x||(y=r(function(P,N){oS(P,S);var V=lS(new c,P,y);return uS(N)||iS(N,V[p],{that:V,AS_ENTRIES:a}),V}),y.prototype=S,S.constructor=y),(C||G)&&(g("delete"),g("has"),a&&g("get")),(G||T)&&g(p),s&&S.clear&&delete S.clear}return E[e]=y,eS({global:!0,constructor:!0,forced:y!=c},E),fS(y,e),s||t.setStrong(y,e,a),y}});var en=d((jI,pf)=>{var df=fa(),vS=pe();pf.exports=function(e,r,t){return t.get&&df(t.get,r,{getter:!0}),t.set&&df(t.set,r,{setter:!0}),vS.f(e,r,t)}});var hf=d((MI,yf)=>{var dS=Pe();yf.exports=function(e,r,t){for(var a in r)dS(e,a,r[a],t);return e}});var Sf=d((BI,gf)=>{"use strict";var pS=Ie(),yS=en(),hS=be(),mS=ue(),mf=hS("species");gf.exports=function(e){var r=pS(e);mS&&r&&!r[mf]&&yS(r,mf,{configurable:!0,get:function(){return this}})}});var Ja=d((VI,If)=>{"use strict";var gS=ar(),SS=en(),Ef=hf(),ES=ka(),bS=Yr(),TS=er(),OS=Zt(),IS=Na(),rn=ja(),RS=Sf(),Wr=ue(),bf=Ua().fastKey,Of=kr(),Tf=Of.set,Wa=Of.getterFor;If.exports={getConstructor:function(e,r,t,a){var s=e(function(E,g){bS(E,p),Tf(E,{type:r,index:gS(null),first:void 0,last:void 0,size:0}),Wr||(E.size=0),TS(g)||OS(g,E[a],{that:E,AS_ENTRIES:t})}),p=s.prototype,c=Wa(r),S=i(function(E,g,A){var m=c(E),T=y(E,g),C,x;return T?T.value=A:(m.last=T={index:x=bf(g,!0),key:g,value:A,previous:C=m.last,next:void 0,removed:!1},m.first||(m.first=T),C&&(C.next=T),Wr?m.size++:E.size++,x!=="F"&&(m.index[x]=T)),E},"define"),y=i(function(E,g){var A=c(E),m=bf(g),T;if(m!=="F")return A.index[m];for(T=A.first;T;T=T.next)if(T.key==g)return T},"getEntry");return Ef(p,{clear:i(function(){for(var g=this,A=c(g),m=A.index,T=A.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete m[T.index],T=T.next;A.first=A.last=void 0,Wr?A.size=0:g.size=0},"clear"),delete:function(E){var g=this,A=c(g),m=y(g,E);if(m){var T=m.next,C=m.previous;delete A.index[m.index],m.removed=!0,C&&(C.next=T),T&&(T.previous=C),A.first==m&&(A.first=T),A.last==m&&(A.last=C),Wr?A.size--:g.size--}return!!m},forEach:i(function(g){for(var A=c(this),m=ES(g,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:A.first;)for(m(T.value,T.key,this);T&&T.removed;)T=T.previous},"forEach"),has:i(function(g){return!!y(this,g)},"has")}),Ef(p,t?{get:i(function(g){var A=y(this,g);return A&&A.value},"get"),set:i(function(g,A){return S(this,g===0?0:g,A)},"set")}:{add:i(function(g){return S(this,g=g===0?0:g,g)},"add")}),Wr&&SS(p,"size",{configurable:!0,get:function(){return c(this).size}}),s},setStrong:function(e,r,t){var a=r+" Iterator",s=Wa(r),p=Wa(a);IS(e,r,function(c,S){Tf(this,{type:a,target:c,state:s(c),kind:S,last:void 0})},function(){for(var c=p(this),S=c.kind,y=c.last;y&&y.removed;)y=y.previous;return!c.target||!(c.last=y=y?y.next:c.state.first)?(c.target=void 0,rn(void 0,!0)):S=="keys"?rn(y.key,!1):S=="values"?rn(y.value,!1):rn([y.key,y.value],!1)},t?"entries":"values",!t,!0),RS(r)}}});var Rf=d(()=>{"use strict";var wS=Ya(),qS=Ja();wS("Map",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Map")},qS)});var wf=d(()=>{Rf()});var qf=d(()=>{"use strict";var AS=Ya(),DS=Ja();AS("Set",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Set")},DS)});var Af=d(()=>{qf()});var tn=d((HI,Df)=>{var _S=tr();Df.exports=typeof process<"u"&&_S(process)=="process"});var xf=d((YI,_f)=>{var xS=tn();_f.exports=function(e){try{if(xS)return Function('return require("'+e+'")')()}catch{}}});var Xa=d((WI,Cf)=>{Cf.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var Qa=d((JI,jf)=>{var CS=ee(),Pf=Error,PS=CS("".replace),NS=function(e){return String(Pf(e).stack)}("zxcasd"),Nf=/\n\s*at [^:]*:[^\n]*/,jS=Nf.test(NS);jf.exports=function(e,r){if(jS&&typeof e=="string"&&!Pf.prepareStackTrace)for(;r--;)e=PS(e,Nf,"");return e}});var zf=d(()=>{"use strict";var MS=Ge(),BS=xf(),on=Ie(),ai=W(),VS=ar(),ii=Ke(),sn=pe().f,LS=Pe(),nn=en(),an=fe(),FS=Yr(),US=de(),Vf=Ea(),Mf=Gt(),Sr=Xa(),kS=Qa(),Lf=kr(),oi=ue(),Ff=$e(),Er="DOMException",ni="DATA_CLONE_ERR",cn=on("Error"),Me=on(Er)||function(){try{var e=on("MessageChannel")||BS("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(r){if(r.name==ni&&r.code==25)return r.constructor}}(),$S=Me&&Me.prototype,Uf=cn.prototype,KS=Lf.set,GS=Lf.getterFor(Er),zS="stack"in cn(Er),kf=i(function(e){return an(Sr,e)&&Sr[e].m?Sr[e].c:0},"codeFor"),si=i(function(){FS(this,Xr);var r=arguments.length,t=Mf(r<1?void 0:arguments[0]),a=Mf(r<2?void 0:arguments[1],"Error"),s=kf(a);if(KS(this,{type:Er,name:a,message:t,code:s}),oi||(this.name=a,this.message=t,this.code=s),zS){var p=cn(t);p.name=Er,sn(this,"stack",ii(1,kS(p.stack,1)))}},"DOMException"),Xr=si.prototype=VS(Uf),$f=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),Za=i(function(e){return $f(function(){return GS(this)[e]})},"getterFor");oi&&(nn(Xr,"code",Za("code")),nn(Xr,"message",Za("message")),nn(Xr,"name",Za("name")));sn(Xr,"constructor",ii(1,si));var fn=ai(function(){return!(new Me instanceof cn)}),Kf=fn||ai(function(){return Uf.toString!==Vf||String(new Me(1,2))!=="2: 1"}),Gf=fn||ai(function(){return new Me(1,"DataCloneError").code!==25}),HS=fn||Me[ni]!==25||$S[ni]!==25,Bf=Ff?Kf||Gf||HS:fn;MS({global:!0,constructor:!0,forced:Bf},{DOMException:Bf?si:Me});var Qr=on(Er),un=Qr.prototype;Kf&&(Ff||Me===Qr)&&LS(un,"toString",Vf);Gf&&oi&&Me===Qr&&nn(un,"code",$f(function(){return kf(US(this).name)}));for(ei in Sr)an(Sr,ei)&&(ri=Sr[ei],Jr=ri.s,ti=ii(6,ri.c),an(Qr,Jr)||sn(Qr,Jr,ti),an(un,Jr)||sn(un,Jr,ti));var ri,Jr,ti,ei});var Zf=d(()=>{"use strict";var YS=Ge(),WS=ce(),yi=Ie(),di=Ke(),pi=pe().f,Hf=fe(),JS=Yr(),XS=Ga(),Yf=Gt(),ui=Xa(),QS=Qa(),ZS=ue(),Xf=$e(),et="DOMException",Qf=yi("Error"),rt=yi(et),hi=i(function(){JS(this,eE);var r=arguments.length,t=Yf(r<1?void 0:arguments[0]),a=Yf(r<2?void 0:arguments[1],"Error"),s=new rt(t,a),p=Qf(t);return p.name=et,pi(s,"stack",di(1,QS(p.stack,1))),XS(s,this,hi),s},"DOMException"),eE=hi.prototype=rt.prototype,rE="stack"in Qf(et),tE="stack"in new rt(1,2),ci=rt&&ZS&&Object.getOwnPropertyDescriptor(WS,et),nE=!!ci&&!(ci.writable&&ci.configurable),Wf=rE&&!nE&&!tE;YS({global:!0,constructor:!0,forced:Xf||Wf},{DOMException:Wf?hi:rt});var Zr=yi(et),Jf=Zr.prototype;if(Jf.constructor!==Zr){Xf||pi(Jf,"constructor",di(1,Zr));for(fi in ui)Hf(ui,fi)&&(li=ui[fi],vi=li.s,Hf(Zr,vi)||pi(Zr,vi,di(6,li.c)))}var li,vi,fi});var rl=d(()=>{var aE=Ie(),iE=Gr(),el="DOMException";iE(aE(el),el)});var sl=d((nR,ol)=>{var oE=ee(),sE=W(),tl=Z(),uE=mr(),cE=Ie(),fE=aa(),nl=i(function(){},"noop"),lE=[],al=cE("Reflect","construct"),mi=/^\s*(?:class|function)\b/,vE=oE(mi.exec),dE=!mi.exec(nl),tt=i(function(r){if(!tl(r))return!1;try{return al(nl,lE,r),!0}catch{return!1}},"isConstructor"),il=i(function(r){if(!tl(r))return!1;switch(uE(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return dE||!!vE(mi,fE(r))}catch{return!0}},"isConstructor");il.sham=!0;ol.exports=!al||sE(function(){var e;return tt(tt.call)||!tt(Object)||!tt(function(){e=!0})||e})?il:tt});var cl=d((aR,ul)=>{var pE=TypeError;ul.exports=function(e,r){if(e<r)throw pE("Not enough arguments");return e}});var ll=d((iR,fl)=>{"use strict";var yE=de();fl.exports=function(){var e=yE(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r}});var pl=d((oR,dl)=>{var hE=Ce(),mE=fe(),gE=Mr(),SE=ll(),vl=RegExp.prototype;dl.exports=function(e){var r=e.flags;return r===void 0&&!("flags"in vl)&&!mE(e,"flags")&&gE(vl,e)?hE(SE,e):r}});var hl=d((sR,yl)=>{var ln=ee(),nt=Map.prototype;yl.exports={Map,set:ln(nt.set),get:ln(nt.get),has:ln(nt.has),remove:ln(nt.delete),proto:nt}});var gl=d((uR,ml)=>{var gi=ee(),vn=Set.prototype;ml.exports={Set,add:gi(vn.add),has:gi(vn.has),remove:gi(vn.delete),proto:vn}});var El=d((cR,Sl)=>{var EE=W(),bE=Ke();Sl.exports=!EE(function(){var e=Error("a");return"stack"in e?(Object.defineProperty(e,"stack",bE(1,7)),e.stack!==7):!0})});var Si=d((fR,bl)=>{bl.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var Ol=d((lR,Tl)=>{var TE=Si(),OE=tn();Tl.exports=!TE&&!OE&&typeof window=="object"&&typeof document=="object"});var wl=d((vR,Rl)=>{var IE=ce(),RE=W(),Ei=Un(),wE=Ol(),qE=Si(),AE=tn(),Il=IE.structuredClone;Rl.exports=!!Il&&!RE(function(){if(qE&&Ei>92||AE&&Ei>94||wE&&Ei>97)return!1;var e=new ArrayBuffer(8),r=Il(e,{transfer:[e]});return e.byteLength!=0||r.byteLength!=8})});var Ml=d(()=>{var DE=$e(),_E=Ge(),H=ce(),wi=Ie(),ot=ee(),qi=W(),xE=Vr(),pn=Z(),CE=sl(),PE=er(),Oi=Ee(),NE=qt(),jE=Zt(),Al=de(),Dl=mr(),ME=fe(),BE=Ba(),bi=Lr(),yn=$r(),VE=cl(),LE=pl(),mn=hl(),_l=gl(),FE=El(),xl=wl(),at=H.Object,UE=H.Array,Cl=H.Date,st=H.Error,kE=H.EvalError,$E=H.RangeError,KE=H.ReferenceError,GE=H.SyntaxError,Pl=H.TypeError,zE=H.URIError,HE=H.PerformanceMark,Tr=H.WebAssembly,YE=Tr&&Tr.CompileError||st,WE=Tr&&Tr.LinkError||st,JE=Tr&&Tr.RuntimeError||st,ir=wi("DOMException"),Ii=mn.Map,Nl=mn.has,XE=mn.get,hn=mn.set,QE=_l.Set,ZE=_l.add,eb=wi("Object","keys"),rb=ot([].push),tb=ot((!0).valueOf),nb=ot(1 .valueOf),ab=ot("".valueOf),ib=ot(Cl.prototype.getTime),Ri=xE("structuredClone"),it="DataCloneError",dn="Transferring",jl=i(function(e){return!qi(function(){var r=new H.Set([7]),t=e(r),a=e(at(7));return t==r||!t.has(7)||typeof a!="object"||a!=7})&&e},"checkBasicSemantic"),ql=i(function(e,r){return!qi(function(){var t=new r,a=e({a:t,b:t});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===t.stack)})},"checkErrorsCloning"),ob=i(function(e){return!qi(function(){var r=e(new H.AggregateError([1],Ri,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=Ri||r.cause!=3})},"checkNewErrorsCloningSemantic"),br=H.structuredClone,sb=DE||!ql(br,st)||!ql(br,ir)||!ob(br),ub=!br&&jl(function(e){return new HE(Ri,{detail:e}).detail}),ze=jl(br)||ub,Ti=i(function(e){throw new ir("Uncloneable type: "+e,it)},"throwUncloneable"),se=i(function(e,r){throw new ir((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",it)},"throwUnpolyfillable"),cb=i(function(){var e;try{e=new H.DataTransfer}catch{try{e=new H.ClipboardEvent("").clipboardData}catch{}}return e&&e.items&&e.files?e:null},"createDataTransfer"),oe=i(function(e,r){if(NE(e)&&Ti("Symbol"),!Oi(e))return e;if(r){if(Nl(r,e))return XE(r,e)}else r=new Ii;var t=Dl(e),a=!1,s,p,c,S,y,E,g,A,m,T,C;switch(t){case"Array":c=UE(yn(e)),a=!0;break;case"Object":c={},a=!0;break;case"Map":c=new Ii,a=!0;break;case"Set":c=new QE,a=!0;break;case"RegExp":c=new RegExp(e.source,LE(e));break;case"Error":switch(p=e.name,p){case"AggregateError":c=wi("AggregateError")([]);break;case"EvalError":c=kE();break;case"RangeError":c=$E();break;case"ReferenceError":c=KE();break;case"SyntaxError":c=GE();break;case"TypeError":c=Pl();break;case"URIError":c=zE();break;case"CompileError":c=YE();break;case"LinkError":c=WE();break;case"RuntimeError":c=JE();break;default:c=st()}a=!0;break;case"DOMException":c=new ir(e.message,e.name),a=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s=H[t],Oi(s)||se(t),c=new s(oe(e.buffer,r),e.byteOffset,t==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{c=new DOMQuad(oe(e.p1,r),oe(e.p2,r),oe(e.p3,r),oe(e.p4,r))}catch{ze?c=ze(e):se(t)}break;case"FileList":if(S=cb(),S){for(y=0,E=yn(e);y<E;y++)S.items.add(oe(e[y],r));c=S.files}else ze?c=ze(e):se(t);break;case"ImageData":try{c=new ImageData(oe(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch{ze?c=ze(e):se(t)}break;default:if(ze)c=ze(e);else switch(t){case"BigInt":c=at(e.valueOf());break;case"Boolean":c=at(tb(e));break;case"Number":c=at(nb(e));break;case"String":c=at(ab(e));break;case"Date":c=new Cl(ib(e));break;case"ArrayBuffer":s=H.DataView,!s&&typeof e.slice!="function"&&se(t);try{if(typeof e.slice=="function"&&!e.resizable)c=e.slice(0);else for(E=e.byteLength,C=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,c=new ArrayBuffer(E,C),m=new s(e),T=new s(c),y=0;y<E;y++)T.setUint8(y,m.getUint8(y))}catch{throw new ir("ArrayBuffer is detached",it)}break;case"SharedArrayBuffer":c=e;break;case"Blob":try{c=e.slice(0,e.size,e.type)}catch{se(t)}break;case"DOMPoint":case"DOMPointReadOnly":s=H[t];try{c=s.fromPoint?s.fromPoint(e):new s(e.x,e.y,e.z,e.w)}catch{se(t)}break;case"DOMRect":case"DOMRectReadOnly":s=H[t];try{c=s.fromRect?s.fromRect(e):new s(e.x,e.y,e.width,e.height)}catch{se(t)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=H[t];try{c=s.fromMatrix?s.fromMatrix(e):new s(e)}catch{se(t)}break;case"AudioData":case"VideoFrame":pn(e.clone)||se(t);try{c=e.clone()}catch{Ti(t)}break;case"File":try{c=new File([e],e.name,e)}catch{se(t)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":se(t);default:Ti(t)}}if(hn(r,e,c),a)switch(t){case"Array":case"Object":for(g=eb(e),y=0,E=yn(g);y<E;y++)A=g[y],BE(c,A,oe(e[A],r));break;case"Map":e.forEach(function(x,G){hn(c,oe(G,r),oe(x,r))});break;case"Set":e.forEach(function(x){ZE(c,oe(x,r))});break;case"Error":bi(c,"message",oe(e.message,r)),ME(e,"cause")&&bi(c,"cause",oe(e.cause,r)),p=="AggregateError"&&(c.errors=oe(e.errors,r));case"DOMException":FE&&bi(c,"stack",oe(e.stack,r))}return c},"structuredCloneInternal"),fb=i(function(e,r){if(!Oi(e))throw Pl("Transfer option cannot be converted to a sequence");var t=[];jE(e,function(m){rb(t,Al(m))});var a=0,s=yn(t),p,c,S,y,E,g,A;if(xl)for(y=br(t,{transfer:t});a<s;)hn(r,t[a],y[a++]);else for(;a<s;){if(p=t[a++],Nl(r,p))throw new ir("Duplicate transferable",it);switch(c=Dl(p),c){case"ImageBitmap":S=H.OffscreenCanvas,CE(S)||se(c,dn);try{g=new S(p.width,p.height),A=g.getContext("bitmaprenderer"),A.transferFromImageBitmap(p),E=g.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!pn(p.clone)||!pn(p.close))&&se(c,dn);try{E=p.clone(),p.close()}catch{}break;case"ArrayBuffer":pn(p.transfer)||se(c,dn),E=p.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":se(c,dn)}if(E===void 0)throw new ir("This object cannot be transferred: "+c,it);hn(r,p,E)}},"tryToTransfer");_E({global:!0,enumerable:!0,sham:!xl,forced:sb},{structuredClone:i(function(r){var t=VE(arguments.length,1)>1&&!PE(arguments[1])?Al(arguments[1]):void 0,a=t?t.transfer:void 0,s;return a!==void 0&&(s=new Ii,fb(a,s)),oe(r,s)},"structuredClone")})});var Vl=d((yR,Bl)=>{var lb=ce();Bl.exports=lb});var Fl=d((hR,Ll)=>{mu();yc();mc();Ec();wf();Af();zf();Zf();rl();Ml();var vb=Vl();Ll.exports=vb.structuredClone});var kl=d((mR,Ul)=>{var db=Fl();Ul.exports=db});var Di=d(($l,Ai)=>{(function(e){if(typeof $l=="object"&&typeof Ai<"u")Ai.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return i(function a(s,p,c){function S(g,A){if(!p[g]){if(!s[g]){var m=typeof Pr=="function"&&Pr;if(!A&&m)return m(g,!0);if(y)return y(g,!0);var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}var C=p[g]={exports:{}};s[g][0].call(C.exports,function(x){var G=s[g][1][x];return S(G||x)},C,C.exports,a,s,p,c)}return p[g].exports}i(S,"s");for(var y=typeof Pr=="function"&&Pr,E=0;E<c.length;E++)S(c[E]);return S},"e")({1:[function(a,s,p){(function(c){"use strict";var S=c.MutationObserver||c.WebKitMutationObserver,y;if(S){var E=0,g=new S(x),A=c.document.createTextNode("");g.observe(A,{characterData:!0}),y=i(function(){A.data=E=++E%2},"scheduleDrain")}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var m=new c.MessageChannel;m.port1.onmessage=x,y=i(function(){m.port2.postMessage(0)},"scheduleDrain")}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?y=i(function(){var P=c.document.createElement("script");P.onreadystatechange=function(){x(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},c.document.documentElement.appendChild(P)},"scheduleDrain"):y=i(function(){setTimeout(x,0)},"scheduleDrain");var T,C=[];function x(){T=!0;for(var P,N,V=C.length;V;){for(N=C,C=[],P=-1;++P<V;)N[P]();V=C.length}T=!1}i(x,"nextTick"),s.exports=G;function G(P){C.push(P)===1&&!T&&y()}i(G,"immediate")}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,s,p){"use strict";var c=a(1);function S(){}i(S,"INTERNAL");var y={},E=["REJECTED"],g=["FULFILLED"],A=["PENDING"];s.exports=m;function m(q){if(typeof q!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,q!==S&&G(this,q)}i(m,"Promise"),m.prototype.catch=function(q){return this.then(null,q)},m.prototype.then=function(q,L){if(typeof q!="function"&&this.state===g||typeof L!="function"&&this.state===E)return this;var M=new this.constructor(S);if(this.state!==A){var k=this.state===g?q:L;C(M,k,this.outcome)}else this.queue.push(new T(M,q,L));return M};function T(q,L,M){this.promise=q,typeof L=="function"&&(this.onFulfilled=L,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}i(T,"QueueItem"),T.prototype.callFulfilled=function(q){y.resolve(this.promise,q)},T.prototype.otherCallFulfilled=function(q){C(this.promise,this.onFulfilled,q)},T.prototype.callRejected=function(q){y.reject(this.promise,q)},T.prototype.otherCallRejected=function(q){C(this.promise,this.onRejected,q)};function C(q,L,M){c(function(){var k;try{k=L(M)}catch(ne){return y.reject(q,ne)}k===q?y.reject(q,new TypeError("Cannot resolve promise with itself")):y.resolve(q,k)})}i(C,"unwrap"),y.resolve=function(q,L){var M=P(x,L);if(M.status==="error")return y.reject(q,M.value);var k=M.value;if(k)G(q,k);else{q.state=g,q.outcome=L;for(var ne=-1,ve=q.queue.length;++ne<ve;)q.queue[ne].callFulfilled(L)}return q},y.reject=function(q,L){q.state=E,q.outcome=L;for(var M=-1,k=q.queue.length;++M<k;)q.queue[M].callRejected(L);return q};function x(q){var L=q&&q.then;if(q&&(typeof q=="object"||typeof q=="function")&&typeof L=="function")return i(function(){L.apply(q,arguments)},"appyThen")}i(x,"getThen");function G(q,L){var M=!1;function k(me){M||(M=!0,y.reject(q,me))}i(k,"onError");function ne(me){M||(M=!0,y.resolve(q,me))}i(ne,"onSuccess");function ve(){L(ne,k)}i(ve,"tryToUnwrap");var he=P(ve);he.status==="error"&&k(he.value)}i(G,"safelyResolveThenable");function P(q,L){var M={};try{M.value=q(L),M.status="success"}catch(k){M.status="error",M.value=k}return M}i(P,"tryCatch"),m.resolve=N;function N(q){return q instanceof this?q:y.resolve(new this(S),q)}i(N,"resolve"),m.reject=V;function V(q){var L=new this(S);return y.reject(L,q)}i(V,"reject"),m.all=te;function te(q){var L=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=q.length,k=!1;if(!M)return this.resolve([]);for(var ne=new Array(M),ve=0,he=-1,me=new this(S);++he<M;)Ae(q[he],he);return me;function Ae(_r,ht){L.resolve(_r).then(Sn,function(vr){k||(k=!0,y.reject(me,vr))});function Sn(vr){ne[ht]=vr,++ve===M&&!k&&(k=!0,y.resolve(me,ne))}i(Sn,"resolveFromAll")}}i(te,"all"),m.race=qe;function qe(q){var L=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=q.length,k=!1;if(!M)return this.resolve([]);for(var ne=-1,ve=new this(S);++ne<M;)he(q[ne]);return ve;function he(me){L.resolve(me).then(function(Ae){k||(k=!0,y.resolve(ve,Ae))},function(Ae){k||(k=!0,y.reject(ve,Ae))})}}i(qe,"race")},{"1":1}],3:[function(a,s,p){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"2":2}],4:[function(a,s,p){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function S(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}i(S,"_classCallCheck");function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}i(y,"getIDB");var E=y();function g(){try{if(!E||!E.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),u=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||u)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}i(g,"isIndexedDBValid");function A(n,u){n=n||[],u=u||{};try{return new Blob(n,u)}catch(f){if(f.name!=="TypeError")throw f;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,l=new o,v=0;v<n.length;v+=1)l.append(n[v]);return l.getBlob(u.type)}}i(A,"createBlob"),typeof Promise>"u"&&a(3);var m=Promise;function T(n,u){u&&n.then(function(o){u(null,o)},function(o){u(o)})}i(T,"executeCallback");function C(n,u,o){typeof u=="function"&&n.then(u),typeof o=="function"&&n.catch(o)}i(C,"executeTwoCallbacks");function x(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}i(x,"normalizeKey");function G(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}i(G,"getCallback");var P="local-forage-detect-blob-support",N=void 0,V={},te=Object.prototype.toString,qe="readonly",q="readwrite";function L(n){for(var u=n.length,o=new ArrayBuffer(u),l=new Uint8Array(o),v=0;v<u;v++)l[v]=n.charCodeAt(v);return o}i(L,"_binStringToArrayBuffer");function M(n){return new m(function(u){var o=n.transaction(P,q),l=A([""]);o.objectStore(P).put(l,"key"),o.onabort=function(v){v.preventDefault(),v.stopPropagation(),u(!1)},o.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);u(f||!v||parseInt(v[1],10)>=43)}}).catch(function(){return!1})}i(M,"_checkBlobSupportWithoutCaching");function k(n){return typeof N=="boolean"?m.resolve(N):M(n).then(function(u){return N=u,N})}i(k,"_checkBlobSupport");function ne(n){var u=V[n.name],o={};o.promise=new m(function(l,v){o.resolve=l,o.reject=v}),u.deferredOperations.push(o),u.dbReady?u.dbReady=u.dbReady.then(function(){return o.promise}):u.dbReady=o.promise}i(ne,"_deferReadiness");function ve(n){var u=V[n.name],o=u.deferredOperations.pop();if(o)return o.resolve(),o.promise}i(ve,"_advanceReadiness");function he(n,u){var o=V[n.name],l=o.deferredOperations.pop();if(l)return l.reject(u),l.promise}i(he,"_rejectReadiness");function me(n,u){return new m(function(o,l){if(V[n.name]=V[n.name]||ji(),n.db)if(u)ne(n),n.db.close();else return o(n.db);var v=[n.name];u&&v.push(n.version);var f=E.open.apply(E,v);u&&(f.onupgradeneeded=function(h){var b=f.result;try{b.createObjectStore(n.storeName),h.oldVersion<=1&&b.createObjectStore(P)}catch(O){if(O.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+h.oldVersion+" to version "+h.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw O}}),f.onerror=function(h){h.preventDefault(),l(f.error)},f.onsuccess=function(){var h=f.result;h.onversionchange=function(b){b.target.close()},o(h),ve(n)}})}i(me,"_getConnection");function Ae(n){return me(n,!1)}i(Ae,"_getOriginalConnection");function _r(n){return me(n,!0)}i(_r,"_getUpgradedConnection");function ht(n,u){if(!n.db)return!0;var o=!n.db.objectStoreNames.contains(n.storeName),l=n.version<n.db.version,v=n.version>n.db.version;if(l&&(n.version!==u&&console.warn('The database "'+n.name+`" can't be downgraded from version `+n.db.version+" to version "+n.version+"."),n.version=n.db.version),v||o){if(o){var f=n.db.version+1;f>n.version&&(n.version=f)}return!0}return!1}i(ht,"_isUpgradeNeeded");function Sn(n){return new m(function(u,o){var l=new FileReader;l.onerror=o,l.onloadend=function(v){var f=btoa(v.target.result||"");u({__local_forage_encoded_blob:!0,data:f,type:n.type})},l.readAsBinaryString(n)})}i(Sn,"_encodeBlob");function vr(n){var u=L(atob(n.data));return A([u],{type:n.type})}i(vr,"_decodeBlob");function Ni(n){return n&&n.__local_forage_encoded_blob}i(Ni,"_isEncodedBlob");function Hl(n){var u=this,o=u._initReady().then(function(){var l=V[u._dbInfo.name];if(l&&l.dbReady)return l.dbReady});return C(o,n,n),o}i(Hl,"_fullyReady");function Yl(n){ne(n);for(var u=V[n.name],o=u.forages,l=0;l<o.length;l++){var v=o[l];v._dbInfo.db&&(v._dbInfo.db.close(),v._dbInfo.db=null)}return n.db=null,Ae(n).then(function(f){return n.db=f,ht(n)?_r(n):f}).then(function(f){n.db=u.db=f;for(var h=0;h<o.length;h++)o[h]._dbInfo.db=f}).catch(function(f){throw he(n,f),f})}i(Yl,"_tryReconnect");function De(n,u,o,l){l===void 0&&(l=1);try{var v=n.db.transaction(n.storeName,u);o(null,v)}catch(f){if(l>0&&(!n.db||f.name==="InvalidStateError"||f.name==="NotFoundError"))return m.resolve().then(function(){if(!n.db||f.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),_r(n)}).then(function(){return Yl(n).then(function(){De(n,u,o,l-1)})}).catch(o);o(f)}}i(De,"createTransaction");function ji(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}i(ji,"createDbContext");function Wl(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=n[l];var v=V[o.name];v||(v=ji(),V[o.name]=v),v.forages.push(u),u._initReady||(u._initReady=u.ready,u.ready=Hl);var f=[];function h(){return m.resolve()}i(h,"ignoreErrors");for(var b=0;b<v.forages.length;b++){var O=v.forages[b];O!==u&&f.push(O._initReady().catch(h))}var I=v.forages.slice(0);return m.all(f).then(function(){return o.db=v.db,Ae(o)}).then(function(R){return o.db=R,ht(o,u._defaultConfig.version)?_r(o):R}).then(function(R){o.db=v.db=R,u._dbInfo=o;for(var D=0;D<I.length;D++){var j=I[D];j!==u&&(j._dbInfo.db=o.db,j._dbInfo.version=o.version)}})}i(Wl,"_initStorage");function Jl(n,u){var o=this;n=x(n);var l=new m(function(v,f){o.ready().then(function(){De(o._dbInfo,qe,function(h,b){if(h)return f(h);try{var O=b.objectStore(o._dbInfo.storeName),I=O.get(n);I.onsuccess=function(){var R=I.result;R===void 0&&(R=null),Ni(R)&&(R=vr(R)),v(R)},I.onerror=function(){f(I.error)}}catch(R){f(R)}})}).catch(f)});return T(l,u),l}i(Jl,"getItem");function Xl(n,u){var o=this,l=new m(function(v,f){o.ready().then(function(){De(o._dbInfo,qe,function(h,b){if(h)return f(h);try{var O=b.objectStore(o._dbInfo.storeName),I=O.openCursor(),R=1;I.onsuccess=function(){var D=I.result;if(D){var j=D.value;Ni(j)&&(j=vr(j));var F=n(j,D.key,R++);F!==void 0?v(F):D.continue()}else v()},I.onerror=function(){f(I.error)}}catch(D){f(D)}})}).catch(f)});return T(l,u),l}i(Xl,"iterate");function Ql(n,u,o){var l=this;n=x(n);var v=new m(function(f,h){var b;l.ready().then(function(){return b=l._dbInfo,te.call(u)==="[object Blob]"?k(b.db).then(function(O){return O?u:Sn(u)}):u}).then(function(O){De(l._dbInfo,q,function(I,R){if(I)return h(I);try{var D=R.objectStore(l._dbInfo.storeName);O===null&&(O=void 0);var j=D.put(O,n);R.oncomplete=function(){O===void 0&&(O=null),f(O)},R.onabort=R.onerror=function(){var F=j.error?j.error:j.transaction.error;h(F)}}catch(F){h(F)}})}).catch(h)});return T(v,o),v}i(Ql,"setItem");function Zl(n,u){var o=this;n=x(n);var l=new m(function(v,f){o.ready().then(function(){De(o._dbInfo,q,function(h,b){if(h)return f(h);try{var O=b.objectStore(o._dbInfo.storeName),I=O.delete(n);b.oncomplete=function(){v()},b.onerror=function(){f(I.error)},b.onabort=function(){var R=I.error?I.error:I.transaction.error;f(R)}}catch(R){f(R)}})}).catch(f)});return T(l,u),l}i(Zl,"removeItem");function ev(n){var u=this,o=new m(function(l,v){u.ready().then(function(){De(u._dbInfo,q,function(f,h){if(f)return v(f);try{var b=h.objectStore(u._dbInfo.storeName),O=b.clear();h.oncomplete=function(){l()},h.onabort=h.onerror=function(){var I=O.error?O.error:O.transaction.error;v(I)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(ev,"clear");function rv(n){var u=this,o=new m(function(l,v){u.ready().then(function(){De(u._dbInfo,qe,function(f,h){if(f)return v(f);try{var b=h.objectStore(u._dbInfo.storeName),O=b.count();O.onsuccess=function(){l(O.result)},O.onerror=function(){v(O.error)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(rv,"length");function tv(n,u){var o=this,l=new m(function(v,f){if(n<0){v(null);return}o.ready().then(function(){De(o._dbInfo,qe,function(h,b){if(h)return f(h);try{var O=b.objectStore(o._dbInfo.storeName),I=!1,R=O.openKeyCursor();R.onsuccess=function(){var D=R.result;if(!D){v(null);return}n===0||I?v(D.key):(I=!0,D.advance(n))},R.onerror=function(){f(R.error)}}catch(D){f(D)}})}).catch(f)});return T(l,u),l}i(tv,"key");function nv(n){var u=this,o=new m(function(l,v){u.ready().then(function(){De(u._dbInfo,qe,function(f,h){if(f)return v(f);try{var b=h.objectStore(u._dbInfo.storeName),O=b.openKeyCursor(),I=[];O.onsuccess=function(){var R=O.result;if(!R){l(I);return}I.push(R.key),R.continue()},O.onerror=function(){v(O.error)}}catch(R){v(R)}})}).catch(v)});return T(o,n),o}i(nv,"keys");function av(n,u){u=G.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;if(!n.name)v=m.reject("Invalid arguments");else{var f=n.name===o.name&&l._dbInfo.db,h=f?m.resolve(l._dbInfo.db):Ae(n).then(function(b){var O=V[n.name],I=O.forages;O.db=b;for(var R=0;R<I.length;R++)I[R]._dbInfo.db=b;return b});n.storeName?v=h.then(function(b){if(!!b.objectStoreNames.contains(n.storeName)){var O=b.version+1;ne(n);var I=V[n.name],R=I.forages;b.close();for(var D=0;D<R.length;D++){var j=R[D];j._dbInfo.db=null,j._dbInfo.version=O}var F=new m(function(U,Q){var J=E.open(n.name,O);J.onerror=function(ge){var Cr=J.result;Cr.close(),Q(ge)},J.onupgradeneeded=function(){var ge=J.result;ge.deleteObjectStore(n.storeName)},J.onsuccess=function(){var ge=J.result;ge.close(),U(ge)}});return F.then(function(U){I.db=U;for(var Q=0;Q<R.length;Q++){var J=R[Q];J._dbInfo.db=U,ve(J._dbInfo)}}).catch(function(U){throw(he(n,U)||m.resolve()).catch(function(){}),U})}}):v=h.then(function(b){ne(n);var O=V[n.name],I=O.forages;b.close();for(var R=0;R<I.length;R++){var D=I[R];D._dbInfo.db=null}var j=new m(function(F,U){var Q=E.deleteDatabase(n.name);Q.onerror=function(){var J=Q.result;J&&J.close(),U(Q.error)},Q.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},Q.onsuccess=function(){var J=Q.result;J&&J.close(),F(J)}});return j.then(function(F){O.db=F;for(var U=0;U<I.length;U++){var Q=I[U];ve(Q._dbInfo)}}).catch(function(F){throw(he(n,F)||m.resolve()).catch(function(){}),F})})}return T(v,u),v}i(av,"dropInstance");var iv={_driver:"asyncStorage",_initStorage:Wl,_support:g(),iterate:Xl,getItem:Jl,setItem:Ql,removeItem:Zl,clear:ev,length:rv,key:tv,keys:nv,dropInstance:av};function ov(){return typeof openDatabase=="function"}i(ov,"isWebSQLValid");var Fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",sv="~~local_forage_type~",Mi=/^~~local_forage_type~([^~]+)~/,mt="__lfsc__:",En=mt.length,bn="arbf",Tn="blob",Bi="si08",Vi="ui08",Li="uic8",Fi="si16",Ui="si32",ki="ur16",$i="ui32",Ki="fl32",Gi="fl64",zi=En+bn.length,Hi=Object.prototype.toString;function Yi(n){var u=n.length*.75,o=n.length,l,v=0,f,h,b,O;n[n.length-1]==="="&&(u--,n[n.length-2]==="="&&u--);var I=new ArrayBuffer(u),R=new Uint8Array(I);for(l=0;l<o;l+=4)f=Fe.indexOf(n[l]),h=Fe.indexOf(n[l+1]),b=Fe.indexOf(n[l+2]),O=Fe.indexOf(n[l+3]),R[v++]=f<<2|h>>4,R[v++]=(h&15)<<4|b>>2,R[v++]=(b&3)<<6|O&63;return I}i(Yi,"stringToBuffer");function On(n){var u=new Uint8Array(n),o="",l;for(l=0;l<u.length;l+=3)o+=Fe[u[l]>>2],o+=Fe[(u[l]&3)<<4|u[l+1]>>4],o+=Fe[(u[l+1]&15)<<2|u[l+2]>>6],o+=Fe[u[l+2]&63];return u.length%3===2?o=o.substring(0,o.length-1)+"=":u.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}i(On,"bufferToString");function uv(n,u){var o="";if(n&&(o=Hi.call(n)),n&&(o==="[object ArrayBuffer]"||n.buffer&&Hi.call(n.buffer)==="[object ArrayBuffer]")){var l,v=mt;n instanceof ArrayBuffer?(l=n,v+=bn):(l=n.buffer,o==="[object Int8Array]"?v+=Bi:o==="[object Uint8Array]"?v+=Vi:o==="[object Uint8ClampedArray]"?v+=Li:o==="[object Int16Array]"?v+=Fi:o==="[object Uint16Array]"?v+=ki:o==="[object Int32Array]"?v+=Ui:o==="[object Uint32Array]"?v+=$i:o==="[object Float32Array]"?v+=Ki:o==="[object Float64Array]"?v+=Gi:u(new Error("Failed to get type for BinaryArray"))),u(v+On(l))}else if(o==="[object Blob]"){var f=new FileReader;f.onload=function(){var h=sv+n.type+"~"+On(this.result);u(mt+Tn+h)},f.readAsArrayBuffer(n)}else try{u(JSON.stringify(n))}catch(h){console.error("Couldn't convert value into a JSON string: ",n),u(null,h)}}i(uv,"serialize");function cv(n){if(n.substring(0,En)!==mt)return JSON.parse(n);var u=n.substring(zi),o=n.substring(En,zi),l;if(o===Tn&&Mi.test(u)){var v=u.match(Mi);l=v[1],u=u.substring(v[0].length)}var f=Yi(u);switch(o){case bn:return f;case Tn:return A([f],{type:l});case Bi:return new Int8Array(f);case Vi:return new Uint8Array(f);case Li:return new Uint8ClampedArray(f);case Fi:return new Int16Array(f);case ki:return new Uint16Array(f);case Ui:return new Int32Array(f);case $i:return new Uint32Array(f);case Ki:return new Float32Array(f);case Gi:return new Float64Array(f);default:throw new Error("Unkown type: "+o)}}i(cv,"deserialize");var In={serialize:uv,deserialize:cv,stringToBuffer:Yi,bufferToString:On};function Wi(n,u,o,l){n.executeSql("CREATE TABLE IF NOT EXISTS "+u.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,l)}i(Wi,"createDbTable");function fv(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=typeof n[l]!="string"?n[l].toString():n[l];var v=new m(function(f,h){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(b){return h(b)}o.db.transaction(function(b){Wi(b,o,function(){u._dbInfo=o,f()},function(O,I){h(I)})},h)});return o.serializer=In,v}i(fv,"_initStorage$1");function Ue(n,u,o,l,v,f){n.executeSql(o,l,v,function(h,b){b.code===b.SYNTAX_ERR?h.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[u.storeName],function(O,I){I.rows.length?f(O,b):Wi(O,u,function(){O.executeSql(o,l,v,f)},f)},f):f(h,b)},f)}i(Ue,"tryExecuteSql");function lv(n,u){var o=this;n=x(n);var l=new m(function(v,f){o.ready().then(function(){var h=o._dbInfo;h.db.transaction(function(b){Ue(b,h,"SELECT * FROM "+h.storeName+" WHERE key = ? LIMIT 1",[n],function(O,I){var R=I.rows.length?I.rows.item(0).value:null;R&&(R=h.serializer.deserialize(R)),v(R)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(lv,"getItem$1");function vv(n,u){var o=this,l=new m(function(v,f){o.ready().then(function(){var h=o._dbInfo;h.db.transaction(function(b){Ue(b,h,"SELECT * FROM "+h.storeName,[],function(O,I){for(var R=I.rows,D=R.length,j=0;j<D;j++){var F=R.item(j),U=F.value;if(U&&(U=h.serializer.deserialize(U)),U=n(U,F.key,j+1),U!==void 0){v(U);return}}v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(vv,"iterate$1");function Ji(n,u,o,l){var v=this;n=x(n);var f=new m(function(h,b){v.ready().then(function(){u===void 0&&(u=null);var O=u,I=v._dbInfo;I.serializer.serialize(u,function(R,D){D?b(D):I.db.transaction(function(j){Ue(j,I,"INSERT OR REPLACE INTO "+I.storeName+" (key, value) VALUES (?, ?)",[n,R],function(){h(O)},function(F,U){b(U)})},function(j){if(j.code===j.QUOTA_ERR){if(l>0){h(Ji.apply(v,[n,O,o,l-1]));return}b(j)}})})}).catch(b)});return T(f,o),f}i(Ji,"_setItem");function dv(n,u,o){return Ji.apply(this,[n,u,o,1])}i(dv,"setItem$1");function pv(n,u){var o=this;n=x(n);var l=new m(function(v,f){o.ready().then(function(){var h=o._dbInfo;h.db.transaction(function(b){Ue(b,h,"DELETE FROM "+h.storeName+" WHERE key = ?",[n],function(){v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(pv,"removeItem$1");function yv(n){var u=this,o=new m(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(h){Ue(h,f,"DELETE FROM "+f.storeName,[],function(){l()},function(b,O){v(O)})})}).catch(v)});return T(o,n),o}i(yv,"clear$1");function hv(n){var u=this,o=new m(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(h){Ue(h,f,"SELECT COUNT(key) as c FROM "+f.storeName,[],function(b,O){var I=O.rows.item(0).c;l(I)},function(b,O){v(O)})})}).catch(v)});return T(o,n),o}i(hv,"length$1");function mv(n,u){var o=this,l=new m(function(v,f){o.ready().then(function(){var h=o._dbInfo;h.db.transaction(function(b){Ue(b,h,"SELECT key FROM "+h.storeName+" WHERE id = ? LIMIT 1",[n+1],function(O,I){var R=I.rows.length?I.rows.item(0).key:null;v(R)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(mv,"key$1");function gv(n){var u=this,o=new m(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(h){Ue(h,f,"SELECT key FROM "+f.storeName,[],function(b,O){for(var I=[],R=0;R<O.rows.length;R++)I.push(O.rows.item(R).key);l(I)},function(b,O){v(O)})})}).catch(v)});return T(o,n),o}i(gv,"keys$1");function Sv(n){return new m(function(u,o){n.transaction(function(l){l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(v,f){for(var h=[],b=0;b<f.rows.length;b++)h.push(f.rows.item(b).name);u({db:n,storeNames:h})},function(v,f){o(f)})},function(l){o(l)})})}i(Sv,"getAllStoreNames");function Ev(n,u){u=G.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;return n.name?v=new m(function(f){var h;n.name===o.name?h=l._dbInfo.db:h=openDatabase(n.name,"","",0),n.storeName?f({db:h,storeNames:[n.storeName]}):f(Sv(h))}).then(function(f){return new m(function(h,b){f.db.transaction(function(O){function I(F){return new m(function(U,Q){O.executeSql("DROP TABLE IF EXISTS "+F,[],function(){U()},function(J,ge){Q(ge)})})}i(I,"dropTable");for(var R=[],D=0,j=f.storeNames.length;D<j;D++)R.push(I(f.storeNames[D]));m.all(R).then(function(){h()}).catch(function(F){b(F)})},function(O){b(O)})})}):v=m.reject("Invalid arguments"),T(v,u),v}i(Ev,"dropInstance$1");var bv={_driver:"webSQLStorage",_initStorage:fv,_support:ov(),iterate:vv,getItem:lv,setItem:dv,removeItem:pv,clear:yv,length:hv,key:mv,keys:gv,dropInstance:Ev};function Tv(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}i(Tv,"isLocalStorageValid");function Xi(n,u){var o=n.name+"/";return n.storeName!==u.storeName&&(o+=n.storeName+"/"),o}i(Xi,"_getKeyPrefix");function Ov(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch{return!0}}i(Ov,"checkIfLocalStorageThrows");function Iv(){return!Ov()||localStorage.length>0}i(Iv,"_isLocalStorageUsable");function Rv(n){var u=this,o={};if(n)for(var l in n)o[l]=n[l];return o.keyPrefix=Xi(n,u._defaultConfig),Iv()?(u._dbInfo=o,o.serializer=In,m.resolve()):m.reject()}i(Rv,"_initStorage$2");function wv(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo.keyPrefix,v=localStorage.length-1;v>=0;v--){var f=localStorage.key(v);f.indexOf(l)===0&&localStorage.removeItem(f)}});return T(o,n),o}i(wv,"clear$2");function qv(n,u){var o=this;n=x(n);var l=o.ready().then(function(){var v=o._dbInfo,f=localStorage.getItem(v.keyPrefix+n);return f&&(f=v.serializer.deserialize(f)),f});return T(l,u),l}i(qv,"getItem$2");function Av(n,u){var o=this,l=o.ready().then(function(){for(var v=o._dbInfo,f=v.keyPrefix,h=f.length,b=localStorage.length,O=1,I=0;I<b;I++){var R=localStorage.key(I);if(R.indexOf(f)===0){var D=localStorage.getItem(R);if(D&&(D=v.serializer.deserialize(D)),D=n(D,R.substring(h),O++),D!==void 0)return D}}});return T(l,u),l}i(Av,"iterate$2");function Dv(n,u){var o=this,l=o.ready().then(function(){var v=o._dbInfo,f;try{f=localStorage.key(n)}catch{f=null}return f&&(f=f.substring(v.keyPrefix.length)),f});return T(l,u),l}i(Dv,"key$2");function _v(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo,v=localStorage.length,f=[],h=0;h<v;h++){var b=localStorage.key(h);b.indexOf(l.keyPrefix)===0&&f.push(b.substring(l.keyPrefix.length))}return f});return T(o,n),o}i(_v,"keys$2");function xv(n){var u=this,o=u.keys().then(function(l){return l.length});return T(o,n),o}i(xv,"length$2");function Cv(n,u){var o=this;n=x(n);var l=o.ready().then(function(){var v=o._dbInfo;localStorage.removeItem(v.keyPrefix+n)});return T(l,u),l}i(Cv,"removeItem$2");function Pv(n,u,o){var l=this;n=x(n);var v=l.ready().then(function(){u===void 0&&(u=null);var f=u;return new m(function(h,b){var O=l._dbInfo;O.serializer.serialize(u,function(I,R){if(R)b(R);else try{localStorage.setItem(O.keyPrefix+n,I),h(f)}catch(D){(D.name==="QuotaExceededError"||D.name==="NS_ERROR_DOM_QUOTA_REACHED")&&b(D),b(D)}})})});return T(v,o),v}i(Pv,"setItem$2");function Nv(n,u){if(u=G.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var o=this.config();n.name=n.name||o.name,n.storeName=n.storeName||o.storeName}var l=this,v;return n.name?v=new m(function(f){n.storeName?f(Xi(n,l._defaultConfig)):f(n.name+"/")}).then(function(f){for(var h=localStorage.length-1;h>=0;h--){var b=localStorage.key(h);b.indexOf(f)===0&&localStorage.removeItem(b)}}):v=m.reject("Invalid arguments"),T(v,u),v}i(Nv,"dropInstance$2");var jv={_driver:"localStorageWrapper",_initStorage:Rv,_support:Tv(),iterate:Av,getItem:qv,setItem:Pv,removeItem:Cv,clear:wv,length:xv,key:Dv,keys:_v,dropInstance:Nv},Mv=i(function(u,o){return u===o||typeof u=="number"&&typeof o=="number"&&isNaN(u)&&isNaN(o)},"sameValue"),Bv=i(function(u,o){for(var l=u.length,v=0;v<l;){if(Mv(u[v],o))return!0;v++}return!1},"includes"),Qi=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},xr={},Zi={},dr={INDEXEDDB:iv,WEBSQL:bv,LOCALSTORAGE:jv},Vv=[dr.INDEXEDDB._driver,dr.WEBSQL._driver,dr.LOCALSTORAGE._driver],gt=["dropInstance"],Rn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gt),Lv={description:"",driver:Vv.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Fv(n,u){n[u]=function(){var o=arguments;return n.ready().then(function(){return n[u].apply(n,o)})}}i(Fv,"callWhenReady");function wn(){for(var n=1;n<arguments.length;n++){var u=arguments[n];if(u)for(var o in u)u.hasOwnProperty(o)&&(Qi(u[o])?arguments[0][o]=u[o].slice():arguments[0][o]=u[o])}return arguments[0]}i(wn,"extend");var Uv=function(){function n(u){S(this,n);for(var o in dr)if(dr.hasOwnProperty(o)){var l=dr[o],v=l._driver;this[o]=v,xr[v]||this.defineDriver(l)}this._defaultConfig=wn({},Lv),this._config=wn({},this._defaultConfig,u),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i(n,"LocalForage"),n.prototype.config=i(function(o){if((typeof o>"u"?"undefined":c(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in o){if(l==="storeName"&&(o[l]=o[l].replace(/\W/g,"_")),l==="version"&&typeof o[l]!="number")return new Error("Database version must be a number.");this._config[l]=o[l]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},"config"),n.prototype.defineDriver=i(function(o,l,v){var f=new m(function(h,b){try{var O=o._driver,I=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){b(I);return}for(var R=Rn.concat("_initStorage"),D=0,j=R.length;D<j;D++){var F=R[D],U=!Bv(gt,F);if((U||o[F])&&typeof o[F]!="function"){b(I);return}}var Q=i(function(){for(var Cr=i(function(Kv){return function(){var Gv=new Error("Method "+Kv+" is not implemented by the current driver"),eo=m.reject(Gv);return T(eo,arguments[arguments.length-1]),eo}},"methodNotImplementedFactory"),qn=0,$v=gt.length;qn<$v;qn++){var An=gt[qn];o[An]||(o[An]=Cr(An))}},"configureMissingMethods");Q();var J=i(function(Cr){xr[O]&&console.info("Redefining LocalForage driver: "+O),xr[O]=o,Zi[O]=Cr,h()},"setDriverSupport");"_support"in o?o._support&&typeof o._support=="function"?o._support().then(J,b):J(!!o._support):J(!0)}catch(ge){b(ge)}});return C(f,l,v),f},"defineDriver"),n.prototype.driver=i(function(){return this._driver||null},"driver"),n.prototype.getDriver=i(function(o,l,v){var f=xr[o]?m.resolve(xr[o]):m.reject(new Error("Driver not found."));return C(f,l,v),f},"getDriver"),n.prototype.getSerializer=i(function(o){var l=m.resolve(In);return C(l,o),l},"getSerializer"),n.prototype.ready=i(function(o){var l=this,v=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return C(v,o,o),v},"ready"),n.prototype.setDriver=i(function(o,l,v){var f=this;Qi(o)||(o=[o]);var h=this._getSupportedDrivers(o);function b(){f._config.driver=f.driver()}i(b,"setDriverToConfig");function O(D){return f._extend(D),b(),f._ready=f._initStorage(f._config),f._ready}i(O,"extendSelfWithDriver");function I(D){return function(){var j=0;function F(){for(;j<D.length;){var U=D[j];return j++,f._dbInfo=null,f._ready=null,f.getDriver(U).then(O).catch(F)}b();var Q=new Error("No available storage method found.");return f._driverSet=m.reject(Q),f._driverSet}return i(F,"driverPromiseLoop"),F()}}i(I,"initDriver");var R=this._driverSet!==null?this._driverSet.catch(function(){return m.resolve()}):m.resolve();return this._driverSet=R.then(function(){var D=h[0];return f._dbInfo=null,f._ready=null,f.getDriver(D).then(function(j){f._driver=j._driver,b(),f._wrapLibraryMethodsWithReady(),f._initDriver=I(h)})}).catch(function(){b();var D=new Error("No available storage method found.");return f._driverSet=m.reject(D),f._driverSet}),C(this._driverSet,l,v),this._driverSet},"setDriver"),n.prototype.supports=i(function(o){return!!Zi[o]},"supports"),n.prototype._extend=i(function(o){wn(this,o)},"_extend"),n.prototype._getSupportedDrivers=i(function(o){for(var l=[],v=0,f=o.length;v<f;v++){var h=o[v];this.supports(h)&&l.push(h)}return l},"_getSupportedDrivers"),n.prototype._wrapLibraryMethodsWithReady=i(function(){for(var o=0,l=Rn.length;o<l;o++)Fv(this,Rn[o])},"_wrapLibraryMethodsWithReady"),n.prototype.createInstance=i(function(o){return new n(o)},"createInstance"),n}(),kv=new Uv;s.exports=kv},{"3":3}]},{},[4])(4)})});var ro=i(e=>e==null,"isNil");var to=i(e=>(typeof e=="string"||e instanceof String)&&e.trim()==="","isEmptyString");var no=i(()=>{let e=new Date().getTime(),r=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let a=Math.random()*16;return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(r+a)%16|0,r=Math.floor(r/16)),(t==="x"?a:a&3|8).toString(16)})},"generateUUID");var Se=i(e=>`${e}`=="[object Object]","isObjectLiteral");var ie=class{constructor(r,t,a){this.name=r;this.type=t;this.defaultValue=a}static getTypeName(r){if(Se(r))return"";let t,a=r instanceof B;try{a?t=r:(t=new r,t instanceof ie||(t=r))}catch{}return t.name}};i(ie,"CustomType");var X=class extends ie{constructor(){super("SchemaId",String,(()=>{try{return crypto.randomUUID()}catch{return no()}})())}};i(X,"SchemaId");var ao=i(e=>e===null||[B,X,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Object].some(r=>e instanceof r||typeof e===r.name.toLowerCase()),"isSupportedTypeValue");var Nr=i(class extends ie{constructor(){super("Null",null,null)}},"Null");Object.defineProperty(Nr,"name",{value:"Null"});var io=i((e,r)=>{if(e===Nr)return r===null;if(typeof r=="number"&&isNaN(r)||!r&&r===void 0)return!1;try{if(e instanceof B)return r===e||`${r}`=="[object Object]"&&e.getInvalidSchemaDataFields(r).length===0;let t=typeof r===e.name.toLowerCase();return(e[Symbol.hasInstance]?r instanceof e:t)||t}catch{return!1}},"isOfSupportedType");var _e=i((e,r)=>{try{if(r instanceof Array&&r.some(t=>!ao(t)))return!1;if(/ArrayOf/.test(e?.name)){let t=new e;return r instanceof Array&&!r.some(a=>!_e(t.type,a))}return/OneOf/.test(e?.name)?new e().type.some(t=>_e(t,r)):/SchemaId/.test(e?.name)?r instanceof X||typeof r=="string"&&/[0-9a-z]{8}-[0-9a-z]{4}-4[0-9a-z]{3}-[0-9a-z]{4}-[0-9a-z]{12}/.test(r):/Schema/.test(e?.name)?`${r}`=="[object Object]":/Null/.test(e?.name)?r===null:io(e,r)}catch{return!1}},"isSameValueType");var St=i(e=>{switch(e){case Number:return 0;case Boolean:return!1;case String:return"";case Array:case Float32Array:case Float64Array:case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:return new e;default:return/SchemaId|ArrayOf|OneOf|Null/.test(e.name)?new e().defaultValue:e instanceof B?Object.entries(e.toJSON()).reduce((r,[t,a])=>({...r,[t]:a.defaultValue}),{}):null}},"getDefaultValue");var Et=i(e=>{let r=(e||{name:""}).name;return/ArrayOf|OneOf|Null/.test(r)||[B,X,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array].some(t=>e===t)},"isSupportedType");var pr,ke=class{constructor(r,t=!1,a){this.type=r;this.required=t;this.defaultValue=a;$(this,pr,"");if(!(r instanceof B)&&!Et(r))throw new Error(`Invalid SchemaValue type provided. Received "${r?.name??new r()?.name}"`);if(ae(this,pr,this.type instanceof B?`Schema<${this.type.name}>`:/ArrayOf|OneOf|SchemaId|Null/.test(r.name)?new r().name:this.type.name),a!==void 0&&!_e(r,a))throw new Error(`Default value does not match type "${w(this,pr)}"`);this.defaultValue=a!==void 0?a instanceof ie||a instanceof X?a.defaultValue:a:St(this.type)}toJSON(){return{type:w(this,pr),required:this.required,defaultValue:this.defaultValue}}toString(){return JSON.stringify(this.toJSON(),null,4)}};i(ke,"SchemaValue"),pr=new WeakMap;var re,jr,xe=class{constructor(r,t=null){$(this,re,{});$(this,jr,void 0);if(ae(this,jr,r),t){for(let a in t)if(t.hasOwnProperty(a))if(t[a]instanceof ke)w(this,re)[a]=t[a];else throw new Error(`Field "${a}" is not a SchemaValue`)}}get name(){return w(this,jr)}defineField(r,t,{defaultValue:a,required:s}={}){w(this,re)[String(r)]=new ke(t,s,a)}removeField(r){if(r){let[t,...a]=String(r).split("."),s=w(this,re)[t];s&&(a.length?s.type instanceof xe&&s.type.removeField(a.join(".")):delete w(this,re)[t])}}hasField(r){if(r){let[t,...a]=String(r).split("."),s=w(this,re)[t];if(s)if(a.length){if(s.type instanceof xe)return s.type.hasField(a.join("."))}else return w(this,re).hasOwnProperty(t)}return!1}getField(r){if(r){let[t,...a]=String(r).split("."),s=w(this,re)[t];return s&&a.length&&s.type instanceof xe?s.type.getField(a.join(".")):s??null}return null}isValidFieldValue(r,t=null){let a=this.getField(String(r));return a?a.required?!ro(t)&&(a.type!==String||!to(t))&&_e(a.type,t):_e(a.type,t):!1}getInvalidSchemaDataFields(r,t=new Set){let a=new Set,s=Object.keys(w(this,re)).filter(c=>w(this,re)[c].required),p=[...Object.keys(r),...s];for(let c of p)if(!t.has(c)){let S=this.getField(c),y=r[c];if(/ArrayOf/.test(S?.type.name??""))if(y instanceof Array){let E=new S.type;if(E.type instanceof xe){y.forEach((g,A)=>{`${g}`=="[object Object]"?E.type.getInvalidSchemaDataFields(g).forEach(m=>{a.add(`${c}[${A}].${m}`)}):a.add(`${c}[${A}]`)});continue}}else{a.add(c);continue}if(/OneOf/.test(S?.type.name??"")){let g=new S.type().type.find(A=>A instanceof xe);g&&`${y}`=="[object Object]"?g.getInvalidSchemaDataFields(y).forEach(A=>{a.add(`${c}.${A}`)}):this.isValidFieldValue(c,y)||a.add(c);continue}if(S?.type instanceof xe){`${y}`=="[object Object]"?S.type.getInvalidSchemaDataFields(y).forEach(E=>{a.add(`${c}.${E}`)}):a.add(c);continue}this.isValidFieldValue(c,y)||a.add(c)}return Array.from(a)}toJSON(){let r={};for(let t in w(this,re))if(w(this,re).hasOwnProperty(t)){let a=w(this,re)[t];r[t]=a.toJSON()}return r}toString(){return JSON.stringify(this.toJSON(),null,4)}toValue(){let r=new Date,t={};for(let a in w(this,re))if(w(this,re).hasOwnProperty(a)){let s=w(this,re)[a];switch(!0){case s.type instanceof xe:t[a]=s.type.toValue();break;case s.type===X:t[a]=new X().defaultValue;break;case s.type===Date:t[a]=s.defaultValue instanceof Date?s.defaultValue:r;break;default:t[a]=s.defaultValue}}return t}},B=xe;i(B,"Schema"),re=new WeakMap,jr=new WeakMap;var bt=i(e=>{let r=null,t=e;switch(typeof e){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"object":if(e instanceof Date)return{type:Date,defaultValue:t};if(Array.isArray(e)){if(e.length){let{type:a}=bt(e[0]);if(e.every(s=>bt(s).type===a))return{type:Tt(a),defaultValue:e}}return{type:Array,defaultValue:t}}return ArrayBuffer.isView(e)?{type:e.constructor,defaultValue:t}:e instanceof ArrayBuffer?{type:ArrayBuffer,defaultValue:t}:e instanceof Blob?{type:Blob,defaultValue:t}:e instanceof B?{type:B,defaultValue:e.toValue()}:e instanceof X?{type:X,defaultValue:e.defaultValue}:`${e}`=="[object Object]"?{type:B,defaultValue:e}:{type:null,defaultValue:t};default:return Et(e)?{type:e,defaultValue:St(e)}:{type:null,defaultValue:t}}return{type:r,defaultValue:t}},"getSchemaTypeAndDefaultValueFromValue");var yr=i(e=>Se(e)&&Object.keys(e).length,"isValidObjectLiteral");var z={blankStoreName:()=>"ClientStore must have a non-blank name",invalidSchema:()=>'Invalid "Schema" instance or object',invalidSubHandler:e=>`Received invalid "subscribe" handler => ${e}`,invalidEventName:(e,r)=>`Received unknown ${e} "${r}" event`,invalidEventHandler:(e,r,t)=>`Received invalid ${e} "${r}" event handler => ${t}`,invalidValueProvided:(e,r)=>`Invalid "value" provided to ${e} item => ${r}`,invalidValueInterceptProvided:(e,r)=>`Invalid "value" returned via ${e} intercept handler - item => ${r}`,missingOrInvalidFields:(e,r)=>`Missing or invalid field types for "${e.join(", ")}" keys. Should be ${r.map((t,a)=>`[${e[a]}, ${t}]`).join(", ")}`};var Ze=i((e,r)=>{if(!yr(r))throw new Error(z.invalidSchema());let t=new B(e);return Object.entries(r).forEach(([a,s])=>{a=`${a}`;let p=a.startsWith("$");p&&(a=`${a}`.slice(1));let{type:c,defaultValue:S}=bt(s);if(!c)throw new Error(`Unsupported Schema Type => key: "${a}", type: "${s?.constructor?.name??typeof s}" (estimated)`);c===B&&`${S}`=="[object Object]"&&(c=Ze(a,S),S=void 0),t.defineField(a,c,{required:p,...S===null?{}:{defaultValue:S}})}),t},"objectToSchema");function Tt(e){let r=ie.getTypeName(e);Se(e)&&(e=Ze(r,e));let t=`Array<${e instanceof B?r?`Schema<${r}>`:"Schema":r}>`,a=i(class extends ie{constructor(){super(t,e,[])}},"CustomTypeConstructor");return Object.defineProperty(a,"name",{value:"ArrayOf"}),a}i(Tt,"ArrayOf");function oo(e,r){if(e.length<2)throw new Error("OneOf requires more than single type listed comma separated");if(e=e.map(s=>Se(s)?Ze("",s):s),!e.some(s=>_e(s,r)))throw new Error("Default value specified in OneOf is not of matching type.");let t=e.map(s=>{if(s.name==="OneOf")throw new Error('Cannot nest "OneOf" types');let p=ie.getTypeName(s);return s instanceof B?p?`Schema<${p}>`:"Schema":p}).join(" | "),a=i(class extends ie{constructor(){super(t,e,r)}},"CustomTypeConstructor");return Object.defineProperty(a,"name",{value:"OneOf"}),a}i(oo,"OneOf");var OR=_n(kl()),Ci=_n(Di());var Be=i((e,r)=>typeof r=="function"?r(null,e):Promise.resolve(e),"callBackOrPromise"),ut="Memory",_i={},xi=i(e=>`${e.storeName}-${e.name}-${e.version}`,"getMapKeyFromConfig"),He=i(({_config:e})=>_i[xi(e)]??{},"getMap"),Kl=i(()=>({_driver:ut,_initStorage(e){this._config=e,_i[xi(e)]=new Map},async clear(e){He(this).clear(),Be([],e)},async getItem(e,r){let t=He(this).get(e);return Be(t??null,r)||null},async iterate(e,r){let t=0,a;for(let[s,p]of He(this).entries()){if(a=e(p,s,t),a!==void 0)return Be(a,r);t+=1}return Be(null,r)},async key(e,r){let t=Array.from(He(this).keys());return Be(t[e],r)||""},async keys(e){let r=Array.from(He(this).keys());return Be(r,e)||[]},async length(e){return Be(He(this).size,e)||0},async removeItem(e,r){return He(this).delete(e),Be(e,r)},async setItem(e,r,t){return He(this).set(e,r),Be(r,t)},async dropInstance(){delete _i[xi(this._config)]}}),"MemoryStore");var Or=_n(Di());var Ye=(g=>(g.READY="ready",g.PROCESSING="processing",g.PROCESSING_EVENTS="processing-events",g.CREATED="created",g.LOADED="loaded",g.ERROR="error",g.ABORTED="aborted",g.REMOVED="removed",g.UPDATED="updated",g.CLEARED="cleared",g))(Ye||{}),Gl={LOCALSTORAGE:Or.LOCALSTORAGE,WEBSQL:Or.WEBSQL,INDEXEDDB:Or.INDEXEDDB,MEMORYSTORAGE:ut};var Ir={version:1,type:ut,description:"",appName:"App",idKeyName:"_id",createdDateKeyName:"_createdDate",updatedDateKeyName:"_lastUpdatedDate"};Ci.default.defineDriver(Kl());var ct=structuredClone,le,ye,lt,vt,Ar,We,sr,ur,dt,Ve,cr,ft,Le,or,K,Y,Je,Rr,Xe,wr,Dr,gn,Qe,qr,fr=class{constructor(r,t,a=Ir){$(this,cr);$(this,Le);$(this,K);$(this,Je);$(this,Xe);$(this,Dr);$(this,Qe);$(this,le,void 0);$(this,ye,void 0);$(this,lt,void 0);$(this,vt,void 0);$(this,Ar,new Set);$(this,We,new Map(Object.values(Ye).map(r=>[r,new Set])));$(this,sr,new Map(Object.values(Ye).map(r=>[r,null])));$(this,ur,null);$(this,dt,!1);$(this,Ve,new Set);if(ae(this,lt,r),ae(this,ye,{...Ir,...a}),!`${r}`.trim().length)throw new Error(z.blankStoreName());if(!(t instanceof B))if(`${t}`=="[object Object]")t=Ze(r,t);else throw new Error(z.invalidSchema());let s=w(this,ye).appName||"App";ae(this,vt,t),ae(this,le,Ci.default.createInstance({driver:w(this,ye).type,version:w(this,ye).version,description:w(this,ye).description,name:s,storeName:r})),w(this,le).ready(()=>{ae(this,dt,!0),_(this,K,Y).call(this,"ready",!0)})}get schema(){return w(this,vt)}get ready(){return w(this,dt)}get type(){return w(this,ye).type}get name(){return w(this,lt)}get appName(){return w(this,ye).appName}get processing(){return w(this,Ve).size>0}get idKeyName(){return w(this,ye).idKeyName||Ir.idKeyName}get createdDateKeyName(){return w(this,ye).createdDateKeyName||Ir.createdDateKeyName}get updatedDateKeyName(){return w(this,ye).updatedDateKeyName||Ir.updatedDateKeyName}get processingEvents(){return Array.from(w(this,Ve),r=>r.split("_")[0])}async size(){return await w(this,le).length()}subscribe(r){if(typeof r=="function")return w(this,Ar).add(r),()=>{w(this,Ar).delete(r)};throw new Error(z.invalidSubHandler(r))}on(r,t){if(typeof t=="function"){if(w(this,We).has(r))return w(this,We).get(r)?.add(t),()=>this.off(r,t);throw new Error(z.invalidEventName("ON",r))}throw new Error(z.invalidEventHandler("ON",r,t))}off(r,t){if(typeof t=="function"){if(w(this,We).has(r)){w(this,We).get(r)?.delete(t);return}throw new Error(z.invalidEventName("OFF",r))}throw new Error(z.invalidEventHandler("OFF",r,t))}beforeChange(r){if(typeof r=="function")ae(this,ur,r);else throw new Error(z.invalidEventHandler("function","beforeChange",r));return()=>{ae(this,ur,null)}}intercept(r,t){if(typeof t=="function"){if(w(this,sr).has(r))return w(this,sr).set(r,t),()=>{w(this,sr).set(r,null)};throw new Error(z.invalidEventName("INTERCEPT",r))}throw new Error(z.invalidEventHandler("INTERCEPT",r,t))}async loadItems(r=[]){return _(this,Qe,qr).call(this,"loaded",async()=>{try{let t=new Map,{key:a}=_(this,Dr,gn).call(this);for(let c of r){if(!yr(c))throw new Error(z.invalidValueProvided("load",c));let{item:S,id:y}=await _(this,cr,ft).call(this,c);_(this,Le,or).call(this,S,E=>z.missingOrInvalidFields(E,E.map(g=>this.schema.getField(g)??void 0))),t.set(y,S)}let s=await _(this,Xe,wr).call(this,"loaded",Array.from(t.values()));if(s===null)return _(this,K,Y).call(this,"aborted",{action:"loaded",data:r}),null;if(Array.isArray(s)&&s.length)for(let c of s){if(!Se(c))throw new Error(z.invalidValueInterceptProvided("load",c));let S=c[a];if(t.get(c[a]))t.set(c[a],ct({...t.get(c[a]),...c}));else{let{item:y,id:E}=await _(this,cr,ft).call(this,c);t.set(E,y),S=E}_(this,Le,or).call(this,t.get(S),y=>z.missingOrInvalidFields(y,y.map(E=>this.schema.getField(E)??void 0)))}let p=await Promise.all(Array.from(t.values()).map(c=>w(this,le).setItem(`${c[a]}`,c)));return _(this,K,Y).call(this,"loaded",p),p}catch(t){throw _(this,K,Y).call(this,"error",_(this,Je,Rr).call(this,"loaded",r,null,t)),t}})}async createItem(r){return _(this,Qe,qr).call(this,"created",async()=>{try{if(!yr(r))throw new Error(z.invalidValueProvided("create",r));_(this,Le,or).call(this,r,c=>z.missingOrInvalidFields(c,c.map(S=>this.schema.getField(S)??void 0)));let{item:t,id:a}=await _(this,cr,ft).call(this,r),s=await _(this,Xe,wr).call(this,"created",t,a);if(s===null)return _(this,K,Y).call(this,"aborted",{action:"created",data:r}),null;Se(s)&&(t=ct({...t,...s}),_(this,Le,or).call(this,t,c=>z.missingOrInvalidFields(c,c.map(S=>this.schema.getField(S)??void 0))));let p=await w(this,le).setItem(String(t[this.idKeyName]),t);return _(this,K,Y).call(this,"created",p),p}catch(t){throw _(this,K,Y).call(this,"error",_(this,Je,Rr).call(this,"created",r,null,t)),t}})}async updateItem(r,t){return _(this,Qe,qr).call(this,"updated",async()=>{try{if(!yr(t))throw new Error(z.invalidValueProvided("update",t));let a=ct(await this.getItem(r));if(a){let{item:s,id:p}=await _(this,cr,ft).call(this,t,a);_(this,Le,or).call(this,s,y=>z.missingOrInvalidFields(y,y.map(E=>this.schema.getField(E)??void 0)));let c=await _(this,Xe,wr).call(this,"updated",s,p);if(c===null)return _(this,K,Y).call(this,"aborted",{action:"updated",data:t}),null;Se(c)&&(s=ct(c),_(this,Le,or).call(this,s,y=>z.missingOrInvalidFields(y,y.map(E=>this.schema.getField(E)??void 0))));let S=await w(this,le).setItem(String(p),s);return _(this,K,Y).call(this,"updated",S),S}}catch(a){throw _(this,K,Y).call(this,"error",_(this,Je,Rr).call(this,"updated",t,r,a)),a}return null})}async getItems(){return this.findItems(()=>!0)}async getItem(r){return w(this,le).getItem(String(r))}async removeItem(r){return _(this,Qe,qr).call(this,"removed",async()=>{try{if(await this.getItem(r))if(await _(this,Xe,wr).call(this,"removed",r,r)===null)_(this,K,Y).call(this,"aborted",{action:"removed",data:r});else return await w(this,le).removeItem(`${r}`),_(this,K,Y).call(this,"removed",r),r}catch(t){throw _(this,K,Y).call(this,"error",_(this,Je,Rr).call(this,"removed",r,r,t)),t}return null})}async clear(){return _(this,Qe,qr).call(this,"cleared",async()=>{let r=await w(this,le).keys();try{if(await _(this,Xe,wr).call(this,"cleared",r)===null)_(this,K,Y).call(this,"aborted",{action:"cleared",data:r});else return await w(this,le).clear(),_(this,K,Y).call(this,"cleared",r),r}catch(t){throw _(this,K,Y).call(this,"error",_(this,Je,Rr).call(this,"cleared",r,null,t)),t}return null})}async findItem(r){return typeof r!="function"?null:await w(this,le).iterate((t,a)=>{if(r(t,a))return t})??null}async findItems(r){if(typeof r!="function")return[];let t=[];return await w(this,le).iterate((a,s)=>{r(a,s)&&a&&t.push(a)}),t}};i(fr,"ClientStore"),le=new WeakMap,ye=new WeakMap,lt=new WeakMap,vt=new WeakMap,Ar=new WeakMap,We=new WeakMap,sr=new WeakMap,ur=new WeakMap,dt=new WeakMap,Ve=new WeakMap,cr=new WeakSet,ft=i(async function(r,t=null){let{defaultKeys:a,key:s,createKey:p,updateKey:c}=_(this,Dr,gn).call(this),S=new Date,y=r[s],E=t??await this.getItem(y);E?(E=ct(E),E[c]=r[c]??S):(E=this.schema.toValue(),E[s]=y??new X().defaultValue,E[p]=r[p]??S,E[c]=E[p]);for(let g in r)!a.has(g)&&r.hasOwnProperty(g)&&(E[g]=r[g]);return{item:E,id:E[s]}},"#mergeExistingItemWithNewData"),Le=new WeakSet,or=i(function(r,t){let{defaultKeys:a}=_(this,Dr,gn).call(this),s=this.schema.getInvalidSchemaDataFields(r,a);if(s.length)throw new Error(t(s))},"#validateData"),K=new WeakSet,Y=i(function(r,t){w(this,Ar).forEach(a=>a(r,t)),w(this,We).get(r)?.forEach(a=>a(t))},"#broadcast"),Je=new WeakSet,Rr=i(function(r,t,a=null,s=null){return{action:r,data:t,id:a,error:s}},"#createEventData"),Xe=new WeakSet,wr=i(function(r,t,a=null){let s={data:t,id:a},p=w(this,sr).get(r);if(typeof p=="function")return p(s);if(w(this,ur))return w(this,ur).call(this,r,s)},"#getWithResult"),Dr=new WeakSet,gn=i(function(){let r=this.idKeyName,t=this.createdDateKeyName,a=this.updatedDateKeyName;return{key:r,createKey:t,updateKey:a,defaultKeys:new Set([r,t,a])}},"#getDefaultKeys"),Qe=new WeakSet,qr=i(async function(r,t){let a=`${r}_${Date.now()}`;w(this,Ve).add(a),w(this,Ve).size===1&&(_(this,K,Y).call(this,"processing",!0),_(this,K,Y).call(this,"processing-events",this.processingEvents));try{let s=await t();return w(this,Ve).delete(a),this.processing||(_(this,K,Y).call(this,"processing",!1),_(this,K,Y).call(this,"processing-events",this.processingEvents)),s}catch(s){throw w(this,Ve).delete(a),this.processing||(_(this,K,Y).call(this,"processing",!1),_(this,K,Y).call(this,"processing-events",this.processingEvents)),s}},"#trackProcess");var Re,we,lr,pt,yt=class{constructor(r,t){this.name=r;$(this,lr);$(this,Re,void 0);$(this,we,{});ae(this,Re,new fr(r,t)),ae(this,we,w(this,Re).schema.toValue())}get value(){return _(this,lr,pt).call(this,w(this,we))}async update(r){return w(this,we)._id?w(this,Re).updateItem(w(this,we)._id,{...r}).then(t=>(ae(this,we,t),_(this,lr,pt).call(this,t))):w(this,Re).createItem({...w(this,we),...r}).then(t=>(ae(this,we,t),_(this,lr,pt).call(this,t)))}subscribe(r){return w(this,Re).subscribe((t,a)=>{switch(t){case"created":case"updated":r(_(this,lr,pt).call(this,a),null);break;case"error":r(null,a.error);break}})}intercept(r){let t=w(this,Re).intercept("created",({data:s})=>{r(s)}),a=w(this,Re).intercept("updated",({data:s})=>{r(s)});return()=>{t(),a()}}};i(yt,"AppState"),Re=new WeakMap,we=new WeakMap,lr=new WeakSet,pt=i(function(r){let{_id:t,_createdDate:a,_lastUpdatedDate:s,...p}=r;return p},"#extractStateFromItem");var Pi=i(e=>({items:[],processing:!1,creatingItems:!1,updatingItems:!1,deletingItems:!1,loadingItems:!1,clearingItems:!1,error:null,createItem:(...r)=>e.createItem(...r),updateItem:(...r)=>e.updateItem(...r),loadItems:(...r)=>e.loadItems(...r),removeItem:(...r)=>e.removeItem(...r),findItems:(...r)=>e.findItems(...r),findItem:(...r)=>e.findItem(...r),clear:(...r)=>e.clear(...r)}),"DefaultStoreState"),zl=i((e,r)=>{let t=Pi(e);t.processing=!e.ready;let a=i(()=>{e.getItems().then(s=>{t.items=s,r(t)})},"loadItems");return e.ready&&a(),e.subscribe(async(s,p)=>{switch(s){case"ready":t.items=await e.getItems(),r(t);break;case"processing-events":let c=new Set(p);t.processing=c.size>0,t.creatingItems=c.has("created"),t.updatingItems=c.has("updated"),t.deletingItems=c.has("removed"),t.loadingItems=!t.items.length&&c.has("loaded"),t.clearingItems=c.has("cleared"),r(t);break;case"error":let{action:S,error:y}=p;t.error=new Error(`${S}: ${y?.message}`),r(t);break;case"created":case"updated":case"removed":case"loaded":case"cleared":t={...t,items:await e.getItems(),error:null},r(t);break}})},"withClientStore");window&&(window.CWS={Schema:B,SchemaValue:ke,SchemaId:X,ArrayOf:Tt,OneOf:oo,Null:Nr,ClientStore:fr,EventType:Ye,StorageType:Gl,AppState:yt,withClientStore:zl,DefaultStoreState:Pi});})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
//# sourceMappingURL=client-web-storage.min.js.map
