(()=>{var Nv=Object.create;var On=Object.defineProperty;var jv=Object.getOwnPropertyDescriptor;var Mv=Object.getOwnPropertyNames;var Bv=Object.getPrototypeOf,Fv=Object.prototype.hasOwnProperty;var i=(e,r)=>On(e,"name",{value:r,configurable:!0}),xr=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Vv=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Mv(r))!Fv.call(e,s)&&s!==t&&On(e,s,{get:()=>r[s],enumerable:!(a=jv(r,s))||a.enumerable});return e};var In=(e,r,t)=>(t=e!=null?Nv(Bv(e)):{},Vv(r||!e||!e.__esModule?On(t,"default",{value:e,enumerable:!0}):t,e));var wn=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var A=(e,r,t)=>(wn(e,r,"read from private field"),t?t.call(e):r.get(e)),K=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},ge=(e,r,t,a)=>(wn(e,r,"write to private field"),a?a.call(e,t):r.set(e,t),t);var x=(e,r,t)=>(wn(e,r,"access private method"),t);var qn=d((uT,Qi)=>{var Rn=typeof document=="object"&&document.all,Lv=typeof Rn>"u"&&Rn!==void 0;Qi.exports={all:Rn,IS_HTMLDDA:Lv}});var Z=d((sT,eo)=>{var Zi=qn(),Uv=Zi.all;eo.exports=Zi.IS_HTMLDDA?function(e){return typeof e=="function"||e===Uv}:function(e){return typeof e=="function"}});var X=d((cT,ro)=>{ro.exports=function(e){try{return!!e()}catch{return!0}}});var oe=d((fT,to)=>{var kv=X();to.exports=!kv(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var ue=d((lT,no)=>{var bt=i(function(e){return e&&e.Math==Math&&e},"check");no.exports=bt(typeof globalThis=="object"&&globalThis)||bt(typeof window=="object"&&window)||bt(typeof self=="object"&&self)||bt(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var Ee=d((vT,oo)=>{var ao=Z(),io=qn(),$v=io.all;oo.exports=io.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:ao(e)||e===$v}:function(e){return typeof e=="object"?e!==null:ao(e)}});var _n=d((dT,so)=>{var Kv=ue(),uo=Ee(),An=Kv.document,Gv=uo(An)&&uo(An.createElement);so.exports=function(e){return Gv?An.createElement(e):{}}});var Dn=d((pT,co)=>{var Hv=oe(),zv=X(),Yv=_n();co.exports=!Hv&&!zv(function(){return Object.defineProperty(Yv("div"),"a",{get:function(){return 7}}).a!=7})});var xn=d((yT,fo)=>{var Wv=oe(),Jv=X();fo.exports=Wv&&Jv(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var de=d((hT,lo)=>{var Xv=Ee(),Qv=String,Zv=TypeError;lo.exports=function(e){if(Xv(e))return e;throw Zv(Qv(e)+" is not an object")}});var Et=d((mT,vo)=>{var ed=X();vo.exports=!ed(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var _e=d((gT,po)=>{var rd=Et(),St=Function.prototype.call;po.exports=rd?St.bind(St):function(){return St.apply(St,arguments)}});var Te=d((bT,yo)=>{var Cn=ue(),td=Z(),nd=i(function(e){return td(e)?e:void 0},"aFunction");yo.exports=function(e,r){return arguments.length<2?nd(Cn[e]):Cn[e]&&Cn[e][r]}});var re=d((ET,go)=>{var ho=Et(),mo=Function.prototype,Pn=mo.call,ad=ho&&mo.bind.bind(Pn,Pn);go.exports=ho?ad:function(e){return function(){return Pn.apply(e,arguments)}}});var Pr=d((ST,bo)=>{var id=re();bo.exports=id({}.isPrototypeOf)});var So=d((TT,Eo)=>{var od=Te();Eo.exports=od("navigator","userAgent")||""});var jn=d((OT,qo)=>{var Ro=ue(),Nn=So(),To=Ro.process,Oo=Ro.Deno,Io=To&&To.versions||Oo&&Oo.version,wo=Io&&Io.v8,Oe,Tt;wo&&(Oe=wo.split("."),Tt=Oe[0]>0&&Oe[0]<4?1:+(Oe[0]+Oe[1]));!Tt&&Nn&&(Oe=Nn.match(/Edge\/(\d+)/),(!Oe||Oe[1]>=74)&&(Oe=Nn.match(/Chrome\/(\d+)/),Oe&&(Tt=+Oe[1])));qo.exports=Tt});var Mn=d((IT,_o)=>{var Ao=jn(),ud=X();_o.exports=!!Object.getOwnPropertySymbols&&!ud(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Ao&&Ao<41})});var Bn=d((wT,Do)=>{var sd=Mn();Do.exports=sd&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var Ot=d((RT,xo)=>{var cd=Te(),fd=Z(),ld=Pr(),vd=Bn(),dd=Object;xo.exports=vd?function(e){return typeof e=="symbol"}:function(e){var r=cd("Symbol");return fd(r)&&ld(r.prototype,dd(e))}});var It=d((qT,Co)=>{var pd=String;Co.exports=function(e){try{return pd(e)}catch{return"Object"}}});var wt=d((AT,Po)=>{var yd=Z(),hd=It(),md=TypeError;Po.exports=function(e){if(yd(e))return e;throw md(hd(e)+" is not a function")}});var Qe=d((_T,No)=>{No.exports=function(e){return e==null}});var Rt=d((DT,jo)=>{var gd=wt(),bd=Qe();jo.exports=function(e,r){var t=e[r];return bd(t)?void 0:gd(t)}});var Bo=d((xT,Mo)=>{var Fn=_e(),Vn=Z(),Ln=Ee(),Ed=TypeError;Mo.exports=function(e,r){var t,a;if(r==="string"&&Vn(t=e.toString)&&!Ln(a=Fn(t,e))||Vn(t=e.valueOf)&&!Ln(a=Fn(t,e))||r!=="string"&&Vn(t=e.toString)&&!Ln(a=Fn(t,e)))return a;throw Ed("Can't convert object to primitive value")}});var Le=d((CT,Fo)=>{Fo.exports=!1});var qt=d((PT,Lo)=>{var Vo=ue(),Sd=Object.defineProperty;Lo.exports=function(e,r){try{Sd(Vo,e,{value:r,configurable:!0,writable:!0})}catch{Vo[e]=r}return r}});var At=d((NT,ko)=>{var Td=ue(),Od=qt(),Uo="__core-js_shared__",Id=Td[Uo]||Od(Uo,{});ko.exports=Id});var Un=d((jT,Ko)=>{var wd=Le(),$o=At();(Ko.exports=function(e,r){return $o[e]||($o[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.27.1",mode:wd?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var kn=d((MT,Go)=>{var Rd=Qe(),qd=TypeError;Go.exports=function(e){if(Rd(e))throw qd("Can't call method on "+e);return e}});var _t=d((BT,Ho)=>{var Ad=kn(),_d=Object;Ho.exports=function(e){return _d(Ad(e))}});var se=d((FT,zo)=>{var Dd=re(),xd=_t(),Cd=Dd({}.hasOwnProperty);zo.exports=Object.hasOwn||i(function(r,t){return Cd(xd(r),t)},"hasOwn")});var Nr=d((VT,Yo)=>{var Pd=re(),Nd=0,jd=Math.random(),Md=Pd(1 .toString);Yo.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Md(++Nd+jd,36)}});var Se=d((LT,Zo)=>{var Bd=ue(),Fd=Un(),Wo=se(),Vd=Nr(),Jo=Mn(),Qo=Bn(),dr=Fd("wks"),Ze=Bd.Symbol,Xo=Ze&&Ze.for,Ld=Qo?Ze:Ze&&Ze.withoutSetter||Vd;Zo.exports=function(e){if(!Wo(dr,e)||!(Jo||typeof dr[e]=="string")){var r="Symbol."+e;Jo&&Wo(Ze,e)?dr[e]=Ze[e]:Qo&&Xo?dr[e]=Xo(r):dr[e]=Ld(r)}return dr[e]}});var nu=d((UT,tu)=>{var Ud=_e(),eu=Ee(),ru=Ot(),kd=Rt(),$d=Bo(),Kd=Se(),Gd=TypeError,Hd=Kd("toPrimitive");tu.exports=function(e,r){if(!eu(e)||ru(e))return e;var t=kd(e,Hd),a;if(t){if(r===void 0&&(r="default"),a=Ud(t,e,r),!eu(a)||ru(a))return a;throw Gd("Can't convert object to primitive value")}return r===void 0&&(r="number"),$d(e,r)}});var Dt=d((kT,au)=>{var zd=nu(),Yd=Ot();au.exports=function(e){var r=zd(e,"string");return Yd(r)?r:r+""}});var ce=d(ou=>{var Wd=oe(),Jd=Dn(),Xd=xn(),xt=de(),iu=Dt(),Qd=TypeError,$n=Object.defineProperty,Zd=Object.getOwnPropertyDescriptor,Kn="enumerable",Gn="configurable",Hn="writable";ou.f=Wd?Xd?i(function(r,t,a){if(xt(r),t=iu(t),xt(a),typeof r=="function"&&t==="prototype"&&"value"in a&&Hn in a&&!a[Hn]){var s=Zd(r,t);s&&s[Hn]&&(r[t]=a.value,a={configurable:Gn in a?a[Gn]:s[Gn],enumerable:Kn in a?a[Kn]:s[Kn],writable:!1})}return $n(r,t,a)},"defineProperty"):$n:i(function(r,t,a){if(xt(r),t=iu(t),xt(a),Jd)try{return $n(r,t,a)}catch{}if("get"in a||"set"in a)throw Qd("Accessors not supported");return"value"in a&&(r[t]=a.value),r},"defineProperty")});var Wn=d((KT,su)=>{var zn=oe(),ep=se(),uu=Function.prototype,rp=zn&&Object.getOwnPropertyDescriptor,Yn=ep(uu,"name"),tp=Yn&&i(function(){},"something").name==="something",np=Yn&&(!zn||zn&&rp(uu,"name").configurable);su.exports={EXISTS:Yn,PROPER:tp,CONFIGURABLE:np}});var Xn=d((GT,cu)=>{var ap=re(),ip=Z(),Jn=At(),op=ap(Function.toString);ip(Jn.inspectSource)||(Jn.inspectSource=function(e){return op(e)});cu.exports=Jn.inspectSource});var vu=d((HT,lu)=>{var up=ue(),sp=Z(),fu=up.WeakMap;lu.exports=sp(fu)&&/native code/.test(String(fu))});var Ue=d((zT,du)=>{du.exports=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}});var jr=d((YT,pu)=>{var cp=oe(),fp=ce(),lp=Ue();pu.exports=cp?function(e,r,t){return fp.f(e,r,lp(1,t))}:function(e,r,t){return e[r]=t,e}});var Ct=d((WT,hu)=>{var vp=Un(),dp=Nr(),yu=vp("keys");hu.exports=function(e){return yu[e]||(yu[e]=dp(e))}});var Mr=d((JT,mu)=>{mu.exports={}});var Fr=d((XT,Eu)=>{var pp=vu(),bu=ue(),yp=Ee(),hp=jr(),Qn=se(),Zn=At(),mp=Ct(),gp=Mr(),gu="Object already initialized",ea=bu.TypeError,bp=bu.WeakMap,Pt,Br,Nt,Ep=i(function(e){return Nt(e)?Br(e):Pt(e,{})},"enforce"),Sp=i(function(e){return function(r){var t;if(!yp(r)||(t=Br(r)).type!==e)throw ea("Incompatible receiver, "+e+" required");return t}},"getterFor");pp||Zn.state?(Ie=Zn.state||(Zn.state=new bp),Ie.get=Ie.get,Ie.has=Ie.has,Ie.set=Ie.set,Pt=i(function(e,r){if(Ie.has(e))throw ea(gu);return r.facade=e,Ie.set(e,r),r},"set"),Br=i(function(e){return Ie.get(e)||{}},"get"),Nt=i(function(e){return Ie.has(e)},"has")):(er=mp("state"),gp[er]=!0,Pt=i(function(e,r){if(Qn(e,er))throw ea(gu);return r.facade=e,hp(e,er,r),r},"set"),Br=i(function(e){return Qn(e,er)?e[er]:{}},"get"),Nt=i(function(e){return Qn(e,er)},"has"));var Ie,er;Eu.exports={set:Pt,get:Br,has:Nt,enforce:Ep,getterFor:Sp}});var ta=d((QT,Tu)=>{var Tp=X(),Op=Z(),jt=se(),ra=oe(),Ip=Wn().CONFIGURABLE,wp=Xn(),Su=Fr(),Rp=Su.enforce,qp=Su.get,Mt=Object.defineProperty,Ap=ra&&!Tp(function(){return Mt(function(){},"length",{value:8}).length!==8}),_p=String(String).split("String"),Dp=Tu.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!jt(e,"name")||Ip&&e.name!==r)&&(ra?Mt(e,"name",{value:r,configurable:!0}):e.name=r),Ap&&t&&jt(t,"arity")&&e.length!==t.arity&&Mt(e,"length",{value:t.arity});try{t&&jt(t,"constructor")&&t.constructor?ra&&Mt(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=Rp(e);return jt(a,"source")||(a.source=_p.join(typeof r=="string"?r:"")),e};Function.prototype.toString=Dp(i(function(){return Op(this)&&qp(this).source||wp(this)},"toString"),"toString")});var De=d((ZT,Ou)=>{var xp=Z(),Cp=ce(),Pp=ta(),Np=qt();Ou.exports=function(e,r,t,a){a||(a={});var s=a.enumerable,m=a.name!==void 0?a.name:r;if(xp(t)&&Pp(t,m,a),a.global)s?e[r]=t:Np(r,t);else{try{a.unsafe?e[r]&&(s=!0):delete e[r]}catch{}s?e[r]=t:Cp.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}});var rr=d((eO,wu)=>{var Iu=re(),jp=Iu({}.toString),Mp=Iu("".slice);wu.exports=function(e){return Mp(jp(e),8,-1)}});var qu=d((rO,Ru)=>{var Bp=re(),Fp=X(),Vp=rr(),na=Object,Lp=Bp("".split);Ru.exports=Fp(function(){return!na("z").propertyIsEnumerable(0)})?function(e){return Vp(e)=="String"?Lp(e,""):na(e)}:na});var tr=d((tO,Au)=>{var Up=qu(),kp=kn();Au.exports=function(e){return Up(kp(e))}});var Du=d((nO,_u)=>{var $p=Math.ceil,Kp=Math.floor;_u.exports=Math.trunc||i(function(r){var t=+r;return(t>0?Kp:$p)(t)},"trunc")});var aa=d((aO,xu)=>{var Gp=Du();xu.exports=function(e){var r=+e;return r!==r||r===0?0:Gp(r)}});var ia=d((iO,Cu)=>{var Hp=aa(),zp=Math.max,Yp=Math.min;Cu.exports=function(e,r){var t=Hp(e);return t<0?zp(t+r,0):Yp(t,r)}});var Nu=d((oO,Pu)=>{var Wp=aa(),Jp=Math.min;Pu.exports=function(e){return e>0?Jp(Wp(e),9007199254740991):0}});var Vr=d((uO,ju)=>{var Xp=Nu();ju.exports=function(e){return Xp(e.length)}});var Fu=d((sO,Bu)=>{var Qp=tr(),Zp=ia(),ey=Vr(),Mu=i(function(e){return function(r,t,a){var s=Qp(r),m=ey(s),c=Zp(a,m),E;if(e&&t!=t){for(;m>c;)if(E=s[c++],E!=E)return!0}else for(;m>c;c++)if((e||c in s)&&s[c]===t)return e||c||0;return!e&&-1}},"createMethod");Bu.exports={includes:Mu(!0),indexOf:Mu(!1)}});var ua=d((cO,Lu)=>{var ry=re(),oa=se(),ty=tr(),ny=Fu().indexOf,ay=Mr(),Vu=ry([].push);Lu.exports=function(e,r){var t=ty(e),a=0,s=[],m;for(m in t)!oa(ay,m)&&oa(t,m)&&Vu(s,m);for(;r.length>a;)oa(t,m=r[a++])&&(~ny(s,m)||Vu(s,m));return s}});var Bt=d((fO,Uu)=>{Uu.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var sa=d((lO,ku)=>{var iy=ua(),oy=Bt();ku.exports=Object.keys||i(function(r){return iy(r,oy)},"keys")});var Ku=d($u=>{var uy=oe(),sy=xn(),cy=ce(),fy=de(),ly=tr(),vy=sa();$u.f=uy&&!sy?Object.defineProperties:i(function(r,t){fy(r);for(var a=ly(t),s=vy(t),m=s.length,c=0,E;m>c;)cy.f(r,E=s[c++],a[E]);return r},"defineProperties")});var Hu=d((dO,Gu)=>{var dy=Te();Gu.exports=dy("document","documentElement")});var nr=d((pO,Zu)=>{var py=de(),yy=Ku(),zu=Bt(),hy=Mr(),my=Hu(),gy=_n(),by=Ct(),Yu=">",Wu="<",fa="prototype",la="script",Xu=by("IE_PROTO"),ca=i(function(){},"EmptyConstructor"),Qu=i(function(e){return Wu+la+Yu+e+Wu+"/"+la+Yu},"scriptTag"),Ju=i(function(e){e.write(Qu("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),Ey=i(function(){var e=gy("iframe"),r="java"+la+":",t;return e.style.display="none",my.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(Qu("document.F=Object")),t.close(),t.F},"NullProtoObjectViaIFrame"),Ft,Vt=i(function(){try{Ft=new ActiveXObject("htmlfile")}catch{}Vt=typeof document<"u"?document.domain&&Ft?Ju(Ft):Ey():Ju(Ft);for(var e=zu.length;e--;)delete Vt[fa][zu[e]];return Vt()},"NullProtoObject");hy[Xu]=!0;Zu.exports=Object.create||i(function(r,t){var a;return r!==null?(ca[fa]=py(r),a=new ca,ca[fa]=null,a[Xu]=r):a=Vt(),t===void 0?a:yy.f(a,t)},"create")});var Lt=d((yO,rs)=>{var Sy=Se(),Ty=Sy("toStringTag"),es={};es[Ty]="z";rs.exports=String(es)==="[object z]"});var pr=d((hO,ts)=>{var Oy=Lt(),Iy=Z(),Ut=rr(),wy=Se(),Ry=wy("toStringTag"),qy=Object,Ay=Ut(function(){return arguments}())=="Arguments",_y=i(function(e,r){try{return e[r]}catch{}},"tryGet");ts.exports=Oy?Ut:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=_y(r=qy(e),Ry))=="string"?t:Ay?Ut(r):(a=Ut(r))=="Object"&&Iy(r.callee)?"Arguments":a}});var as=d((mO,ns)=>{var Dy=pr(),xy=String;ns.exports=function(e){if(Dy(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return xy(e)}});var kt=d((gO,is)=>{var Cy=as();is.exports=function(e,r){return e===void 0?arguments.length<2?"":r:Cy(e)}});var va=d((bO,us)=>{"use strict";var Py=oe(),Ny=X(),jy=de(),My=nr(),os=kt(),$t=Error.prototype.toString,By=Ny(function(){if(Py){var e=My(Object.defineProperty({},"name",{get:function(){return this===e}}));if($t.call(e)!=="true")return!0}return $t.call({message:1,name:2})!=="2: 1"||$t.call({})!=="Error"});us.exports=By?i(function(){var r=jy(this),t=os(r.name,"Error"),a=os(r.message);return t?a?t+": "+a:t:a},"toString"):$t});var fs=d(()=>{var Fy=De(),ss=va(),cs=Error.prototype;cs.toString!==ss&&Fy(cs,"toString",ss)});var vs=d((TO,ls)=>{var Vy=Se(),Ly=nr(),Uy=ce().f,da=Vy("unscopables"),pa=Array.prototype;pa[da]==null&&Uy(pa,da,{configurable:!0,value:Ly(null)});ls.exports=function(e){pa[da][e]=!0}});var yr=d((OO,ds)=>{ds.exports={}});var ms=d(hs=>{"use strict";var ps={}.propertyIsEnumerable,ys=Object.getOwnPropertyDescriptor,ky=ys&&!ps.call({1:2},1);hs.f=ky?i(function(r){var t=ys(this,r);return!!t&&t.enumerable},"propertyIsEnumerable"):ps});var ya=d(bs=>{var $y=oe(),Ky=_e(),Gy=ms(),Hy=Ue(),zy=tr(),Yy=Dt(),Wy=se(),Jy=Dn(),gs=Object.getOwnPropertyDescriptor;bs.f=$y?gs:i(function(r,t){if(r=zy(r),t=Yy(t),Jy)try{return gs(r,t)}catch{}if(Wy(r,t))return Hy(!Ky(Gy.f,r,t),r[t])},"getOwnPropertyDescriptor")});var Kt=d(Es=>{var Xy=ua(),Qy=Bt(),Zy=Qy.concat("length","prototype");Es.f=Object.getOwnPropertyNames||i(function(r){return Xy(r,Zy)},"getOwnPropertyNames")});var Ts=d(Ss=>{Ss.f=Object.getOwnPropertySymbols});var Is=d((AO,Os)=>{var eh=Te(),rh=re(),th=Kt(),nh=Ts(),ah=de(),ih=rh([].concat);Os.exports=eh("Reflect","ownKeys")||i(function(r){var t=th.f(ah(r)),a=nh.f;return a?ih(t,a(r)):t},"ownKeys")});var qs=d((_O,Rs)=>{var ws=se(),oh=Is(),uh=ya(),sh=ce();Rs.exports=function(e,r,t){for(var a=oh(r),s=sh.f,m=uh.f,c=0;c<a.length;c++){var E=a[c];!ws(e,E)&&!(t&&ws(t,E))&&s(e,E,m(r,E))}}});var ha=d((DO,As)=>{var ch=X(),fh=Z(),lh=/#|\.prototype\./,Lr=i(function(e,r){var t=dh[vh(e)];return t==yh?!0:t==ph?!1:fh(r)?ch(r):!!r},"isForced"),vh=Lr.normalize=function(e){return String(e).replace(lh,".").toLowerCase()},dh=Lr.data={},ph=Lr.NATIVE="N",yh=Lr.POLYFILL="P";As.exports=Lr});var ke=d((xO,_s)=>{var ma=ue(),hh=ya().f,mh=jr(),gh=De(),bh=qt(),Eh=qs(),Sh=ha();_s.exports=function(e,r){var t=e.target,a=e.global,s=e.stat,m,c,E,y,b,g;if(a?c=ma:s?c=ma[t]||bh(t,{}):c=(ma[t]||{}).prototype,c)for(E in r){if(b=r[E],e.dontCallGetSet?(g=hh(c,E),y=g&&g.value):y=c[E],m=Sh(a?E:t+(s?".":"#")+E,e.forced),!m&&y!==void 0){if(typeof b==typeof y)continue;Eh(b,y)}(e.sham||y&&y.sham)&&mh(b,"sham",!0),gh(c,E,b,e)}}});var xs=d((CO,Ds)=>{var Th=X();Ds.exports=!Th(function(){function e(){}return i(e,"F"),e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var ba=d((PO,Ps)=>{var Oh=se(),Ih=Z(),wh=_t(),Rh=Ct(),qh=xs(),Cs=Rh("IE_PROTO"),ga=Object,Ah=ga.prototype;Ps.exports=qh?ga.getPrototypeOf:function(e){var r=wh(e);if(Oh(r,Cs))return r[Cs];var t=r.constructor;return Ih(t)&&r instanceof t?t.prototype:r instanceof ga?Ah:null}});var Oa=d((NO,Ms)=>{"use strict";var _h=X(),Dh=Z(),xh=Ee(),Ch=nr(),Ns=ba(),Ph=De(),Nh=Se(),jh=Le(),Ta=Nh("iterator"),js=!1,xe,Ea,Sa;[].keys&&(Sa=[].keys(),"next"in Sa?(Ea=Ns(Ns(Sa)),Ea!==Object.prototype&&(xe=Ea)):js=!0);var Mh=!xh(xe)||_h(function(){var e={};return xe[Ta].call(e)!==e});Mh?xe={}:jh&&(xe=Ch(xe));Dh(xe[Ta])||Ph(xe,Ta,function(){return this});Ms.exports={IteratorPrototype:xe,BUGGY_SAFARI_ITERATORS:js}});var Ur=d((jO,Fs)=>{var Bh=ce().f,Fh=se(),Vh=Se(),Bs=Vh("toStringTag");Fs.exports=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Fh(e,Bs)&&Bh(e,Bs,{configurable:!0,value:r})}});var Ls=d((MO,Vs)=>{"use strict";var Lh=Oa().IteratorPrototype,Uh=nr(),kh=Ue(),$h=Ur(),Kh=yr(),Gh=i(function(){return this},"returnThis");Vs.exports=function(e,r,t,a){var s=r+" Iterator";return e.prototype=Uh(Lh,{next:kh(+!a,t)}),$h(e,s,!1,!0),Kh[s]=Gh,e}});var ks=d((BO,Us)=>{var Hh=Z(),zh=String,Yh=TypeError;Us.exports=function(e){if(typeof e=="object"||Hh(e))return e;throw Yh("Can't set "+zh(e)+" as a prototype")}});var Ia=d((FO,$s)=>{var Wh=re(),Jh=de(),Xh=ks();$s.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=Wh(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return i(function(s,m){return Jh(s),Xh(m),e?t(s,m):s.__proto__=m,s},"setPrototypeOf")}():void 0)});var Ra=d((VO,Zs)=>{"use strict";var Qh=ke(),Zh=_e(),Gt=Le(),Xs=Wn(),em=Z(),rm=Ls(),Ks=ba(),Gs=Ia(),tm=Ur(),nm=jr(),wa=De(),am=Se(),Hs=yr(),Qs=Oa(),im=Xs.PROPER,om=Xs.CONFIGURABLE,zs=Qs.IteratorPrototype,Ht=Qs.BUGGY_SAFARI_ITERATORS,kr=am("iterator"),Ys="keys",$r="values",Ws="entries",Js=i(function(){return this},"returnThis");Zs.exports=function(e,r,t,a,s,m,c){rm(t,r,a);var E=i(function(C){if(C===s&&h)return h;if(!Ht&&C in g)return g[C];switch(C){case Ys:return i(function(){return new t(this,C)},"keys");case $r:return i(function(){return new t(this,C)},"values");case Ws:return i(function(){return new t(this,C)},"entries")}return function(){return new t(this)}},"getIterationMethod"),y=r+" Iterator",b=!1,g=e.prototype,q=g[kr]||g["@@iterator"]||s&&g[s],h=!Ht&&q||E(s),T=r=="Array"&&g.entries||q,D,M,Y;if(T&&(D=Ks(T.call(new e)),D!==Object.prototype&&D.next&&(!Gt&&Ks(D)!==zs&&(Gs?Gs(D,zs):em(D[kr])||wa(D,kr,Js)),tm(D,y,!0,!0),Gt&&(Hs[y]=Js))),im&&s==$r&&q&&q.name!==$r&&(!Gt&&om?nm(g,"name",$r):(b=!0,h=i(function(){return Zh(q,this)},"values"))),s)if(M={values:E($r),keys:m?h:E(Ys),entries:E(Ws)},c)for(Y in M)(Ht||b||!(Y in g))&&wa(g,Y,M[Y]);else Qh({target:r,proto:!0,forced:Ht||b},M);return(!Gt||c)&&g[kr]!==h&&wa(g,kr,h,{name:s}),Hs[r]=h,M}});var qa=d((LO,ec)=>{ec.exports=function(e,r){return{value:e,done:r}}});var oc=d((UO,ic)=>{"use strict";var um=tr(),Aa=vs(),rc=yr(),nc=Fr(),sm=ce().f,cm=Ra(),zt=qa(),fm=Le(),lm=oe(),ac="Array Iterator",vm=nc.set,dm=nc.getterFor(ac);ic.exports=cm(Array,"Array",function(e,r){vm(this,{type:ac,target:um(e),index:0,kind:r})},function(){var e=dm(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,zt(void 0,!0)):t=="keys"?zt(a,!1):t=="values"?zt(r[a],!1):zt([a,r[a]],!1)},"values");var tc=rc.Arguments=rc.Array;Aa("keys");Aa("values");Aa("entries");if(!fm&&lm&&tc.name!=="values")try{sm(tc,"name",{value:"values"})}catch{}});var sc=d(()=>{var pm=ke(),ym=_t(),uc=sa(),hm=X(),mm=hm(function(){uc(1)});pm({target:"Object",stat:!0,forced:mm},{keys:i(function(r){return uc(ym(r))},"keys")})});var fc=d((KO,cc)=>{"use strict";var gm=Lt(),bm=pr();cc.exports=gm?{}.toString:i(function(){return"[object "+bm(this)+"]"},"toString")});var lc=d(()=>{var Em=Lt(),Sm=De(),Tm=fc();Em||Sm(Object.prototype,"toString",Tm,{unsafe:!0})});var _a=d((zO,vc)=>{"use strict";var Om=Dt(),Im=ce(),wm=Ue();vc.exports=function(e,r,t){var a=Om(r);a in e?Im.f(e,a,wm(0,t)):e[a]=t}});var yc=d((YO,pc)=>{var dc=ia(),Rm=Vr(),qm=_a(),Am=Array,_m=Math.max;pc.exports=function(e,r,t){for(var a=Rm(e),s=dc(r,a),m=dc(t===void 0?a:t,a),c=Am(_m(m-s,0)),E=0;s<m;s++,E++)qm(c,E,e[s]);return c.length=E,c}});var bc=d((WO,gc)=>{var Dm=rr(),xm=tr(),hc=Kt().f,Cm=yc(),mc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Pm=i(function(e){try{return hc(e)}catch{return Cm(mc)}},"getWindowNames");gc.exports.f=i(function(r){return mc&&Dm(r)=="Window"?Pm(r):hc(xm(r))},"getOwnPropertyNames")});var Sc=d((JO,Ec)=>{var Nm=X();Ec.exports=Nm(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var Ic=d((XO,Oc)=>{var jm=X(),Mm=Ee(),Bm=rr(),Tc=Sc(),Yt=Object.isExtensible,Fm=jm(function(){Yt(1)});Oc.exports=Fm||Tc?i(function(r){return!Mm(r)||Tc&&Bm(r)=="ArrayBuffer"?!1:Yt?Yt(r):!0},"isExtensible"):Yt});var Rc=d((QO,wc)=>{var Vm=X();wc.exports=!Vm(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Pa=d((ZO,_c)=>{var Lm=ke(),Um=re(),km=Mr(),$m=Ee(),Da=se(),Km=ce().f,qc=Kt(),Gm=bc(),xa=Ic(),Hm=Nr(),zm=Rc(),Ac=!1,Ce=Hm("meta"),Ym=0,Ca=i(function(e){Km(e,Ce,{value:{objectID:"O"+Ym++,weakData:{}}})},"setMetadata"),Wm=i(function(e,r){if(!$m(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Da(e,Ce)){if(!xa(e))return"F";if(!r)return"E";Ca(e)}return e[Ce].objectID},"fastKey"),Jm=i(function(e,r){if(!Da(e,Ce)){if(!xa(e))return!0;if(!r)return!1;Ca(e)}return e[Ce].weakData},"getWeakData"),Xm=i(function(e){return zm&&Ac&&xa(e)&&!Da(e,Ce)&&Ca(e),e},"onFreeze"),Qm=i(function(){Zm.enable=function(){},Ac=!0;var e=qc.f,r=Um([].splice),t={};t[Ce]=1,e(t).length&&(qc.f=function(a){for(var s=e(a),m=0,c=s.length;m<c;m++)if(s[m]===Ce){r(s,m,1);break}return s},Lm({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Gm.f}))},"enable"),Zm=_c.exports={enable:Qm,fastKey:Wm,getWeakData:Jm,onFreeze:Xm};km[Ce]=!0});var xc=d((eI,Dc)=>{var eg=rr(),rg=re();Dc.exports=function(e){if(eg(e)==="Function")return rg(e)}});var Na=d((rI,Pc)=>{var Cc=xc(),tg=wt(),ng=Et(),ag=Cc(Cc.bind);Pc.exports=function(e,r){return tg(e),r===void 0?e:ng?ag(e,r):function(){return e.apply(r,arguments)}}});var jc=d((tI,Nc)=>{var ig=Se(),og=yr(),ug=ig("iterator"),sg=Array.prototype;Nc.exports=function(e){return e!==void 0&&(og.Array===e||sg[ug]===e)}});var ja=d((nI,Bc)=>{var cg=pr(),Mc=Rt(),fg=Qe(),lg=yr(),vg=Se(),dg=vg("iterator");Bc.exports=function(e){if(!fg(e))return Mc(e,dg)||Mc(e,"@@iterator")||lg[cg(e)]}});var Vc=d((aI,Fc)=>{var pg=_e(),yg=wt(),hg=de(),mg=It(),gg=ja(),bg=TypeError;Fc.exports=function(e,r){var t=arguments.length<2?gg(e):r;if(yg(t))return hg(pg(t,e));throw bg(mg(e)+" is not iterable")}});var kc=d((iI,Uc)=>{var Eg=_e(),Lc=de(),Sg=Rt();Uc.exports=function(e,r,t){var a,s;Lc(e);try{if(a=Sg(e,"return"),!a){if(r==="throw")throw t;return t}a=Eg(a,e)}catch(m){s=!0,a=m}if(r==="throw")throw t;if(s)throw a;return Lc(a),t}});var Jt=d((oI,Hc)=>{var Tg=Na(),Og=_e(),Ig=de(),wg=It(),Rg=jc(),qg=Vr(),$c=Pr(),Ag=Vc(),_g=ja(),Kc=kc(),Dg=TypeError,Wt=i(function(e,r){this.stopped=e,this.result=r},"Result"),Gc=Wt.prototype;Hc.exports=function(e,r,t){var a=t&&t.that,s=!!(t&&t.AS_ENTRIES),m=!!(t&&t.IS_RECORD),c=!!(t&&t.IS_ITERATOR),E=!!(t&&t.INTERRUPTED),y=Tg(r,a),b,g,q,h,T,D,M,Y=i(function(P){return b&&Kc(b,"normal",P),new Wt(!0,P)},"stop"),C=i(function(P){return s?(Ig(P),E?y(P[0],P[1],Y):y(P[0],P[1])):E?y(P,Y):y(P)},"callFn");if(m)b=e.iterator;else if(c)b=e;else{if(g=_g(e),!g)throw Dg(wg(e)+" is not iterable");if(Rg(g)){for(q=0,h=qg(e);h>q;q++)if(T=C(e[q]),T&&$c(Gc,T))return T;return new Wt(!1)}b=Ag(e,g)}for(D=m?e.next:b.next;!(M=Og(D,b)).done;){try{T=C(M.value)}catch(P){Kc(b,"throw",P)}if(typeof T=="object"&&T&&$c(Gc,T))return T}return new Wt(!1)}});var Kr=d((uI,zc)=>{var xg=Pr(),Cg=TypeError;zc.exports=function(e,r){if(xg(r,e))return e;throw Cg("Incorrect invocation")}});var Qc=d((sI,Xc)=>{var Pg=Se(),Wc=Pg("iterator"),Jc=!1;try{Yc=0,Ma={next:function(){return{done:!!Yc++}},return:function(){Jc=!0}},Ma[Wc]=function(){return this},Array.from(Ma,function(){throw 2})}catch{}var Yc,Ma;Xc.exports=function(e,r){if(!r&&!Jc)return!1;var t=!1;try{var a={};a[Wc]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t}});var Ba=d((cI,ef)=>{var Ng=Z(),jg=Ee(),Zc=Ia();ef.exports=function(e,r,t){var a,s;return Zc&&Ng(a=r.constructor)&&a!==t&&jg(s=a.prototype)&&s!==t.prototype&&Zc(e,s),e}});var La=d((fI,tf)=>{"use strict";var Mg=ke(),Bg=ue(),Fg=re(),rf=ha(),Vg=De(),Lg=Pa(),Ug=Jt(),kg=Kr(),$g=Z(),Kg=Qe(),Fa=Ee(),Va=X(),Gg=Qc(),Hg=Ur(),zg=Ba();tf.exports=function(e,r,t){var a=e.indexOf("Map")!==-1,s=e.indexOf("Weak")!==-1,m=a?"set":"add",c=Bg[e],E=c&&c.prototype,y=c,b={},g=i(function(C){var P=Fg(E[C]);Vg(E,C,C=="add"?i(function(te){return P(this,te===0?0:te),this},"add"):C=="delete"?function(F){return s&&!Fa(F)?!1:P(this,F===0?0:F)}:C=="get"?i(function(te){return s&&!Fa(te)?void 0:P(this,te===0?0:te)},"get"):C=="has"?i(function(te){return s&&!Fa(te)?!1:P(this,te===0?0:te)},"has"):i(function(te,we){return P(this,te===0?0:te,we),this},"set"))},"fixMethod"),q=rf(e,!$g(c)||!(s||E.forEach&&!Va(function(){new c().entries().next()})));if(q)y=t.getConstructor(r,e,a,m),Lg.enable();else if(rf(e,!0)){var h=new y,T=h[m](s?{}:-0,1)!=h,D=Va(function(){h.has(1)}),M=Gg(function(C){new c(C)}),Y=!s&&Va(function(){for(var C=new c,P=5;P--;)C[m](P,P);return!C.has(-0)});M||(y=r(function(C,P){kg(C,E);var F=zg(new c,C,y);return Kg(P)||Ug(P,F[m],{that:F,AS_ENTRIES:a}),F}),y.prototype=E,E.constructor=y),(D||Y)&&(g("delete"),g("has"),a&&g("get")),(Y||T)&&g(m),s&&E.clear&&delete E.clear}return b[e]=y,Mg({global:!0,constructor:!0,forced:y!=c},b),Hg(y,e),s||t.setStrong(y,e,a),y}});var af=d((lI,nf)=>{var Yg=De();nf.exports=function(e,r,t){for(var a in r)Yg(e,a,r[a],t);return e}});var sf=d((vI,uf)=>{"use strict";var Wg=Te(),Jg=ce(),Xg=Se(),Qg=oe(),of=Xg("species");uf.exports=function(e){var r=Wg(e),t=Jg.f;Qg&&r&&!r[of]&&t(r,of,{configurable:!0,get:function(){return this}})}});var ka=d((dI,df)=>{"use strict";var Zg=ce().f,eb=nr(),cf=af(),rb=Na(),tb=Kr(),nb=Qe(),ab=Jt(),ib=Ra(),Xt=qa(),ob=sf(),Gr=oe(),ff=Pa().fastKey,vf=Fr(),lf=vf.set,Ua=vf.getterFor;df.exports={getConstructor:function(e,r,t,a){var s=e(function(b,g){tb(b,m),lf(b,{type:r,index:eb(null),first:void 0,last:void 0,size:0}),Gr||(b.size=0),nb(g)||ab(g,b[a],{that:b,AS_ENTRIES:t})}),m=s.prototype,c=Ua(r),E=i(function(b,g,q){var h=c(b),T=y(b,g),D,M;return T?T.value=q:(h.last=T={index:M=ff(g,!0),key:g,value:q,previous:D=h.last,next:void 0,removed:!1},h.first||(h.first=T),D&&(D.next=T),Gr?h.size++:b.size++,M!=="F"&&(h.index[M]=T)),b},"define"),y=i(function(b,g){var q=c(b),h=ff(g),T;if(h!=="F")return q.index[h];for(T=q.first;T;T=T.next)if(T.key==g)return T},"getEntry");return cf(m,{clear:i(function(){for(var g=this,q=c(g),h=q.index,T=q.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete h[T.index],T=T.next;q.first=q.last=void 0,Gr?q.size=0:g.size=0},"clear"),delete:function(b){var g=this,q=c(g),h=y(g,b);if(h){var T=h.next,D=h.previous;delete q.index[h.index],h.removed=!0,D&&(D.next=T),T&&(T.previous=D),q.first==h&&(q.first=T),q.last==h&&(q.last=D),Gr?q.size--:g.size--}return!!h},forEach:i(function(g){for(var q=c(this),h=rb(g,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:q.first;)for(h(T.value,T.key,this);T&&T.removed;)T=T.previous},"forEach"),has:i(function(g){return!!y(this,g)},"has")}),cf(m,t?{get:i(function(g){var q=y(this,g);return q&&q.value},"get"),set:i(function(g,q){return E(this,g===0?0:g,q)},"set")}:{add:i(function(g){return E(this,g=g===0?0:g,g)},"add")}),Gr&&Zg(m,"size",{get:function(){return c(this).size}}),s},setStrong:function(e,r,t){var a=r+" Iterator",s=Ua(r),m=Ua(a);ib(e,r,function(c,E){lf(this,{type:a,target:c,state:s(c),kind:E,last:void 0})},function(){for(var c=m(this),E=c.kind,y=c.last;y&&y.removed;)y=y.previous;return!c.target||!(c.last=y=y?y.next:c.state.first)?(c.target=void 0,Xt(void 0,!0)):E=="keys"?Xt(y.key,!1):E=="values"?Xt(y.value,!1):Xt([y.key,y.value],!1)},t?"entries":"values",!t,!0),ob(r)}}});var pf=d(()=>{"use strict";var ub=La(),sb=ka();ub("Map",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Map")},sb)});var yf=d(()=>{pf()});var hf=d(()=>{"use strict";var cb=La(),fb=ka();cb("Set",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Set")},fb)});var mf=d(()=>{hf()});var Qt=d((TI,gf)=>{var lb=rr(),vb=ue();gf.exports=lb(vb.process)=="process"});var Ef=d((OI,bf)=>{var db=Qt();bf.exports=function(e){try{if(db)return Function('return require("'+e+'")')()}catch{}}});var Of=d((II,Tf)=>{var Sf=ta(),pb=ce();Tf.exports=function(e,r,t){return t.get&&Sf(t.get,r,{getter:!0}),t.set&&Sf(t.set,r,{setter:!0}),pb.f(e,r,t)}});var $a=d((wI,If)=>{If.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var Ka=d((RI,qf)=>{var yb=re(),wf=Error,hb=yb("".replace),mb=function(e){return String(wf(e).stack)}("zxcasd"),Rf=/\n\s*at [^:]*:[^\n]*/,gb=Rf.test(mb);qf.exports=function(e,r){if(gb&&typeof e=="string"&&!wf.prepareStackTrace)for(;r--;)e=hb(e,Rf,"");return e}});var Ff=d(()=>{"use strict";var bb=ke(),Eb=Ef(),rn=Te(),Ja=X(),Sb=nr(),Xa=Ue(),tn=ce().f,Tb=De(),Zt=Of(),en=se(),Ob=Kr(),Ib=de(),Df=va(),Af=kt(),hr=$a(),wb=Ka(),xf=Fr(),Qa=oe(),Cf=Le(),mr="DOMException",Wa="DATA_CLONE_ERR",an=rn("Error"),Pe=rn(mr)||function(){try{var e=rn("MessageChannel")||Eb("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(r){if(r.name==Wa&&r.code==25)return r.constructor}}(),Rb=Pe&&Pe.prototype,Pf=an.prototype,qb=xf.set,Ab=xf.getterFor(mr),_b="stack"in an(mr),Nf=i(function(e){return en(hr,e)&&hr[e].m?hr[e].c:0},"codeFor"),Za=i(function(){Ob(this,zr);var r=arguments.length,t=Af(r<1?void 0:arguments[0]),a=Af(r<2?void 0:arguments[1],"Error"),s=Nf(a);if(qb(this,{type:mr,name:a,message:t,code:s}),Qa||(this.name=a,this.message=t,this.code=s),_b){var m=an(t);m.name=mr,tn(this,"stack",Xa(1,wb(m.stack,1)))}},"DOMException"),zr=Za.prototype=Sb(Pf),jf=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),Ga=i(function(e){return jf(function(){return Ab(this)[e]})},"getterFor");Qa&&(Zt(zr,"code",Ga("code")),Zt(zr,"message",Ga("message")),Zt(zr,"name",Ga("name")));tn(zr,"constructor",Xa(1,Za));var on=Ja(function(){return!(new Pe instanceof an)}),Mf=on||Ja(function(){return Pf.toString!==Df||String(new Pe(1,2))!=="2: 1"}),Bf=on||Ja(function(){return new Pe(1,"DataCloneError").code!==25}),Db=on||Pe[Wa]!==25||Rb[Wa]!==25,_f=Cf?Mf||Bf||Db:on;bb({global:!0,constructor:!0,forced:_f},{DOMException:_f?Za:Pe});var Yr=rn(mr),nn=Yr.prototype;Mf&&(Cf||Pe===Yr)&&Tb(nn,"toString",Df);Bf&&Qa&&Pe===Yr&&Zt(nn,"code",jf(function(){return Nf(Ib(this).name)}));for(Ha in hr)en(hr,Ha)&&(za=hr[Ha],Hr=za.s,Ya=Xa(6,za.c),en(Yr,Hr)||tn(Yr,Hr,Ya),en(nn,Hr)||tn(nn,Hr,Ya));var za,Hr,Ya,Ha});var Gf=d(()=>{"use strict";var xb=ke(),Cb=ue(),ui=Te(),ii=Ue(),oi=ce().f,Vf=se(),Pb=Kr(),Nb=Ba(),Lf=kt(),ei=$a(),jb=Ka(),Mb=oe(),$f=Le(),Jr="DOMException",Kf=ui("Error"),Xr=ui(Jr),si=i(function(){Pb(this,Bb);var r=arguments.length,t=Lf(r<1?void 0:arguments[0]),a=Lf(r<2?void 0:arguments[1],"Error"),s=new Xr(t,a),m=Kf(t);return m.name=Jr,oi(s,"stack",ii(1,jb(m.stack,1))),Nb(s,this,si),s},"DOMException"),Bb=si.prototype=Xr.prototype,Fb="stack"in Kf(Jr),Vb="stack"in new Xr(1,2),ri=Xr&&Mb&&Object.getOwnPropertyDescriptor(Cb,Jr),Lb=!!ri&&!(ri.writable&&ri.configurable),Uf=Fb&&!Lb&&!Vb;xb({global:!0,constructor:!0,forced:$f||Uf},{DOMException:Uf?si:Xr});var Wr=ui(Jr),kf=Wr.prototype;if(kf.constructor!==Wr){$f||oi(kf,"constructor",ii(1,Wr));for(ti in ei)Vf(ei,ti)&&(ni=ei[ti],ai=ni.s,Vf(Wr,ai)||oi(Wr,ai,ii(6,ni.c)))}var ni,ai,ti});var zf=d(()=>{var Ub=Te(),kb=Ur(),Hf="DOMException";kb(Ub(Hf),Hf)});var Zf=d((PI,Qf)=>{var $b=re(),Kb=X(),Yf=Z(),Gb=pr(),Hb=Te(),zb=Xn(),Wf=i(function(){},"noop"),Yb=[],Jf=Hb("Reflect","construct"),ci=/^\s*(?:class|function)\b/,Wb=$b(ci.exec),Jb=!ci.exec(Wf),Qr=i(function(r){if(!Yf(r))return!1;try{return Jf(Wf,Yb,r),!0}catch{return!1}},"isConstructor"),Xf=i(function(r){if(!Yf(r))return!1;switch(Gb(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Jb||!!Wb(ci,zb(r))}catch{return!0}},"isConstructor");Xf.sham=!0;Qf.exports=!Jf||Kb(function(){var e;return Qr(Qr.call)||!Qr(Object)||!Qr(function(){e=!0})||e})?Xf:Qr});var rl=d((NI,el)=>{var Xb=TypeError;el.exports=function(e,r){if(e<r)throw Xb("Not enough arguments");return e}});var nl=d((jI,tl)=>{"use strict";var Qb=de();tl.exports=function(){var e=Qb(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r}});var ol=d((MI,il)=>{var Zb=_e(),eE=se(),rE=Pr(),tE=nl(),al=RegExp.prototype;il.exports=function(e){var r=e.flags;return r===void 0&&!("flags"in al)&&!eE(e,"flags")&&rE(al,e)?Zb(tE,e):r}});var sl=d((BI,ul)=>{var un=re(),Zr=Map.prototype;ul.exports={Map,set:un(Zr.set),get:un(Zr.get),has:un(Zr.has),remove:un(Zr.delete),proto:Zr}});var fl=d((FI,cl)=>{var fi=re(),gr=Set.prototype;cl.exports={Set,add:fi(gr.add),has:fi(gr.has),remove:fi(gr.delete),proto:gr,$has:gr.has,$keys:gr.keys}});var vl=d((VI,ll)=>{var nE=X(),aE=Ue();ll.exports=!nE(function(){var e=Error("a");return"stack"in e?(Object.defineProperty(e,"stack",aE(1,7)),e.stack!==7):!0})});var li=d((LI,dl)=>{dl.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var yl=d((UI,pl)=>{var iE=li(),oE=Qt();pl.exports=!iE&&!oE&&typeof window=="object"&&typeof document=="object"});var wl=d(()=>{var uE=Le(),sE=ke(),H=ue(),Ei=Te(),tt=re(),fn=X(),cE=Nr(),hi=Z(),fE=Zf(),lE=Qe(),mi=Ee(),vE=Ot(),dE=Jt(),ml=de(),gl=pr(),pE=se(),yE=_a(),vi=jr(),sn=Vr(),hE=rl(),mE=ol(),ln=sl(),bl=fl(),gE=vl(),di=jn(),bE=yl(),EE=li(),SE=Qt(),et=H.Object,TE=H.Array,El=H.Date,nt=H.Error,OE=H.EvalError,IE=H.RangeError,wE=H.ReferenceError,RE=H.SyntaxError,Sl=H.TypeError,qE=H.URIError,AE=H.PerformanceMark,br=H.WebAssembly,_E=br&&br.CompileError||nt,DE=br&&br.LinkError||nt,xE=br&&br.RuntimeError||nt,ar=Ei("DOMException"),gi=ln.Map,Tl=ln.has,CE=ln.get,cn=ln.set,PE=bl.Set,NE=bl.add,jE=Ei("Object","keys"),ME=tt([].push),BE=tt((!0).valueOf),FE=tt(1 .valueOf),VE=tt("".valueOf),LE=tt(El.prototype.getTime),bi=cE("structuredClone"),rt="DataCloneError",pi="Transferring",Ol=i(function(e){return!fn(function(){var r=new H.Set([7]),t=e(r),a=e(et(7));return t==r||!t.has(7)||typeof a!="object"||a!=7})&&e},"checkBasicSemantic"),hl=i(function(e,r){return!fn(function(){var t=new r,a=e({a:t,b:t});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===t.stack)})},"checkErrorsCloning"),UE=i(function(e){return!fn(function(){var r=e(new H.AggregateError([1],bi,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=bi||r.cause!=3})},"checkNewErrorsCloningSemantic"),Ke=H.structuredClone,kE=uE||!hl(Ke,nt)||!hl(Ke,ar)||!UE(Ke),$E=!Ke&&Ol(function(e){return new AE(bi,{detail:e}).detail}),$e=Ol(Ke)||$E,yi=i(function(e){throw new ar("Uncloneable type: "+e,rt)},"throwUncloneable"),fe=i(function(e,r){throw new ar((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",rt)},"throwUnpolyfillable"),KE=i(function(){var e;try{e=new H.DataTransfer}catch{try{e=new H.ClipboardEvent("").clipboardData}catch{}}return e&&e.items&&e.files?e:null},"createDataTransfer"),ae=i(function(e,r){if(vE(e)&&yi("Symbol"),!mi(e))return e;if(r){if(Tl(r,e))return CE(r,e)}else r=new gi;var t=gl(e),a=!1,s,m,c,E,y,b,g,q,h,T;switch(t){case"Array":c=TE(sn(e)),a=!0;break;case"Object":c={},a=!0;break;case"Map":c=new gi,a=!0;break;case"Set":c=new PE,a=!0;break;case"RegExp":c=new RegExp(e.source,mE(e));break;case"Error":switch(m=e.name,m){case"AggregateError":c=Ei("AggregateError")([]);break;case"EvalError":c=OE();break;case"RangeError":c=IE();break;case"ReferenceError":c=wE();break;case"SyntaxError":c=RE();break;case"TypeError":c=Sl();break;case"URIError":c=qE();break;case"CompileError":c=_E();break;case"LinkError":c=DE();break;case"RuntimeError":c=xE();break;default:c=nt()}a=!0;break;case"DOMException":c=new ar(e.message,e.name),a=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s=H[t],mi(s)||fe(t),c=new s(ae(e.buffer,r),e.byteOffset,t==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{c=new DOMQuad(ae(e.p1,r),ae(e.p2,r),ae(e.p3,r),ae(e.p4,r))}catch{$e?c=$e(e):fe(t)}break;case"FileList":if(E=KE(),E){for(y=0,b=sn(e);y<b;y++)E.items.add(ae(e[y],r));c=E.files}else $e?c=$e(e):fe(t);break;case"ImageData":try{c=new ImageData(ae(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch{$e?c=$e(e):fe(t)}break;default:if($e)c=$e(e);else switch(t){case"BigInt":c=et(e.valueOf());break;case"Boolean":c=et(BE(e));break;case"Number":c=et(FE(e));break;case"String":c=et(VE(e));break;case"Date":c=new El(LE(e));break;case"ArrayBuffer":s=H.DataView,!s&&typeof e.slice!="function"&&fe(t);try{if(typeof e.slice=="function")c=e.slice(0);else for(b=e.byteLength,c=new ArrayBuffer(b),h=new s(e),T=new s(c),y=0;y<b;y++)T.setUint8(y,h.getUint8(y))}catch{throw new ar("ArrayBuffer is detached",rt)}break;case"SharedArrayBuffer":c=e;break;case"Blob":try{c=e.slice(0,e.size,e.type)}catch{fe(t)}break;case"DOMPoint":case"DOMPointReadOnly":s=H[t];try{c=s.fromPoint?s.fromPoint(e):new s(e.x,e.y,e.z,e.w)}catch{fe(t)}break;case"DOMRect":case"DOMRectReadOnly":s=H[t];try{c=s.fromRect?s.fromRect(e):new s(e.x,e.y,e.width,e.height)}catch{fe(t)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=H[t];try{c=s.fromMatrix?s.fromMatrix(e):new s(e)}catch{fe(t)}break;case"AudioData":case"VideoFrame":hi(e.clone)||fe(t);try{c=e.clone()}catch{yi(t)}break;case"File":try{c=new File([e],e.name,e)}catch{fe(t)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":fe(t);default:yi(t)}}if(cn(r,e,c),a)switch(t){case"Array":case"Object":for(g=jE(e),y=0,b=sn(g);y<b;y++)q=g[y],yE(c,q,ae(e[q],r));break;case"Map":e.forEach(function(D,M){cn(c,ae(M,r),ae(D,r))});break;case"Set":e.forEach(function(D){NE(c,ae(D,r))});break;case"Error":vi(c,"message",ae(e.message,r)),pE(e,"cause")&&vi(c,"cause",ae(e.cause,r)),m=="AggregateError"&&(c.errors=ae(e.errors,r));case"DOMException":gE&&vi(c,"stack",ae(e.stack,r))}return c},"structuredCloneInternal"),Il=Ke&&!fn(function(){if(EE&&di>92||SE&&di>94||bE&&di>97)return!1;var e=new ArrayBuffer(8),r=Ke(e,{transfer:[e]});return e.byteLength!=0||r.byteLength!=8}),GE=i(function(e,r){if(!mi(e))throw Sl("Transfer option cannot be converted to a sequence");var t=[];dE(e,function(h){ME(t,ml(h))});var a=0,s=sn(t),m,c,E,y,b,g,q;if(Il)for(y=Ke(t,{transfer:t});a<s;)cn(r,t[a],y[a++]);else for(;a<s;){if(m=t[a++],Tl(r,m))throw new ar("Duplicate transferable",rt);switch(c=gl(m),c){case"ImageBitmap":E=H.OffscreenCanvas,fE(E)||fe(c,pi);try{g=new E(m.width,m.height),q=g.getContext("bitmaprenderer"),q.transferFromImageBitmap(m),b=g.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!hi(m.clone)||!hi(m.close))&&fe(c,pi);try{b=m.clone(),m.close()}catch{}break;case"ArrayBuffer":case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":fe(c,pi)}if(b===void 0)throw new ar("This object cannot be transferred: "+c,rt);cn(r,m,b)}},"tryToTransfer");sE({global:!0,enumerable:!0,sham:!Il,forced:kE},{structuredClone:i(function(r){var t=hE(arguments.length,1)>1&&!lE(arguments[1])?ml(arguments[1]):void 0,a=t?t.transfer:void 0,s;return a!==void 0&&(s=new gi,GE(a,s)),ae(r,s)},"structuredClone")})});var ql=d((KI,Rl)=>{var HE=ue();Rl.exports=HE});var _l=d((GI,Al)=>{fs();oc();sc();lc();yf();mf();Ff();Gf();zf();wl();var zE=ql();Al.exports=zE.structuredClone});var xl=d((HI,Dl)=>{var YE=_l();Dl.exports=YE});var Ti=d((Cl,Si)=>{(function(e){if(typeof Cl=="object"&&typeof Si<"u")Si.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return i(function a(s,m,c){function E(g,q){if(!m[g]){if(!s[g]){var h=typeof xr=="function"&&xr;if(!q&&h)return h(g,!0);if(y)return y(g,!0);var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}var D=m[g]={exports:{}};s[g][0].call(D.exports,function(M){var Y=s[g][1][M];return E(Y||M)},D,D.exports,a,s,m,c)}return m[g].exports}i(E,"s");for(var y=typeof xr=="function"&&xr,b=0;b<c.length;b++)E(c[b]);return E},"e")({1:[function(a,s,m){(function(c){"use strict";var E=c.MutationObserver||c.WebKitMutationObserver,y;if(E){var b=0,g=new E(M),q=c.document.createTextNode("");g.observe(q,{characterData:!0}),y=i(function(){q.data=b=++b%2},"scheduleDrain")}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var h=new c.MessageChannel;h.port1.onmessage=M,y=i(function(){h.port2.postMessage(0)},"scheduleDrain")}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?y=i(function(){var C=c.document.createElement("script");C.onreadystatechange=function(){M(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)},"scheduleDrain"):y=i(function(){setTimeout(M,0)},"scheduleDrain");var T,D=[];function M(){T=!0;for(var C,P,F=D.length;F;){for(P=D,D=[],C=-1;++C<F;)P[C]();F=D.length}T=!1}i(M,"nextTick"),s.exports=Y;function Y(C){D.push(C)===1&&!T&&y()}i(Y,"immediate")}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,s,m){"use strict";var c=a(1);function E(){}i(E,"INTERNAL");var y={},b=["REJECTED"],g=["FULFILLED"],q=["PENDING"];s.exports=h;function h(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=q,this.queue=[],this.outcome=void 0,R!==E&&Y(this,R)}i(h,"Promise"),h.prototype.catch=function(R){return this.then(null,R)},h.prototype.then=function(R,V){if(typeof R!="function"&&this.state===g||typeof V!="function"&&this.state===b)return this;var j=new this.constructor(E);if(this.state!==q){var k=this.state===g?R:V;D(j,k,this.outcome)}else this.queue.push(new T(j,R,V));return j};function T(R,V,j){this.promise=R,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}i(T,"QueueItem"),T.prototype.callFulfilled=function(R){y.resolve(this.promise,R)},T.prototype.otherCallFulfilled=function(R){D(this.promise,this.onFulfilled,R)},T.prototype.callRejected=function(R){y.reject(this.promise,R)},T.prototype.otherCallRejected=function(R){D(this.promise,this.onRejected,R)};function D(R,V,j){c(function(){var k;try{k=V(j)}catch(ne){return y.reject(R,ne)}k===R?y.reject(R,new TypeError("Cannot resolve promise with itself")):y.resolve(R,k)})}i(D,"unwrap"),y.resolve=function(R,V){var j=C(M,V);if(j.status==="error")return y.reject(R,j.value);var k=j.value;if(k)Y(R,k);else{R.state=g,R.outcome=V;for(var ne=-1,ve=R.queue.length;++ne<ve;)R.queue[ne].callFulfilled(V)}return R},y.reject=function(R,V){R.state=b,R.outcome=V;for(var j=-1,k=R.queue.length;++j<k;)R.queue[j].callRejected(V);return R};function M(R){var V=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof V=="function")return i(function(){V.apply(R,arguments)},"appyThen")}i(M,"getThen");function Y(R,V){var j=!1;function k(he){j||(j=!0,y.reject(R,he))}i(k,"onError");function ne(he){j||(j=!0,y.resolve(R,he))}i(ne,"onSuccess");function ve(){V(ne,k)}i(ve,"tryToUnwrap");var ye=C(ve);ye.status==="error"&&k(ye.value)}i(Y,"safelyResolveThenable");function C(R,V){var j={};try{j.value=R(V),j.status="success"}catch(k){j.status="error",j.value=k}return j}i(C,"tryCatch"),h.resolve=P;function P(R){return R instanceof this?R:y.resolve(new this(E),R)}i(P,"resolve"),h.reject=F;function F(R){var V=new this(E);return y.reject(V,R)}i(F,"reject"),h.all=te;function te(R){var V=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=R.length,k=!1;if(!j)return this.resolve([]);for(var ne=new Array(j),ve=0,ye=-1,he=new this(E);++ye<j;)Re(R[ye],ye);return he;function Re(Ar,lt){V.resolve(Ar).then(dn,function(cr){k||(k=!0,y.reject(he,cr))});function dn(cr){ne[lt]=cr,++ve===j&&!k&&(k=!0,y.resolve(he,ne))}i(dn,"resolveFromAll")}}i(te,"all"),h.race=we;function we(R){var V=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=R.length,k=!1;if(!j)return this.resolve([]);for(var ne=-1,ve=new this(E);++ne<j;)ye(R[ne]);return ve;function ye(he){V.resolve(he).then(function(Re){k||(k=!0,y.resolve(ve,Re))},function(Re){k||(k=!0,y.reject(ve,Re))})}}i(we,"race")},{"1":1}],3:[function(a,s,m){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"2":2}],4:[function(a,s,m){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function E(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}i(E,"_classCallCheck");function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}i(y,"getIDB");var b=y();function g(){try{if(!b||!b.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),u=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||u)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}i(g,"isIndexedDBValid");function q(n,u){n=n||[],u=u||{};try{return new Blob(n,u)}catch(f){if(f.name!=="TypeError")throw f;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,l=new o,v=0;v<n.length;v+=1)l.append(n[v]);return l.getBlob(u.type)}}i(q,"createBlob"),typeof Promise>"u"&&a(3);var h=Promise;function T(n,u){u&&n.then(function(o){u(null,o)},function(o){u(o)})}i(T,"executeCallback");function D(n,u,o){typeof u=="function"&&n.then(u),typeof o=="function"&&n.catch(o)}i(D,"executeTwoCallbacks");function M(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}i(M,"normalizeKey");function Y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}i(Y,"getCallback");var C="local-forage-detect-blob-support",P=void 0,F={},te=Object.prototype.toString,we="readonly",R="readwrite";function V(n){for(var u=n.length,o=new ArrayBuffer(u),l=new Uint8Array(o),v=0;v<u;v++)l[v]=n.charCodeAt(v);return o}i(V,"_binStringToArrayBuffer");function j(n){return new h(function(u){var o=n.transaction(C,R),l=q([""]);o.objectStore(C).put(l,"key"),o.onabort=function(v){v.preventDefault(),v.stopPropagation(),u(!1)},o.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);u(f||!v||parseInt(v[1],10)>=43)}}).catch(function(){return!1})}i(j,"_checkBlobSupportWithoutCaching");function k(n){return typeof P=="boolean"?h.resolve(P):j(n).then(function(u){return P=u,P})}i(k,"_checkBlobSupport");function ne(n){var u=F[n.name],o={};o.promise=new h(function(l,v){o.resolve=l,o.reject=v}),u.deferredOperations.push(o),u.dbReady?u.dbReady=u.dbReady.then(function(){return o.promise}):u.dbReady=o.promise}i(ne,"_deferReadiness");function ve(n){var u=F[n.name],o=u.deferredOperations.pop();if(o)return o.resolve(),o.promise}i(ve,"_advanceReadiness");function ye(n,u){var o=F[n.name],l=o.deferredOperations.pop();if(l)return l.reject(u),l.promise}i(ye,"_rejectReadiness");function he(n,u){return new h(function(o,l){if(F[n.name]=F[n.name]||qi(),n.db)if(u)ne(n),n.db.close();else return o(n.db);var v=[n.name];u&&v.push(n.version);var f=b.open.apply(b,v);u&&(f.onupgradeneeded=function(p){var S=f.result;try{S.createObjectStore(n.storeName),p.oldVersion<=1&&S.createObjectStore(C)}catch(O){if(O.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw O}}),f.onerror=function(p){p.preventDefault(),l(f.error)},f.onsuccess=function(){var p=f.result;p.onversionchange=function(S){S.target.close()},o(p),ve(n)}})}i(he,"_getConnection");function Re(n){return he(n,!1)}i(Re,"_getOriginalConnection");function Ar(n){return he(n,!0)}i(Ar,"_getUpgradedConnection");function lt(n,u){if(!n.db)return!0;var o=!n.db.objectStoreNames.contains(n.storeName),l=n.version<n.db.version,v=n.version>n.db.version;if(l&&(n.version!==u&&console.warn('The database "'+n.name+`" can't be downgraded from version `+n.db.version+" to version "+n.version+"."),n.version=n.db.version),v||o){if(o){var f=n.db.version+1;f>n.version&&(n.version=f)}return!0}return!1}i(lt,"_isUpgradeNeeded");function dn(n){return new h(function(u,o){var l=new FileReader;l.onerror=o,l.onloadend=function(v){var f=btoa(v.target.result||"");u({__local_forage_encoded_blob:!0,data:f,type:n.type})},l.readAsBinaryString(n)})}i(dn,"_encodeBlob");function cr(n){var u=V(atob(n.data));return q([u],{type:n.type})}i(cr,"_decodeBlob");function Ri(n){return n&&n.__local_forage_encoded_blob}i(Ri,"_isEncodedBlob");function jl(n){var u=this,o=u._initReady().then(function(){var l=F[u._dbInfo.name];if(l&&l.dbReady)return l.dbReady});return D(o,n,n),o}i(jl,"_fullyReady");function Ml(n){ne(n);for(var u=F[n.name],o=u.forages,l=0;l<o.length;l++){var v=o[l];v._dbInfo.db&&(v._dbInfo.db.close(),v._dbInfo.db=null)}return n.db=null,Re(n).then(function(f){return n.db=f,lt(n)?Ar(n):f}).then(function(f){n.db=u.db=f;for(var p=0;p<o.length;p++)o[p]._dbInfo.db=f}).catch(function(f){throw ye(n,f),f})}i(Ml,"_tryReconnect");function qe(n,u,o,l){l===void 0&&(l=1);try{var v=n.db.transaction(n.storeName,u);o(null,v)}catch(f){if(l>0&&(!n.db||f.name==="InvalidStateError"||f.name==="NotFoundError"))return h.resolve().then(function(){if(!n.db||f.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),Ar(n)}).then(function(){return Ml(n).then(function(){qe(n,u,o,l-1)})}).catch(o);o(f)}}i(qe,"createTransaction");function qi(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}i(qi,"createDbContext");function Bl(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=n[l];var v=F[o.name];v||(v=qi(),F[o.name]=v),v.forages.push(u),u._initReady||(u._initReady=u.ready,u.ready=jl);var f=[];function p(){return h.resolve()}i(p,"ignoreErrors");for(var S=0;S<v.forages.length;S++){var O=v.forages[S];O!==u&&f.push(O._initReady().catch(p))}var I=v.forages.slice(0);return h.all(f).then(function(){return o.db=v.db,Re(o)}).then(function(w){return o.db=w,lt(o,u._defaultConfig.version)?Ar(o):w}).then(function(w){o.db=v.db=w,u._dbInfo=o;for(var _=0;_<I.length;_++){var N=I[_];N!==u&&(N._dbInfo.db=o.db,N._dbInfo.version=o.version)}})}i(Bl,"_initStorage");function Fl(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){qe(o._dbInfo,we,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.get(n);I.onsuccess=function(){var w=I.result;w===void 0&&(w=null),Ri(w)&&(w=cr(w)),v(w)},I.onerror=function(){f(I.error)}}catch(w){f(w)}})}).catch(f)});return T(l,u),l}i(Fl,"getItem");function Vl(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){qe(o._dbInfo,we,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.openCursor(),w=1;I.onsuccess=function(){var _=I.result;if(_){var N=_.value;Ri(N)&&(N=cr(N));var L=n(N,_.key,w++);L!==void 0?v(L):_.continue()}else v()},I.onerror=function(){f(I.error)}}catch(_){f(_)}})}).catch(f)});return T(l,u),l}i(Vl,"iterate");function Ll(n,u,o){var l=this;n=M(n);var v=new h(function(f,p){var S;l.ready().then(function(){return S=l._dbInfo,te.call(u)==="[object Blob]"?k(S.db).then(function(O){return O?u:dn(u)}):u}).then(function(O){qe(l._dbInfo,R,function(I,w){if(I)return p(I);try{var _=w.objectStore(l._dbInfo.storeName);O===null&&(O=void 0);var N=_.put(O,n);w.oncomplete=function(){O===void 0&&(O=null),f(O)},w.onabort=w.onerror=function(){var L=N.error?N.error:N.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return T(v,o),v}i(Ll,"setItem");function Ul(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){qe(o._dbInfo,R,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.delete(n);S.oncomplete=function(){v()},S.onerror=function(){f(I.error)},S.onabort=function(){var w=I.error?I.error:I.transaction.error;f(w)}}catch(w){f(w)}})}).catch(f)});return T(l,u),l}i(Ul,"removeItem");function kl(n){var u=this,o=new h(function(l,v){u.ready().then(function(){qe(u._dbInfo,R,function(f,p){if(f)return v(f);try{var S=p.objectStore(u._dbInfo.storeName),O=S.clear();p.oncomplete=function(){l()},p.onabort=p.onerror=function(){var I=O.error?O.error:O.transaction.error;v(I)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(kl,"clear");function $l(n){var u=this,o=new h(function(l,v){u.ready().then(function(){qe(u._dbInfo,we,function(f,p){if(f)return v(f);try{var S=p.objectStore(u._dbInfo.storeName),O=S.count();O.onsuccess=function(){l(O.result)},O.onerror=function(){v(O.error)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i($l,"length");function Kl(n,u){var o=this,l=new h(function(v,f){if(n<0){v(null);return}o.ready().then(function(){qe(o._dbInfo,we,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=!1,w=O.openKeyCursor();w.onsuccess=function(){var _=w.result;if(!_){v(null);return}n===0||I?v(_.key):(I=!0,_.advance(n))},w.onerror=function(){f(w.error)}}catch(_){f(_)}})}).catch(f)});return T(l,u),l}i(Kl,"key");function Gl(n){var u=this,o=new h(function(l,v){u.ready().then(function(){qe(u._dbInfo,we,function(f,p){if(f)return v(f);try{var S=p.objectStore(u._dbInfo.storeName),O=S.openKeyCursor(),I=[];O.onsuccess=function(){var w=O.result;if(!w){l(I);return}I.push(w.key),w.continue()},O.onerror=function(){v(O.error)}}catch(w){v(w)}})}).catch(v)});return T(o,n),o}i(Gl,"keys");function Hl(n,u){u=Y.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;if(!n.name)v=h.reject("Invalid arguments");else{var f=n.name===o.name&&l._dbInfo.db,p=f?h.resolve(l._dbInfo.db):Re(n).then(function(S){var O=F[n.name],I=O.forages;O.db=S;for(var w=0;w<I.length;w++)I[w]._dbInfo.db=S;return S});n.storeName?v=p.then(function(S){if(!!S.objectStoreNames.contains(n.storeName)){var O=S.version+1;ne(n);var I=F[n.name],w=I.forages;S.close();for(var _=0;_<w.length;_++){var N=w[_];N._dbInfo.db=null,N._dbInfo.version=O}var L=new h(function(U,Q){var W=b.open(n.name,O);W.onerror=function(me){var Dr=W.result;Dr.close(),Q(me)},W.onupgradeneeded=function(){var me=W.result;me.deleteObjectStore(n.storeName)},W.onsuccess=function(){var me=W.result;me.close(),U(me)}});return L.then(function(U){I.db=U;for(var Q=0;Q<w.length;Q++){var W=w[Q];W._dbInfo.db=U,ve(W._dbInfo)}}).catch(function(U){throw(ye(n,U)||h.resolve()).catch(function(){}),U})}}):v=p.then(function(S){ne(n);var O=F[n.name],I=O.forages;S.close();for(var w=0;w<I.length;w++){var _=I[w];_._dbInfo.db=null}var N=new h(function(L,U){var Q=b.deleteDatabase(n.name);Q.onerror=function(){var W=Q.result;W&&W.close(),U(Q.error)},Q.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},Q.onsuccess=function(){var W=Q.result;W&&W.close(),L(W)}});return N.then(function(L){O.db=L;for(var U=0;U<I.length;U++){var Q=I[U];ve(Q._dbInfo)}}).catch(function(L){throw(ye(n,L)||h.resolve()).catch(function(){}),L})})}return T(v,u),v}i(Hl,"dropInstance");var zl={_driver:"asyncStorage",_initStorage:Bl,_support:g(),iterate:Vl,getItem:Fl,setItem:Ll,removeItem:Ul,clear:kl,length:$l,key:Kl,keys:Gl,dropInstance:Hl};function Yl(){return typeof openDatabase=="function"}i(Yl,"isWebSQLValid");var Be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Wl="~~local_forage_type~",Ai=/^~~local_forage_type~([^~]+)~/,vt="__lfsc__:",pn=vt.length,yn="arbf",hn="blob",_i="si08",Di="ui08",xi="uic8",Ci="si16",Pi="si32",Ni="ur16",ji="ui32",Mi="fl32",Bi="fl64",Fi=pn+yn.length,Vi=Object.prototype.toString;function Li(n){var u=n.length*.75,o=n.length,l,v=0,f,p,S,O;n[n.length-1]==="="&&(u--,n[n.length-2]==="="&&u--);var I=new ArrayBuffer(u),w=new Uint8Array(I);for(l=0;l<o;l+=4)f=Be.indexOf(n[l]),p=Be.indexOf(n[l+1]),S=Be.indexOf(n[l+2]),O=Be.indexOf(n[l+3]),w[v++]=f<<2|p>>4,w[v++]=(p&15)<<4|S>>2,w[v++]=(S&3)<<6|O&63;return I}i(Li,"stringToBuffer");function mn(n){var u=new Uint8Array(n),o="",l;for(l=0;l<u.length;l+=3)o+=Be[u[l]>>2],o+=Be[(u[l]&3)<<4|u[l+1]>>4],o+=Be[(u[l+1]&15)<<2|u[l+2]>>6],o+=Be[u[l+2]&63];return u.length%3===2?o=o.substring(0,o.length-1)+"=":u.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}i(mn,"bufferToString");function Jl(n,u){var o="";if(n&&(o=Vi.call(n)),n&&(o==="[object ArrayBuffer]"||n.buffer&&Vi.call(n.buffer)==="[object ArrayBuffer]")){var l,v=vt;n instanceof ArrayBuffer?(l=n,v+=yn):(l=n.buffer,o==="[object Int8Array]"?v+=_i:o==="[object Uint8Array]"?v+=Di:o==="[object Uint8ClampedArray]"?v+=xi:o==="[object Int16Array]"?v+=Ci:o==="[object Uint16Array]"?v+=Ni:o==="[object Int32Array]"?v+=Pi:o==="[object Uint32Array]"?v+=ji:o==="[object Float32Array]"?v+=Mi:o==="[object Float64Array]"?v+=Bi:u(new Error("Failed to get type for BinaryArray"))),u(v+mn(l))}else if(o==="[object Blob]"){var f=new FileReader;f.onload=function(){var p=Wl+n.type+"~"+mn(this.result);u(vt+hn+p)},f.readAsArrayBuffer(n)}else try{u(JSON.stringify(n))}catch(p){console.error("Couldn't convert value into a JSON string: ",n),u(null,p)}}i(Jl,"serialize");function Xl(n){if(n.substring(0,pn)!==vt)return JSON.parse(n);var u=n.substring(Fi),o=n.substring(pn,Fi),l;if(o===hn&&Ai.test(u)){var v=u.match(Ai);l=v[1],u=u.substring(v[0].length)}var f=Li(u);switch(o){case yn:return f;case hn:return q([f],{type:l});case _i:return new Int8Array(f);case Di:return new Uint8Array(f);case xi:return new Uint8ClampedArray(f);case Ci:return new Int16Array(f);case Ni:return new Uint16Array(f);case Pi:return new Int32Array(f);case ji:return new Uint32Array(f);case Mi:return new Float32Array(f);case Bi:return new Float64Array(f);default:throw new Error("Unkown type: "+o)}}i(Xl,"deserialize");var gn={serialize:Jl,deserialize:Xl,stringToBuffer:Li,bufferToString:mn};function Ui(n,u,o,l){n.executeSql("CREATE TABLE IF NOT EXISTS "+u.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,l)}i(Ui,"createDbTable");function Ql(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=typeof n[l]!="string"?n[l].toString():n[l];var v=new h(function(f,p){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(S){return p(S)}o.db.transaction(function(S){Ui(S,o,function(){u._dbInfo=o,f()},function(O,I){p(I)})},p)});return o.serializer=gn,v}i(Ql,"_initStorage$1");function Fe(n,u,o,l,v,f){n.executeSql(o,l,v,function(p,S){S.code===S.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[u.storeName],function(O,I){I.rows.length?f(O,S):Ui(O,u,function(){O.executeSql(o,l,v,f)},f)},f):f(p,S)},f)}i(Fe,"tryExecuteSql");function Zl(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Fe(S,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[n],function(O,I){var w=I.rows.length?I.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(Zl,"getItem$1");function ev(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Fe(S,p,"SELECT * FROM "+p.storeName,[],function(O,I){for(var w=I.rows,_=w.length,N=0;N<_;N++){var L=w.item(N),U=L.value;if(U&&(U=p.serializer.deserialize(U)),U=n(U,L.key,N+1),U!==void 0){v(U);return}}v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(ev,"iterate$1");function ki(n,u,o,l){var v=this;n=M(n);var f=new h(function(p,S){v.ready().then(function(){u===void 0&&(u=null);var O=u,I=v._dbInfo;I.serializer.serialize(u,function(w,_){_?S(_):I.db.transaction(function(N){Fe(N,I,"INSERT OR REPLACE INTO "+I.storeName+" (key, value) VALUES (?, ?)",[n,w],function(){p(O)},function(L,U){S(U)})},function(N){if(N.code===N.QUOTA_ERR){if(l>0){p(ki.apply(v,[n,O,o,l-1]));return}S(N)}})})}).catch(S)});return T(f,o),f}i(ki,"_setItem");function rv(n,u,o){return ki.apply(this,[n,u,o,1])}i(rv,"setItem$1");function tv(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Fe(S,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[n],function(){v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(tv,"removeItem$1");function nv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Fe(p,f,"DELETE FROM "+f.storeName,[],function(){l()},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(nv,"clear$1");function av(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Fe(p,f,"SELECT COUNT(key) as c FROM "+f.storeName,[],function(S,O){var I=O.rows.item(0).c;l(I)},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(av,"length$1");function iv(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Fe(S,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[n+1],function(O,I){var w=I.rows.length?I.rows.item(0).key:null;v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(iv,"key$1");function ov(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Fe(p,f,"SELECT key FROM "+f.storeName,[],function(S,O){for(var I=[],w=0;w<O.rows.length;w++)I.push(O.rows.item(w).key);l(I)},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(ov,"keys$1");function uv(n){return new h(function(u,o){n.transaction(function(l){l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(v,f){for(var p=[],S=0;S<f.rows.length;S++)p.push(f.rows.item(S).name);u({db:n,storeNames:p})},function(v,f){o(f)})},function(l){o(l)})})}i(uv,"getAllStoreNames");function sv(n,u){u=Y.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;return n.name?v=new h(function(f){var p;n.name===o.name?p=l._dbInfo.db:p=openDatabase(n.name,"","",0),n.storeName?f({db:p,storeNames:[n.storeName]}):f(uv(p))}).then(function(f){return new h(function(p,S){f.db.transaction(function(O){function I(L){return new h(function(U,Q){O.executeSql("DROP TABLE IF EXISTS "+L,[],function(){U()},function(W,me){Q(me)})})}i(I,"dropTable");for(var w=[],_=0,N=f.storeNames.length;_<N;_++)w.push(I(f.storeNames[_]));h.all(w).then(function(){p()}).catch(function(L){S(L)})},function(O){S(O)})})}):v=h.reject("Invalid arguments"),T(v,u),v}i(sv,"dropInstance$1");var cv={_driver:"webSQLStorage",_initStorage:Ql,_support:Yl(),iterate:ev,getItem:Zl,setItem:rv,removeItem:tv,clear:nv,length:av,key:iv,keys:ov,dropInstance:sv};function fv(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}i(fv,"isLocalStorageValid");function $i(n,u){var o=n.name+"/";return n.storeName!==u.storeName&&(o+=n.storeName+"/"),o}i($i,"_getKeyPrefix");function lv(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch{return!0}}i(lv,"checkIfLocalStorageThrows");function vv(){return!lv()||localStorage.length>0}i(vv,"_isLocalStorageUsable");function dv(n){var u=this,o={};if(n)for(var l in n)o[l]=n[l];return o.keyPrefix=$i(n,u._defaultConfig),vv()?(u._dbInfo=o,o.serializer=gn,h.resolve()):h.reject()}i(dv,"_initStorage$2");function pv(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo.keyPrefix,v=localStorage.length-1;v>=0;v--){var f=localStorage.key(v);f.indexOf(l)===0&&localStorage.removeItem(f)}});return T(o,n),o}i(pv,"clear$2");function yv(n,u){var o=this;n=M(n);var l=o.ready().then(function(){var v=o._dbInfo,f=localStorage.getItem(v.keyPrefix+n);return f&&(f=v.serializer.deserialize(f)),f});return T(l,u),l}i(yv,"getItem$2");function hv(n,u){var o=this,l=o.ready().then(function(){for(var v=o._dbInfo,f=v.keyPrefix,p=f.length,S=localStorage.length,O=1,I=0;I<S;I++){var w=localStorage.key(I);if(w.indexOf(f)===0){var _=localStorage.getItem(w);if(_&&(_=v.serializer.deserialize(_)),_=n(_,w.substring(p),O++),_!==void 0)return _}}});return T(l,u),l}i(hv,"iterate$2");function mv(n,u){var o=this,l=o.ready().then(function(){var v=o._dbInfo,f;try{f=localStorage.key(n)}catch{f=null}return f&&(f=f.substring(v.keyPrefix.length)),f});return T(l,u),l}i(mv,"key$2");function gv(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo,v=localStorage.length,f=[],p=0;p<v;p++){var S=localStorage.key(p);S.indexOf(l.keyPrefix)===0&&f.push(S.substring(l.keyPrefix.length))}return f});return T(o,n),o}i(gv,"keys$2");function bv(n){var u=this,o=u.keys().then(function(l){return l.length});return T(o,n),o}i(bv,"length$2");function Ev(n,u){var o=this;n=M(n);var l=o.ready().then(function(){var v=o._dbInfo;localStorage.removeItem(v.keyPrefix+n)});return T(l,u),l}i(Ev,"removeItem$2");function Sv(n,u,o){var l=this;n=M(n);var v=l.ready().then(function(){u===void 0&&(u=null);var f=u;return new h(function(p,S){var O=l._dbInfo;O.serializer.serialize(u,function(I,w){if(w)S(w);else try{localStorage.setItem(O.keyPrefix+n,I),p(f)}catch(_){(_.name==="QuotaExceededError"||_.name==="NS_ERROR_DOM_QUOTA_REACHED")&&S(_),S(_)}})})});return T(v,o),v}i(Sv,"setItem$2");function Tv(n,u){if(u=Y.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var o=this.config();n.name=n.name||o.name,n.storeName=n.storeName||o.storeName}var l=this,v;return n.name?v=new h(function(f){n.storeName?f($i(n,l._defaultConfig)):f(n.name+"/")}).then(function(f){for(var p=localStorage.length-1;p>=0;p--){var S=localStorage.key(p);S.indexOf(f)===0&&localStorage.removeItem(S)}}):v=h.reject("Invalid arguments"),T(v,u),v}i(Tv,"dropInstance$2");var Ov={_driver:"localStorageWrapper",_initStorage:dv,_support:fv(),iterate:hv,getItem:yv,setItem:Sv,removeItem:Ev,clear:pv,length:bv,key:mv,keys:gv,dropInstance:Tv},Iv=i(function(u,o){return u===o||typeof u=="number"&&typeof o=="number"&&isNaN(u)&&isNaN(o)},"sameValue"),wv=i(function(u,o){for(var l=u.length,v=0;v<l;){if(Iv(u[v],o))return!0;v++}return!1},"includes"),Ki=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},_r={},Gi={},fr={INDEXEDDB:zl,WEBSQL:cv,LOCALSTORAGE:Ov},Rv=[fr.INDEXEDDB._driver,fr.WEBSQL._driver,fr.LOCALSTORAGE._driver],dt=["dropInstance"],bn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(dt),qv={description:"",driver:Rv.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Av(n,u){n[u]=function(){var o=arguments;return n.ready().then(function(){return n[u].apply(n,o)})}}i(Av,"callWhenReady");function En(){for(var n=1;n<arguments.length;n++){var u=arguments[n];if(u)for(var o in u)u.hasOwnProperty(o)&&(Ki(u[o])?arguments[0][o]=u[o].slice():arguments[0][o]=u[o])}return arguments[0]}i(En,"extend");var _v=function(){function n(u){E(this,n);for(var o in fr)if(fr.hasOwnProperty(o)){var l=fr[o],v=l._driver;this[o]=v,_r[v]||this.defineDriver(l)}this._defaultConfig=En({},qv),this._config=En({},this._defaultConfig,u),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i(n,"LocalForage"),n.prototype.config=i(function(o){if((typeof o>"u"?"undefined":c(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in o){if(l==="storeName"&&(o[l]=o[l].replace(/\W/g,"_")),l==="version"&&typeof o[l]!="number")return new Error("Database version must be a number.");this._config[l]=o[l]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},"config"),n.prototype.defineDriver=i(function(o,l,v){var f=new h(function(p,S){try{var O=o._driver,I=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){S(I);return}for(var w=bn.concat("_initStorage"),_=0,N=w.length;_<N;_++){var L=w[_],U=!wv(dt,L);if((U||o[L])&&typeof o[L]!="function"){S(I);return}}var Q=i(function(){for(var Dr=i(function(Cv){return function(){var Pv=new Error("Method "+Cv+" is not implemented by the current driver"),Hi=h.reject(Pv);return T(Hi,arguments[arguments.length-1]),Hi}},"methodNotImplementedFactory"),Sn=0,xv=dt.length;Sn<xv;Sn++){var Tn=dt[Sn];o[Tn]||(o[Tn]=Dr(Tn))}},"configureMissingMethods");Q();var W=i(function(Dr){_r[O]&&console.info("Redefining LocalForage driver: "+O),_r[O]=o,Gi[O]=Dr,p()},"setDriverSupport");"_support"in o?o._support&&typeof o._support=="function"?o._support().then(W,S):W(!!o._support):W(!0)}catch(me){S(me)}});return D(f,l,v),f},"defineDriver"),n.prototype.driver=i(function(){return this._driver||null},"driver"),n.prototype.getDriver=i(function(o,l,v){var f=_r[o]?h.resolve(_r[o]):h.reject(new Error("Driver not found."));return D(f,l,v),f},"getDriver"),n.prototype.getSerializer=i(function(o){var l=h.resolve(gn);return D(l,o),l},"getSerializer"),n.prototype.ready=i(function(o){var l=this,v=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return D(v,o,o),v},"ready"),n.prototype.setDriver=i(function(o,l,v){var f=this;Ki(o)||(o=[o]);var p=this._getSupportedDrivers(o);function S(){f._config.driver=f.driver()}i(S,"setDriverToConfig");function O(_){return f._extend(_),S(),f._ready=f._initStorage(f._config),f._ready}i(O,"extendSelfWithDriver");function I(_){return function(){var N=0;function L(){for(;N<_.length;){var U=_[N];return N++,f._dbInfo=null,f._ready=null,f.getDriver(U).then(O).catch(L)}S();var Q=new Error("No available storage method found.");return f._driverSet=h.reject(Q),f._driverSet}return i(L,"driverPromiseLoop"),L()}}i(I,"initDriver");var w=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=w.then(function(){var _=p[0];return f._dbInfo=null,f._ready=null,f.getDriver(_).then(function(N){f._driver=N._driver,S(),f._wrapLibraryMethodsWithReady(),f._initDriver=I(p)})}).catch(function(){S();var _=new Error("No available storage method found.");return f._driverSet=h.reject(_),f._driverSet}),D(this._driverSet,l,v),this._driverSet},"setDriver"),n.prototype.supports=i(function(o){return!!Gi[o]},"supports"),n.prototype._extend=i(function(o){En(this,o)},"_extend"),n.prototype._getSupportedDrivers=i(function(o){for(var l=[],v=0,f=o.length;v<f;v++){var p=o[v];this.supports(p)&&l.push(p)}return l},"_getSupportedDrivers"),n.prototype._wrapLibraryMethodsWithReady=i(function(){for(var o=0,l=bn.length;o<l;o++)Av(this,bn[o])},"_wrapLibraryMethodsWithReady"),n.prototype.createInstance=i(function(o){return new n(o)},"createInstance"),n}(),Dv=new _v;s.exports=Dv},{"3":3}]},{},[4])(4)})});var pt=i(e=>e==null,"isNil");var zi=i(e=>(typeof e=="string"||e instanceof String)&&e.trim()==="","isEmptyString");var Yi=i(()=>{let e=new Date().getTime(),r=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let a=Math.random()*16;return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(r+a)%16|0,r=Math.floor(r/16)),(t==="x"?a:a&3|8).toString(16)})},"generateUUID");var be=i(e=>`${e}`=="[object Object]","isObjectLiteral");var ie=class{constructor(r,t,a){this.name=r;this.type=t;this.defaultValue=a}static getTypeName(r){if(be(r))return"";let t,a=r instanceof B;try{a?t=r:(t=new r,t instanceof ie||(t=r))}catch{}return t.name}};i(ie,"CustomType");var J=class extends ie{constructor(){super("SchemaId",String,(()=>{try{return crypto.randomUUID()}catch{return Yi()}})())}};i(J,"SchemaId");var Wi=i(e=>e===null||[B,J,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Object].some(r=>e instanceof r||typeof e===r.name.toLowerCase()),"isSupportedTypeValue");var Ji=i((e,r)=>{if(typeof r=="number"&&isNaN(r)||!r&&pt(r))return!1;try{if(e instanceof B)return r===e||`${r}`=="[object Object]"&&e.getInvalidSchemaDataFields(r).length===0;let t=typeof r===e.name.toLowerCase();return(e[Symbol.hasInstance]?r instanceof e:t)||t}catch{return!1}},"isOfSupportedType");var Je=i((e,r)=>{try{if(r instanceof Array&&r.some(t=>!Wi(t)))return!1;if(/ArrayOf/.test(e?.name)){let t=new e;return r instanceof Array&&!r.some(a=>!Je(t.type,a))}return/OneOf/.test(e?.name)?new e().type.some(t=>Je(t,r)):/SchemaId/.test(e?.name)?r instanceof J||typeof r=="string"&&/[0-9a-z]{8}-[0-9a-z]{4}-4[0-9a-z]{3}-[0-9a-z]{4}-[0-9a-z]{12}/.test(r):/Schema/.test(e?.name)?`${r}`=="[object Object]":Ji(e,r)}catch{return!1}},"isSameValueType");var yt=i(e=>{switch(e){case Number:return 0;case Boolean:return!1;case String:return"";case Array:case Float32Array:case Float64Array:case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:return new e;default:return/SchemaId|ArrayOf|OneOf/.test(e.name)?new e().defaultValue:e instanceof B?Object.entries(e.toJSON()).reduce((r,[t,a])=>({...r,[t]:a.defaultValue}),{}):null}},"getDefaultValue");var ht=i(e=>{let r=(e||{name:""}).name;return/ArrayOf|OneOf/.test(r)||[B,J,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array].some(t=>e===t)},"isSupportedType");var lr,Ve=class{constructor(r,t=!1,a){this.type=r;this.required=t;this.defaultValue=a;K(this,lr,"");if(!(r instanceof B)&&!ht(r))throw new Error(`Invalid SchemaValue type provided. Received "${r?.name??new r()?.name}"`);if(ge(this,lr,this.type instanceof B?`Schema<${this.type.name}>`:/ArrayOf|OneOf|SchemaId/.test(r.name)?new r().name:this.type.name),a!==void 0&&!Je(r,a))throw new Error(`Default value does not match type "${A(this,lr)}"`);this.defaultValue=a!==void 0?a instanceof ie||a instanceof J?a.defaultValue:a:yt(this.type)}toJSON(){return{type:A(this,lr),required:this.required,defaultValue:this.defaultValue}}toString(){return JSON.stringify(this.toJSON(),null,4)}};i(Ve,"SchemaValue"),lr=new WeakMap;var ee,Cr,Ae=class{constructor(r,t=null){K(this,ee,{});K(this,Cr,void 0);if(ge(this,Cr,r),t){for(let a in t)if(t.hasOwnProperty(a))if(t[a]instanceof Ve)A(this,ee)[a]=t[a];else throw new Error(`Field "${a}" is not a SchemaValue`)}}get name(){return A(this,Cr)}defineField(r,t,{defaultValue:a,required:s}={}){A(this,ee)[String(r)]=new Ve(t,s,a)}removeField(r){if(r){let[t,...a]=String(r).split("."),s=A(this,ee)[t];s&&(a.length?s.type instanceof Ae&&s.type.removeField(a.join(".")):delete A(this,ee)[t])}}hasField(r){if(r){let[t,...a]=String(r).split("."),s=A(this,ee)[t];if(s)if(a.length){if(s.type instanceof Ae)return s.type.hasField(a.join("."))}else return A(this,ee).hasOwnProperty(t)}return!1}getField(r){if(r){let[t,...a]=String(r).split("."),s=A(this,ee)[t];return s&&a.length&&s.type instanceof Ae?s.type.getField(a.join(".")):s??null}return null}isValidFieldValue(r,t=null){let a=this.getField(String(r));return a?a.required?!pt(t)&&(a.type!==String||!zi(t))&&Je(a.type,t):Je(a.type,t):!1}getInvalidSchemaDataFields(r,t=new Set){let a=new Set,s=Object.keys(A(this,ee)).filter(c=>A(this,ee)[c].required),m=[...Object.keys(r),...s];for(let c of m)if(!t.has(c)){let E=this.getField(c),y=r[c];if(/ArrayOf/.test(E?.type.name??""))if(y instanceof Array){let b=new E.type;if(b.type instanceof Ae){y.forEach((g,q)=>{`${g}`=="[object Object]"?b.type.getInvalidSchemaDataFields(g).forEach(h=>{a.add(`${c}[${q}].${h}`)}):a.add(`${c}[${q}]`)});continue}}else{a.add(c);continue}if(/OneOf/.test(E?.type.name??"")){let g=new E.type().type.find(q=>q instanceof Ae);g&&`${y}`=="[object Object]"?g.getInvalidSchemaDataFields(y).forEach(q=>{a.add(`${c}.${q}`)}):this.isValidFieldValue(c,y)||a.add(c);continue}if(E?.type instanceof Ae){`${y}`=="[object Object]"?E.type.getInvalidSchemaDataFields(y).forEach(b=>{a.add(`${c}.${b}`)}):a.add(c);continue}this.isValidFieldValue(c,y)||a.add(c)}return Array.from(a)}toJSON(){let r={};for(let t in A(this,ee))if(A(this,ee).hasOwnProperty(t)){let a=A(this,ee)[t];r[t]=a.toJSON()}return r}toString(){return JSON.stringify(this.toJSON(),null,4)}toValue(){let r=new Date,t={};for(let a in A(this,ee))if(A(this,ee).hasOwnProperty(a)){let s=A(this,ee)[a];switch(!0){case s.type instanceof Ae:t[a]=s.type.toValue();break;case s.type===J:t[a]=new J().defaultValue;break;case s.type===Date:t[a]=s.defaultValue instanceof Date?s.defaultValue:r;break;default:t[a]=s.defaultValue}}return t}},B=Ae;i(B,"Schema"),ee=new WeakMap,Cr=new WeakMap;var mt=i(e=>{let r=null,t=e;switch(typeof e){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"object":if(e instanceof Date)return{type:Date,defaultValue:t};if(Array.isArray(e)){if(e.length){let{type:a}=mt(e[0]);if(e.every(s=>mt(s).type===a))return{type:gt(a),defaultValue:e}}return{type:Array,defaultValue:t}}return ArrayBuffer.isView(e)?{type:e.constructor,defaultValue:t}:e instanceof ArrayBuffer?{type:ArrayBuffer,defaultValue:t}:e instanceof Blob?{type:Blob,defaultValue:t}:e instanceof B?{type:B,defaultValue:e.toValue()}:e instanceof J?{type:J,defaultValue:e.defaultValue}:`${e}`=="[object Object]"?{type:B,defaultValue:e}:{type:null,defaultValue:t};default:return ht(e)?{type:e,defaultValue:yt(e)}:{type:null,defaultValue:t}}return{type:r,defaultValue:t}},"getSchemaTypeAndDefaultValueFromValue");var vr=i(e=>be(e)&&Object.keys(e).length,"isValidObjectLiteral");var G={blankStoreName:()=>"ClientStore must have a non-blank name",invalidSchema:()=>'Invalid "Schema" instance or object',invalidSubHandler:e=>`Received invalid "subscribe" handler => ${e}`,invalidEventName:(e,r)=>`Received unknown ${e} "${r}" event`,invalidEventHandler:(e,r,t)=>`Received invalid ${e} "${r}" event handler => ${t}`,invalidValueProvided:(e,r)=>`Invalid "value" provided to ${e} item => ${r}`,invalidValueInterceptProvided:(e,r)=>`Invalid "value" returned via ${e} intercept handler - item => ${r}`,missingOrInvalidFields:(e,r)=>`Missing or invalid field types for "${e.join(", ")}" keys. Should be ${r.map((t,a)=>`[${e[a]}, ${t}]`).join(", ")}`};var Xe=i((e,r)=>{if(!vr(r))throw new Error(G.invalidSchema());let t=new B(e);return Object.entries(r).forEach(([a,s])=>{a=`${a}`;let m=a.startsWith("$");m&&(a=`${a}`.slice(1));let{type:c,defaultValue:E}=mt(s);if(!c)throw new Error(`Unsupported Schema Type => key: "${a}", type: "${s?.constructor?.name??typeof s}" (estimated)`);c===B&&`${E}`=="[object Object]"&&(c=Xe(a,E),E=void 0),t.defineField(a,c,{required:m,...E===null?{}:{defaultValue:E}})}),t},"objectToSchema");function gt(e){let r=ie.getTypeName(e);be(e)&&(e=Xe(r,e));let t=`Array<${e instanceof B?r?`Schema<${r}>`:"Schema":r}>`,a=i(class extends ie{constructor(){super(t,e,[])}},"CustomTypeConstructor");return Object.defineProperty(a,"name",{value:"ArrayOf"}),a}i(gt,"ArrayOf");function Xi(...e){if(e.length<2)throw new Error("OneOf requires more than single type listed comma separated");e=e.map(a=>be(a)?Xe("",a):a);let r=e.map(a=>{if(a.name==="OneOf")throw new Error('Cannot nest "OneOf" types');let s=ie.getTypeName(a);return a instanceof B?s?`Schema<${s}>`:"Schema":s}).join(" | "),t=i(class extends ie{constructor(){super(r,e,null)}},"CustomTypeConstructor");return Object.defineProperty(t,"name",{value:"OneOf"}),t}i(Xi,"OneOf");var QI=In(xl()),wi=In(Ti());var Ne=i((e,r)=>typeof r=="function"?r(null,e):Promise.resolve(e),"callBackOrPromise"),at="Memory",Oi={},Ii=i(e=>`${e.storeName}-${e.name}-${e.version}`,"getMapKeyFromConfig"),Ge=i(({_config:e})=>Oi[Ii(e)]??{},"getMap"),Pl=i(()=>({_driver:at,_initStorage(e){this._config=e,Oi[Ii(e)]=new Map},async clear(e){Ge(this).clear(),Ne([],e)},async getItem(e,r){let t=Ge(this).get(e);return Ne(t??null,r)||null},async iterate(e,r){let t=0,a;for(let[s,m]of Ge(this).entries()){if(a=e(m,s,t),a!==void 0)return Ne(a,r);t+=1}return Ne(null,r)},async key(e,r){let t=Array.from(Ge(this).keys());return Ne(t[e],r)||""},async keys(e){let r=Array.from(Ge(this).keys());return Ne(r,e)||[]},async length(e){return Ne(Ge(this).size,e)||0},async removeItem(e,r){return Ge(this).delete(e),Ne(e,r)},async setItem(e,r,t){return Ge(this).set(e,r),Ne(r,t)},async dropInstance(){delete Oi[Ii(this._config)]}}),"MemoryStore");var Er=In(Ti());var Sr=(g=>(g.READY="ready",g.PROCESSING="processing",g.PROCESSING_EVENTS="processing-events",g.CREATED="created",g.LOADED="loaded",g.ERROR="error",g.ABORTED="aborted",g.REMOVED="removed",g.UPDATED="updated",g.CLEARED="cleared",g))(Sr||{}),Nl={LOCALSTORAGE:Er.LOCALSTORAGE,WEBSQL:Er.WEBSQL,INDEXEDDB:Er.INDEXEDDB,MEMORYSTORAGE:at};var Tr={version:1,type:at,description:"client-web-storage",appName:"App",idKeyName:"_id",createdDateKeyName:"_createdDate",updatedDateKeyName:"_lastUpdatedDate"};wi.default.defineDriver(Pl());var it=structuredClone,le,pe,st,ct,Rr,He,or,ur,ft,je,sr,ot,Me,ir,$,z,ze,Or,Ye,Ir,qr,vn,We,wr,ut=class{constructor(r,t,a=Tr){K(this,sr);K(this,Me);K(this,$);K(this,ze);K(this,Ye);K(this,qr);K(this,We);K(this,le,void 0);K(this,pe,void 0);K(this,st,void 0);K(this,ct,void 0);K(this,Rr,new Set);K(this,He,new Map(Object.values(Sr).map(r=>[r,new Set])));K(this,or,new Map(Object.values(Sr).map(r=>[r,null])));K(this,ur,null);K(this,ft,!1);K(this,je,new Set);if(ge(this,st,r),ge(this,pe,{...Tr,...a}),!`${r}`.trim().length)throw new Error(G.blankStoreName());if(!(t instanceof B))if(`${t}`=="[object Object]")t=Xe(r,t);else throw new Error(G.invalidSchema());let s=A(this,pe).appName||"App";ge(this,ct,t),ge(this,le,wi.default.createInstance({driver:A(this,pe).type,version:A(this,pe).version,description:A(this,pe).description,name:s,storeName:r})),A(this,le).ready(()=>{ge(this,ft,!0),x(this,$,z).call(this,"ready",!0)})}get schema(){return A(this,ct)}get ready(){return A(this,ft)}get type(){return A(this,pe).type}get name(){return A(this,st)}get appName(){return A(this,pe).appName}get processing(){return A(this,je).size>0}get idKeyName(){return A(this,pe).idKeyName||Tr.idKeyName}get createdDateKeyName(){return A(this,pe).createdDateKeyName||Tr.createdDateKeyName}get updatedDateKeyName(){return A(this,pe).updatedDateKeyName||Tr.updatedDateKeyName}get processingEvents(){return Array.from(A(this,je),r=>r.split("_")[0])}async size(){return await A(this,le).length()}subscribe(r){if(typeof r=="function")return A(this,Rr).add(r),()=>{A(this,Rr).delete(r)};throw new Error(G.invalidSubHandler(r))}on(r,t){if(typeof t=="function"){if(A(this,He).has(r))return A(this,He).get(r)?.add(t),()=>this.off(r,t);throw new Error(G.invalidEventName("ON",r))}throw new Error(G.invalidEventHandler("ON",r,t))}off(r,t){if(typeof t=="function"){if(A(this,He).has(r)){A(this,He).get(r)?.delete(t);return}throw new Error(G.invalidEventName("OFF",r))}throw new Error(G.invalidEventHandler("OFF",r,t))}beforeChange(r){if(typeof r=="function")ge(this,ur,r);else throw new Error(G.invalidEventHandler("function","beforeChange",r));return()=>{ge(this,ur,null)}}intercept(r,t){if(typeof t=="function"){if(A(this,or).has(r))return A(this,or).set(r,t),()=>{A(this,or).set(r,null)};throw new Error(G.invalidEventName("INTERCEPT",r))}throw new Error(G.invalidEventHandler("INTERCEPT",r,t))}async loadItems(r=[]){return x(this,We,wr).call(this,"loaded",async()=>{try{let t=new Map,{key:a}=x(this,qr,vn).call(this);for(let c of r){if(!vr(c))throw new Error(G.invalidValueProvided("load",c));let{item:E,id:y}=await x(this,sr,ot).call(this,c);x(this,Me,ir).call(this,E,b=>G.missingOrInvalidFields(b,b.map(g=>this.schema.getField(g)??void 0))),t.set(y,E)}let s=await x(this,Ye,Ir).call(this,"loaded",Array.from(t.values()));if(s===null)return x(this,$,z).call(this,"aborted",{action:"loaded",data:r}),null;if(Array.isArray(s)&&s.length)for(let c of s){if(!be(c))throw new Error(G.invalidValueInterceptProvided("load",c));let E=c[a];if(t.get(c[a]))t.set(c[a],it({...t.get(c[a]),...c}));else{let{item:y,id:b}=await x(this,sr,ot).call(this,c);t.set(b,y),E=b}x(this,Me,ir).call(this,t.get(E),y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)))}let m=await Promise.all(Array.from(t.values()).map(c=>A(this,le).setItem(`${c[a]}`,c)));return x(this,$,z).call(this,"loaded",m),m}catch(t){throw x(this,$,z).call(this,"error",x(this,ze,Or).call(this,"loaded",r,null,t)),t}})}async createItem(r){return x(this,We,wr).call(this,"created",async()=>{try{if(!vr(r))throw new Error(G.invalidValueProvided("create",r));x(this,Me,ir).call(this,r,c=>G.missingOrInvalidFields(c,c.map(E=>this.schema.getField(E)??void 0)));let{item:t,id:a}=await x(this,sr,ot).call(this,r),s=await x(this,Ye,Ir).call(this,"created",t,a);if(s===null)return x(this,$,z).call(this,"aborted",{action:"created",data:r}),null;be(s)&&(t=it({...t,...s}),x(this,Me,ir).call(this,t,c=>G.missingOrInvalidFields(c,c.map(E=>this.schema.getField(E)??void 0))));let m=await A(this,le).setItem(String(a),t);return x(this,$,z).call(this,"created",m),m}catch(t){throw x(this,$,z).call(this,"error",x(this,ze,Or).call(this,"created",r,null,t)),t}})}async updateItem(r,t){return x(this,We,wr).call(this,"updated",async()=>{try{if(!vr(t))throw new Error(G.invalidValueProvided("update",t));let a=it(await this.getItem(r));if(a){let{item:s,id:m}=await x(this,sr,ot).call(this,t,a);x(this,Me,ir).call(this,s,y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)));let c=await x(this,Ye,Ir).call(this,"updated",s,m);if(c===null)return x(this,$,z).call(this,"aborted",{action:"updated",data:t}),null;be(c)&&(s=it(c),x(this,Me,ir).call(this,s,y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0))));let E=await A(this,le).setItem(String(m),s);return x(this,$,z).call(this,"updated",E),E}}catch(a){throw x(this,$,z).call(this,"error",x(this,ze,Or).call(this,"updated",t,r,a)),a}return null})}async getItems(){return this.findItems(()=>!0)}async getItem(r){return A(this,le).getItem(`${r}`)}async removeItem(r){return x(this,We,wr).call(this,"removed",async()=>{try{if(await this.getItem(r))if(await x(this,Ye,Ir).call(this,"removed",r,r)===null)x(this,$,z).call(this,"aborted",{action:"removed",data:r});else return await A(this,le).removeItem(`${r}`),x(this,$,z).call(this,"removed",r),r}catch(t){throw x(this,$,z).call(this,"error",x(this,ze,Or).call(this,"removed",r,r,t)),t}return null})}async clear(){return x(this,We,wr).call(this,"cleared",async()=>{let r=await A(this,le).keys();try{if(await x(this,Ye,Ir).call(this,"cleared",r)===null)x(this,$,z).call(this,"aborted",{action:"cleared",data:r});else return await A(this,le).clear(),x(this,$,z).call(this,"cleared",r),r}catch(t){throw x(this,$,z).call(this,"error",x(this,ze,Or).call(this,"cleared",r,null,t)),t}return null})}async findItem(r){return typeof r!="function"?null:await A(this,le).iterate((t,a)=>{if(r(t,a))return t})??null}async findItems(r){if(typeof r!="function")return[];let t=[];return await A(this,le).iterate((a,s)=>{r(a,s)&&a&&t.push(a)}),t}};i(ut,"ClientStore"),le=new WeakMap,pe=new WeakMap,st=new WeakMap,ct=new WeakMap,Rr=new WeakMap,He=new WeakMap,or=new WeakMap,ur=new WeakMap,ft=new WeakMap,je=new WeakMap,sr=new WeakSet,ot=i(async function(r,t=null){let{defaultKeys:a,key:s,createKey:m,updateKey:c}=x(this,qr,vn).call(this),E=new Date,y=r[s],b=t??await this.getItem(y);b?(b=it(b),b[c]=r[c]??E):(b=this.schema.toValue(),b[s]=y??new J().defaultValue,b[m]=r[m]??E,b[c]=b[m]);for(let g in r)!a.has(g)&&r.hasOwnProperty(g)&&(b[g]=r[g]);return{item:b,id:b[s]}},"#mergeExistingItemWithNewData"),Me=new WeakSet,ir=i(function(r,t){let{defaultKeys:a}=x(this,qr,vn).call(this),s=this.schema.getInvalidSchemaDataFields(r,a);if(s.length)throw new Error(t(s))},"#validateData"),$=new WeakSet,z=i(function(r,t){A(this,Rr).forEach(a=>a(r,t)),A(this,He).get(r)?.forEach(a=>a(t))},"#broadcast"),ze=new WeakSet,Or=i(function(r,t,a=null,s=null){return{action:r,data:t,id:a,error:s}},"#createEventData"),Ye=new WeakSet,Ir=i(function(r,t,a=null){let s={data:t,id:a},m=A(this,or).get(r);if(typeof m=="function")return m(s);if(A(this,ur))return A(this,ur).call(this,r,s)},"#getWithResult"),qr=new WeakSet,vn=i(function(){let r=this.idKeyName,t=this.createdDateKeyName,a=this.updatedDateKeyName;return{key:r,createKey:t,updateKey:a,defaultKeys:new Set([r,t,a])}},"#getDefaultKeys"),We=new WeakSet,wr=i(async function(r,t){let a=`${r}_${Date.now()}`;A(this,je).add(a),A(this,je).size===1&&(x(this,$,z).call(this,"processing",!0),x(this,$,z).call(this,"processing-events",this.processingEvents));try{let s=await t();return A(this,je).delete(a),this.processing||(x(this,$,z).call(this,"processing",!1),x(this,$,z).call(this,"processing-events",this.processingEvents)),s}catch(s){throw A(this,je).delete(a),this.processing||(x(this,$,z).call(this,"processing",!1),x(this,$,z).call(this,"processing-events",this.processingEvents)),s}},"#trackProcess");window&&(window.CWS={Schema:B,SchemaValue:Ve,SchemaId:J,ArrayOf:gt,OneOf:Xi,ClientStore:ut,EventType:Sr,StorageType:Nl});})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
//# sourceMappingURL=client-web-storage.min.js.map
