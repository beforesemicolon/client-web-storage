(()=>{var Kv=Object.create;var _n=Object.defineProperty;var Gv=Object.getOwnPropertyDescriptor;var Hv=Object.getOwnPropertyNames;var zv=Object.getPrototypeOf,Yv=Object.prototype.hasOwnProperty;var i=(e,r)=>_n(e,"name",{value:r,configurable:!0}),Pr=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Wv=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Hv(r))!Yv.call(e,s)&&s!==t&&_n(e,s,{get:()=>r[s],enumerable:!(a=Gv(r,s))||a.enumerable});return e};var Dn=(e,r,t)=>(t=e!=null?Kv(zv(e)):{},Wv(r||!e||!e.__esModule?_n(t,"default",{value:e,enumerable:!0}):t,e));var xn=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var R=(e,r,t)=>(xn(e,r,"read from private field"),t?t.call(e):r.get(e)),$=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},ae=(e,r,t,a)=>(xn(e,r,"write to private field"),a?a.call(e,t):r.set(e,t),t);var D=(e,r,t)=>(xn(e,r,"access private method"),t);var Pn=d((qT,oo)=>{var Cn=typeof document=="object"&&document.all,Jv=typeof Cn>"u"&&Cn!==void 0;oo.exports={all:Cn,IS_HTMLDDA:Jv}});var Z=d((AT,so)=>{var uo=Pn(),Xv=uo.all;so.exports=uo.IS_HTMLDDA?function(e){return typeof e=="function"||e===Xv}:function(e){return typeof e=="function"}});var W=d((_T,co)=>{co.exports=function(e){try{return!!e()}catch{return!0}}});var se=d((DT,fo)=>{var Qv=W();fo.exports=!Qv(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var ce=d((xT,lo)=>{var Ot=i(function(e){return e&&e.Math==Math&&e},"check");lo.exports=Ot(typeof globalThis=="object"&&globalThis)||Ot(typeof window=="object"&&window)||Ot(typeof self=="object"&&self)||Ot(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var Se=d((CT,yo)=>{var vo=Z(),po=Pn(),Zv=po.all;yo.exports=po.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:vo(e)||e===Zv}:function(e){return typeof e=="object"?e!==null:vo(e)}});var jn=d((PT,mo)=>{var ed=ce(),ho=Se(),Nn=ed.document,rd=ho(Nn)&&ho(Nn.createElement);mo.exports=function(e){return rd?Nn.createElement(e):{}}});var Mn=d((NT,go)=>{var td=se(),nd=W(),ad=jn();go.exports=!td&&!nd(function(){return Object.defineProperty(ad("div"),"a",{get:function(){return 7}}).a!=7})});var Bn=d((jT,bo)=>{var id=se(),od=W();bo.exports=id&&od(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var de=d((MT,So)=>{var ud=Se(),sd=String,cd=TypeError;So.exports=function(e){if(ud(e))return e;throw cd(sd(e)+" is not an object")}});var It=d((BT,Eo)=>{var fd=W();Eo.exports=!fd(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var xe=d((FT,To)=>{var ld=It(),wt=Function.prototype.call;To.exports=ld?wt.bind(wt):function(){return wt.apply(wt,arguments)}});var Ie=d((VT,Oo)=>{var Fn=ce(),vd=Z(),dd=i(function(e){return vd(e)?e:void 0},"aFunction");Oo.exports=function(e,r){return arguments.length<2?dd(Fn[e]):Fn[e]&&Fn[e][r]}});var ee=d((LT,Ro)=>{var Io=It(),wo=Function.prototype,Vn=wo.call,pd=Io&&wo.bind.bind(Vn,Vn);Ro.exports=Io?pd:function(e){return function(){return Vn.apply(e,arguments)}}});var Mr=d((UT,qo)=>{var yd=ee();qo.exports=yd({}.isPrototypeOf)});var _o=d((kT,Ao)=>{Ao.exports=typeof navigator<"u"&&String(navigator.userAgent)||""});var Un=d(($T,jo)=>{var No=ce(),Ln=_o(),Do=No.process,xo=No.Deno,Co=Do&&Do.versions||xo&&xo.version,Po=Co&&Co.v8,Te,Rt;Po&&(Te=Po.split("."),Rt=Te[0]>0&&Te[0]<4?1:+(Te[0]+Te[1]));!Rt&&Ln&&(Te=Ln.match(/Edge\/(\d+)/),(!Te||Te[1]>=74)&&(Te=Ln.match(/Chrome\/(\d+)/),Te&&(Rt=+Te[1])));jo.exports=Rt});var kn=d((KT,Bo)=>{var Mo=Un(),hd=W();Bo.exports=!!Object.getOwnPropertySymbols&&!hd(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Mo&&Mo<41})});var $n=d((GT,Fo)=>{var md=kn();Fo.exports=md&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var qt=d((HT,Vo)=>{var gd=Ie(),bd=Z(),Sd=Mr(),Ed=$n(),Td=Object;Vo.exports=Ed?function(e){return typeof e=="symbol"}:function(e){var r=gd("Symbol");return bd(r)&&Sd(r.prototype,Td(e))}});var At=d((zT,Lo)=>{var Od=String;Lo.exports=function(e){try{return Od(e)}catch{return"Object"}}});var Br=d((YT,Uo)=>{var Id=Z(),wd=At(),Rd=TypeError;Uo.exports=function(e){if(Id(e))return e;throw Rd(wd(e)+" is not a function")}});var Ze=d((WT,ko)=>{ko.exports=function(e){return e==null}});var _t=d((JT,$o)=>{var qd=Br(),Ad=Ze();$o.exports=function(e,r){var t=e[r];return Ad(t)?void 0:qd(t)}});var Go=d((XT,Ko)=>{var Kn=xe(),Gn=Z(),Hn=Se(),_d=TypeError;Ko.exports=function(e,r){var t,a;if(r==="string"&&Gn(t=e.toString)&&!Hn(a=Kn(t,e))||Gn(t=e.valueOf)&&!Hn(a=Kn(t,e))||r!=="string"&&Gn(t=e.toString)&&!Hn(a=Kn(t,e)))return a;throw _d("Can't convert object to primitive value")}});var ke=d((QT,Ho)=>{Ho.exports=!1});var Dt=d((ZT,Yo)=>{var zo=ce(),Dd=Object.defineProperty;Yo.exports=function(e,r){try{Dd(zo,e,{value:r,configurable:!0,writable:!0})}catch{zo[e]=r}return r}});var xt=d((eO,Jo)=>{var xd=ce(),Cd=Dt(),Wo="__core-js_shared__",Pd=xd[Wo]||Cd(Wo,{});Jo.exports=Pd});var zn=d((rO,Qo)=>{var Nd=ke(),Xo=xt();(Qo.exports=function(e,r){return Xo[e]||(Xo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.30.1",mode:Nd?"pure":"global",copyright:"\xA9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.30.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var Yn=d((tO,Zo)=>{var jd=Ze(),Md=TypeError;Zo.exports=function(e){if(jd(e))throw Md("Can't call method on "+e);return e}});var Ct=d((nO,eu)=>{var Bd=Yn(),Fd=Object;eu.exports=function(e){return Fd(Bd(e))}});var fe=d((aO,ru)=>{var Vd=ee(),Ld=Ct(),Ud=Vd({}.hasOwnProperty);ru.exports=Object.hasOwn||i(function(r,t){return Ud(Ld(r),t)},"hasOwn")});var Fr=d((iO,tu)=>{var kd=ee(),$d=0,Kd=Math.random(),Gd=kd(1 .toString);tu.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Gd(++$d+Kd,36)}});var Ee=d((oO,au)=>{var Hd=ce(),zd=zn(),nu=fe(),Yd=Fr(),Wd=kn(),Jd=$n(),hr=Hd.Symbol,Wn=zd("wks"),Xd=Jd?hr.for||hr:hr&&hr.withoutSetter||Yd;au.exports=function(e){return nu(Wn,e)||(Wn[e]=Wd&&nu(hr,e)?hr[e]:Xd("Symbol."+e)),Wn[e]}});var su=d((uO,uu)=>{var Qd=xe(),iu=Se(),ou=qt(),Zd=_t(),ep=Go(),rp=Ee(),tp=TypeError,np=rp("toPrimitive");uu.exports=function(e,r){if(!iu(e)||ou(e))return e;var t=Zd(e,np),a;if(t){if(r===void 0&&(r="default"),a=Qd(t,e,r),!iu(a)||ou(a))return a;throw tp("Can't convert object to primitive value")}return r===void 0&&(r="number"),ep(e,r)}});var Pt=d((sO,cu)=>{var ap=su(),ip=qt();cu.exports=function(e){var r=ap(e,"string");return ip(r)?r:r+""}});var pe=d(lu=>{var op=se(),up=Mn(),sp=Bn(),Nt=de(),fu=Pt(),cp=TypeError,Jn=Object.defineProperty,fp=Object.getOwnPropertyDescriptor,Xn="enumerable",Qn="configurable",Zn="writable";lu.f=op?sp?i(function(r,t,a){if(Nt(r),t=fu(t),Nt(a),typeof r=="function"&&t==="prototype"&&"value"in a&&Zn in a&&!a[Zn]){var s=fp(r,t);s&&s[Zn]&&(r[t]=a.value,a={configurable:Qn in a?a[Qn]:s[Qn],enumerable:Xn in a?a[Xn]:s[Xn],writable:!1})}return Jn(r,t,a)},"defineProperty"):Jn:i(function(r,t,a){if(Nt(r),t=fu(t),Nt(a),up)try{return Jn(r,t,a)}catch{}if("get"in a||"set"in a)throw cp("Accessors not supported");return"value"in a&&(r[t]=a.value),r},"defineProperty")});var ta=d((fO,du)=>{var ea=se(),lp=fe(),vu=Function.prototype,vp=ea&&Object.getOwnPropertyDescriptor,ra=lp(vu,"name"),dp=ra&&i(function(){},"something").name==="something",pp=ra&&(!ea||ea&&vp(vu,"name").configurable);du.exports={EXISTS:ra,PROPER:dp,CONFIGURABLE:pp}});var aa=d((lO,pu)=>{var yp=ee(),hp=Z(),na=xt(),mp=yp(Function.toString);hp(na.inspectSource)||(na.inspectSource=function(e){return mp(e)});pu.exports=na.inspectSource});var mu=d((vO,hu)=>{var gp=ce(),bp=Z(),yu=gp.WeakMap;hu.exports=bp(yu)&&/native code/.test(String(yu))});var $e=d((dO,gu)=>{gu.exports=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}});var Vr=d((pO,bu)=>{var Sp=se(),Ep=pe(),Tp=$e();bu.exports=Sp?function(e,r,t){return Ep.f(e,r,Tp(1,t))}:function(e,r,t){return e[r]=t,e}});var jt=d((yO,Eu)=>{var Op=zn(),Ip=Fr(),Su=Op("keys");Eu.exports=function(e){return Su[e]||(Su[e]=Ip(e))}});var Lr=d((hO,Tu)=>{Tu.exports={}});var kr=d((mO,wu)=>{var wp=mu(),Iu=ce(),Rp=Se(),qp=Vr(),ia=fe(),oa=xt(),Ap=jt(),_p=Lr(),Ou="Object already initialized",ua=Iu.TypeError,Dp=Iu.WeakMap,Mt,Ur,Bt,xp=i(function(e){return Bt(e)?Ur(e):Mt(e,{})},"enforce"),Cp=i(function(e){return function(r){var t;if(!Rp(r)||(t=Ur(r)).type!==e)throw ua("Incompatible receiver, "+e+" required");return t}},"getterFor");wp||oa.state?(Oe=oa.state||(oa.state=new Dp),Oe.get=Oe.get,Oe.has=Oe.has,Oe.set=Oe.set,Mt=i(function(e,r){if(Oe.has(e))throw ua(Ou);return r.facade=e,Oe.set(e,r),r},"set"),Ur=i(function(e){return Oe.get(e)||{}},"get"),Bt=i(function(e){return Oe.has(e)},"has")):(er=Ap("state"),_p[er]=!0,Mt=i(function(e,r){if(ia(e,er))throw ua(Ou);return r.facade=e,qp(e,er,r),r},"set"),Ur=i(function(e){return ia(e,er)?e[er]:{}},"get"),Bt=i(function(e){return ia(e,er)},"has"));var Oe,er;wu.exports={set:Mt,get:Ur,has:Bt,enforce:xp,getterFor:Cp}});var fa=d((gO,Au)=>{var ca=ee(),Pp=W(),Np=Z(),Ft=fe(),sa=se(),jp=ta().CONFIGURABLE,Mp=aa(),qu=kr(),Bp=qu.enforce,Fp=qu.get,Ru=String,Vt=Object.defineProperty,Vp=ca("".slice),Lp=ca("".replace),Up=ca([].join),kp=sa&&!Pp(function(){return Vt(function(){},"length",{value:8}).length!==8}),$p=String(String).split("String"),Kp=Au.exports=function(e,r,t){Vp(Ru(r),0,7)==="Symbol("&&(r="["+Lp(Ru(r),/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Ft(e,"name")||jp&&e.name!==r)&&(sa?Vt(e,"name",{value:r,configurable:!0}):e.name=r),kp&&t&&Ft(t,"arity")&&e.length!==t.arity&&Vt(e,"length",{value:t.arity});try{t&&Ft(t,"constructor")&&t.constructor?sa&&Vt(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=Bp(e);return Ft(a,"source")||(a.source=Up($p,typeof r=="string"?r:"")),e};Function.prototype.toString=Kp(i(function(){return Np(this)&&Fp(this).source||Mp(this)},"toString"),"toString")});var Ce=d((bO,_u)=>{var Gp=Z(),Hp=pe(),zp=fa(),Yp=Dt();_u.exports=function(e,r,t,a){a||(a={});var s=a.enumerable,m=a.name!==void 0?a.name:r;if(Gp(t)&&zp(t,m,a),a.global)s?e[r]=t:Yp(r,t);else{try{a.unsafe?e[r]&&(s=!0):delete e[r]}catch{}s?e[r]=t:Hp.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}});var rr=d((SO,xu)=>{var Du=ee(),Wp=Du({}.toString),Jp=Du("".slice);xu.exports=function(e){return Jp(Wp(e),8,-1)}});var Pu=d((EO,Cu)=>{var Xp=ee(),Qp=W(),Zp=rr(),la=Object,ey=Xp("".split);Cu.exports=Qp(function(){return!la("z").propertyIsEnumerable(0)})?function(e){return Zp(e)=="String"?ey(e,""):la(e)}:la});var tr=d((TO,Nu)=>{var ry=Pu(),ty=Yn();Nu.exports=function(e){return ry(ty(e))}});var Mu=d((OO,ju)=>{var ny=Math.ceil,ay=Math.floor;ju.exports=Math.trunc||i(function(r){var t=+r;return(t>0?ay:ny)(t)},"trunc")});var va=d((IO,Bu)=>{var iy=Mu();Bu.exports=function(e){var r=+e;return r!==r||r===0?0:iy(r)}});var da=d((wO,Fu)=>{var oy=va(),uy=Math.max,sy=Math.min;Fu.exports=function(e,r){var t=oy(e);return t<0?uy(t+r,0):sy(t,r)}});var Lu=d((RO,Vu)=>{var cy=va(),fy=Math.min;Vu.exports=function(e){return e>0?fy(cy(e),9007199254740991):0}});var $r=d((qO,Uu)=>{var ly=Lu();Uu.exports=function(e){return ly(e.length)}});var Ku=d((AO,$u)=>{var vy=tr(),dy=da(),py=$r(),ku=i(function(e){return function(r,t,a){var s=vy(r),m=py(s),c=dy(a,m),S;if(e&&t!=t){for(;m>c;)if(S=s[c++],S!=S)return!0}else for(;m>c;c++)if((e||c in s)&&s[c]===t)return e||c||0;return!e&&-1}},"createMethod");$u.exports={includes:ku(!0),indexOf:ku(!1)}});var ya=d((_O,Hu)=>{var yy=ee(),pa=fe(),hy=tr(),my=Ku().indexOf,gy=Lr(),Gu=yy([].push);Hu.exports=function(e,r){var t=hy(e),a=0,s=[],m;for(m in t)!pa(gy,m)&&pa(t,m)&&Gu(s,m);for(;r.length>a;)pa(t,m=r[a++])&&(~my(s,m)||Gu(s,m));return s}});var Lt=d((DO,zu)=>{zu.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var ha=d((xO,Yu)=>{var by=ya(),Sy=Lt();Yu.exports=Object.keys||i(function(r){return by(r,Sy)},"keys")});var Ju=d(Wu=>{var Ey=se(),Ty=Bn(),Oy=pe(),Iy=de(),wy=tr(),Ry=ha();Wu.f=Ey&&!Ty?Object.defineProperties:i(function(r,t){Iy(r);for(var a=wy(t),s=Ry(t),m=s.length,c=0,S;m>c;)Oy.f(r,S=s[c++],a[S]);return r},"defineProperties")});var Qu=d((PO,Xu)=>{var qy=Ie();Xu.exports=qy("document","documentElement")});var nr=d((NO,is)=>{var Ay=de(),_y=Ju(),Zu=Lt(),Dy=Lr(),xy=Qu(),Cy=jn(),Py=jt(),es=">",rs="<",ga="prototype",ba="script",ns=Py("IE_PROTO"),ma=i(function(){},"EmptyConstructor"),as=i(function(e){return rs+ba+es+e+rs+"/"+ba+es},"scriptTag"),ts=i(function(e){e.write(as("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),Ny=i(function(){var e=Cy("iframe"),r="java"+ba+":",t;return e.style.display="none",xy.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(as("document.F=Object")),t.close(),t.F},"NullProtoObjectViaIFrame"),Ut,kt=i(function(){try{Ut=new ActiveXObject("htmlfile")}catch{}kt=typeof document<"u"?document.domain&&Ut?ts(Ut):Ny():ts(Ut);for(var e=Zu.length;e--;)delete kt[ga][Zu[e]];return kt()},"NullProtoObject");Dy[ns]=!0;is.exports=Object.create||i(function(r,t){var a;return r!==null?(ma[ga]=Ay(r),a=new ma,ma[ga]=null,a[ns]=r):a=kt(),t===void 0?a:_y.f(a,t)},"create")});var $t=d((jO,us)=>{var jy=Ee(),My=jy("toStringTag"),os={};os[My]="z";us.exports=String(os)==="[object z]"});var mr=d((MO,ss)=>{var By=$t(),Fy=Z(),Kt=rr(),Vy=Ee(),Ly=Vy("toStringTag"),Uy=Object,ky=Kt(function(){return arguments}())=="Arguments",$y=i(function(e,r){try{return e[r]}catch{}},"tryGet");ss.exports=By?Kt:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=$y(r=Uy(e),Ly))=="string"?t:ky?Kt(r):(a=Kt(r))=="Object"&&Fy(r.callee)?"Arguments":a}});var fs=d((BO,cs)=>{var Ky=mr(),Gy=String;cs.exports=function(e){if(Ky(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return Gy(e)}});var Gt=d((FO,ls)=>{var Hy=fs();ls.exports=function(e,r){return e===void 0?arguments.length<2?"":r:Hy(e)}});var Sa=d((VO,ds)=>{"use strict";var zy=se(),Yy=W(),Wy=de(),Jy=nr(),vs=Gt(),Ht=Error.prototype.toString,Xy=Yy(function(){if(zy){var e=Jy(Object.defineProperty({},"name",{get:function(){return this===e}}));if(Ht.call(e)!=="true")return!0}return Ht.call({message:1,name:2})!=="2: 1"||Ht.call({})!=="Error"});ds.exports=Xy?i(function(){var r=Wy(this),t=vs(r.name,"Error"),a=vs(r.message);return t?a?t+": "+a:t:a},"toString"):Ht});var hs=d(()=>{var Qy=Ce(),ps=Sa(),ys=Error.prototype;ys.toString!==ps&&Qy(ys,"toString",ps)});var gs=d((kO,ms)=>{var Zy=Ee(),eh=nr(),rh=pe().f,Ea=Zy("unscopables"),Ta=Array.prototype;Ta[Ea]==null&&rh(Ta,Ea,{configurable:!0,value:eh(null)});ms.exports=function(e){Ta[Ea][e]=!0}});var gr=d(($O,bs)=>{bs.exports={}});var Os=d(Ts=>{"use strict";var Ss={}.propertyIsEnumerable,Es=Object.getOwnPropertyDescriptor,th=Es&&!Ss.call({1:2},1);Ts.f=th?i(function(r){var t=Es(this,r);return!!t&&t.enumerable},"propertyIsEnumerable"):Ss});var Oa=d(ws=>{var nh=se(),ah=xe(),ih=Os(),oh=$e(),uh=tr(),sh=Pt(),ch=fe(),fh=Mn(),Is=Object.getOwnPropertyDescriptor;ws.f=nh?Is:i(function(r,t){if(r=uh(r),t=sh(t),fh)try{return Is(r,t)}catch{}if(ch(r,t))return oh(!ah(ih.f,r,t),r[t])},"getOwnPropertyDescriptor")});var zt=d(Rs=>{var lh=ya(),vh=Lt(),dh=vh.concat("length","prototype");Rs.f=Object.getOwnPropertyNames||i(function(r){return lh(r,dh)},"getOwnPropertyNames")});var As=d(qs=>{qs.f=Object.getOwnPropertySymbols});var Ds=d((YO,_s)=>{var ph=Ie(),yh=ee(),hh=zt(),mh=As(),gh=de(),bh=yh([].concat);_s.exports=ph("Reflect","ownKeys")||i(function(r){var t=hh.f(gh(r)),a=mh.f;return a?bh(t,a(r)):t},"ownKeys")});var Ps=d((WO,Cs)=>{var xs=fe(),Sh=Ds(),Eh=Oa(),Th=pe();Cs.exports=function(e,r,t){for(var a=Sh(r),s=Th.f,m=Eh.f,c=0;c<a.length;c++){var S=a[c];!xs(e,S)&&!(t&&xs(t,S))&&s(e,S,m(r,S))}}});var Ia=d((JO,Ns)=>{var Oh=W(),Ih=Z(),wh=/#|\.prototype\./,Kr=i(function(e,r){var t=qh[Rh(e)];return t==_h?!0:t==Ah?!1:Ih(r)?Oh(r):!!r},"isForced"),Rh=Kr.normalize=function(e){return String(e).replace(wh,".").toLowerCase()},qh=Kr.data={},Ah=Kr.NATIVE="N",_h=Kr.POLYFILL="P";Ns.exports=Kr});var Ke=d((XO,js)=>{var wa=ce(),Dh=Oa().f,xh=Vr(),Ch=Ce(),Ph=Dt(),Nh=Ps(),jh=Ia();js.exports=function(e,r){var t=e.target,a=e.global,s=e.stat,m,c,S,y,b,g;if(a?c=wa:s?c=wa[t]||Ph(t,{}):c=(wa[t]||{}).prototype,c)for(S in r){if(b=r[S],e.dontCallGetSet?(g=Dh(c,S),y=g&&g.value):y=c[S],m=jh(a?S:t+(s?".":"#")+S,e.forced),!m&&y!==void 0){if(typeof b==typeof y)continue;Nh(b,y)}(e.sham||y&&y.sham)&&xh(b,"sham",!0),Ch(c,S,b,e)}}});var Bs=d((QO,Ms)=>{var Mh=W();Ms.exports=!Mh(function(){function e(){}return i(e,"F"),e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var qa=d((ZO,Vs)=>{var Bh=fe(),Fh=Z(),Vh=Ct(),Lh=jt(),Uh=Bs(),Fs=Lh("IE_PROTO"),Ra=Object,kh=Ra.prototype;Vs.exports=Uh?Ra.getPrototypeOf:function(e){var r=Vh(e);if(Bh(r,Fs))return r[Fs];var t=r.constructor;return Fh(t)&&r instanceof t?t.prototype:r instanceof Ra?kh:null}});var xa=d((eI,ks)=>{"use strict";var $h=W(),Kh=Z(),Gh=Se(),Hh=nr(),Ls=qa(),zh=Ce(),Yh=Ee(),Wh=ke(),Da=Yh("iterator"),Us=!1,Pe,Aa,_a;[].keys&&(_a=[].keys(),"next"in _a?(Aa=Ls(Ls(_a)),Aa!==Object.prototype&&(Pe=Aa)):Us=!0);var Jh=!Gh(Pe)||$h(function(){var e={};return Pe[Da].call(e)!==e});Jh?Pe={}:Wh&&(Pe=Hh(Pe));Kh(Pe[Da])||zh(Pe,Da,function(){return this});ks.exports={IteratorPrototype:Pe,BUGGY_SAFARI_ITERATORS:Us}});var Gr=d((rI,Ks)=>{var Xh=pe().f,Qh=fe(),Zh=Ee(),$s=Zh("toStringTag");Ks.exports=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Qh(e,$s)&&Xh(e,$s,{configurable:!0,value:r})}});var Hs=d((tI,Gs)=>{"use strict";var em=xa().IteratorPrototype,rm=nr(),tm=$e(),nm=Gr(),am=gr(),im=i(function(){return this},"returnThis");Gs.exports=function(e,r,t,a){var s=r+" Iterator";return e.prototype=rm(em,{next:tm(+!a,t)}),nm(e,s,!1,!0),am[s]=im,e}});var Ys=d((nI,zs)=>{var om=ee(),um=Br();zs.exports=function(e,r,t){try{return om(um(Object.getOwnPropertyDescriptor(e,r)[t]))}catch{}}});var Js=d((aI,Ws)=>{var sm=Z(),cm=String,fm=TypeError;Ws.exports=function(e){if(typeof e=="object"||sm(e))return e;throw fm("Can't set "+cm(e)+" as a prototype")}});var Ca=d((iI,Xs)=>{var lm=Ys(),vm=de(),dm=Js();Xs.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=lm(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch{}return i(function(s,m){return vm(s),dm(m),e?t(s,m):s.__proto__=m,s},"setPrototypeOf")}():void 0)});var Na=d((oI,uc)=>{"use strict";var pm=Ke(),ym=xe(),Yt=ke(),ic=ta(),hm=Z(),mm=Hs(),Qs=qa(),Zs=Ca(),gm=Gr(),bm=Vr(),Pa=Ce(),Sm=Ee(),ec=gr(),oc=xa(),Em=ic.PROPER,Tm=ic.CONFIGURABLE,rc=oc.IteratorPrototype,Wt=oc.BUGGY_SAFARI_ITERATORS,Hr=Sm("iterator"),tc="keys",zr="values",nc="entries",ac=i(function(){return this},"returnThis");uc.exports=function(e,r,t,a,s,m,c){mm(t,r,a);var S=i(function(P){if(P===s&&h)return h;if(!Wt&&P in g)return g[P];switch(P){case tc:return i(function(){return new t(this,P)},"keys");case zr:return i(function(){return new t(this,P)},"values");case nc:return i(function(){return new t(this,P)},"entries")}return function(){return new t(this)}},"getIterationMethod"),y=r+" Iterator",b=!1,g=e.prototype,A=g[Hr]||g["@@iterator"]||s&&g[s],h=!Wt&&A||S(s),T=r=="Array"&&g.entries||A,C,x,G;if(T&&(C=Qs(T.call(new e)),C!==Object.prototype&&C.next&&(!Yt&&Qs(C)!==rc&&(Zs?Zs(C,rc):hm(C[Hr])||Pa(C,Hr,ac)),gm(C,y,!0,!0),Yt&&(ec[y]=ac))),Em&&s==zr&&A&&A.name!==zr&&(!Yt&&Tm?bm(g,"name",zr):(b=!0,h=i(function(){return ym(A,this)},"values"))),s)if(x={values:S(zr),keys:m?h:S(tc),entries:S(nc)},c)for(G in x)(Wt||b||!(G in g))&&Pa(g,G,x[G]);else pm({target:r,proto:!0,forced:Wt||b},x);return(!Yt||c)&&g[Hr]!==h&&Pa(g,Hr,h,{name:s}),ec[r]=h,x}});var ja=d((uI,sc)=>{sc.exports=function(e,r){return{value:e,done:r}}});var pc=d((sI,dc)=>{"use strict";var Om=tr(),Ma=gs(),cc=gr(),lc=kr(),Im=pe().f,wm=Na(),Jt=ja(),Rm=ke(),qm=se(),vc="Array Iterator",Am=lc.set,_m=lc.getterFor(vc);dc.exports=wm(Array,"Array",function(e,r){Am(this,{type:vc,target:Om(e),index:0,kind:r})},function(){var e=_m(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,Jt(void 0,!0)):t=="keys"?Jt(a,!1):t=="values"?Jt(r[a],!1):Jt([a,r[a]],!1)},"values");var fc=cc.Arguments=cc.Array;Ma("keys");Ma("values");Ma("entries");if(!Rm&&qm&&fc.name!=="values")try{Im(fc,"name",{value:"values"})}catch{}});var hc=d(()=>{var Dm=Ke(),xm=Ct(),yc=ha(),Cm=W(),Pm=Cm(function(){yc(1)});Dm({target:"Object",stat:!0,forced:Pm},{keys:i(function(r){return yc(xm(r))},"keys")})});var gc=d((lI,mc)=>{"use strict";var Nm=$t(),jm=mr();mc.exports=Nm?{}.toString:i(function(){return"[object "+jm(this)+"]"},"toString")});var bc=d(()=>{var Mm=$t(),Bm=Ce(),Fm=gc();Mm||Bm(Object.prototype,"toString",Fm,{unsafe:!0})});var Ba=d((pI,Sc)=>{"use strict";var Vm=Pt(),Lm=pe(),Um=$e();Sc.exports=function(e,r,t){var a=Vm(r);a in e?Lm.f(e,a,Um(0,t)):e[a]=t}});var Oc=d((yI,Tc)=>{var Ec=da(),km=$r(),$m=Ba(),Km=Array,Gm=Math.max;Tc.exports=function(e,r,t){for(var a=km(e),s=Ec(r,a),m=Ec(t===void 0?a:t,a),c=Km(Gm(m-s,0)),S=0;s<m;s++,S++)$m(c,S,e[s]);return c.length=S,c}});var qc=d((hI,Rc)=>{var Hm=rr(),zm=tr(),Ic=zt().f,Ym=Oc(),wc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Wm=i(function(e){try{return Ic(e)}catch{return Ym(wc)}},"getWindowNames");Rc.exports.f=i(function(r){return wc&&Hm(r)=="Window"?Wm(r):Ic(zm(r))},"getOwnPropertyNames")});var _c=d((mI,Ac)=>{var Jm=W();Ac.exports=Jm(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var Cc=d((gI,xc)=>{var Xm=W(),Qm=Se(),Zm=rr(),Dc=_c(),Xt=Object.isExtensible,eg=Xm(function(){Xt(1)});xc.exports=eg||Dc?i(function(r){return!Qm(r)||Dc&&Zm(r)=="ArrayBuffer"?!1:Xt?Xt(r):!0},"isExtensible"):Xt});var Nc=d((bI,Pc)=>{var rg=W();Pc.exports=!rg(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Ua=d((SI,Bc)=>{var tg=Ke(),ng=ee(),ag=Lr(),ig=Se(),Fa=fe(),og=pe().f,jc=zt(),ug=qc(),Va=Cc(),sg=Fr(),cg=Nc(),Mc=!1,Ne=sg("meta"),fg=0,La=i(function(e){og(e,Ne,{value:{objectID:"O"+fg++,weakData:{}}})},"setMetadata"),lg=i(function(e,r){if(!ig(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!Fa(e,Ne)){if(!Va(e))return"F";if(!r)return"E";La(e)}return e[Ne].objectID},"fastKey"),vg=i(function(e,r){if(!Fa(e,Ne)){if(!Va(e))return!0;if(!r)return!1;La(e)}return e[Ne].weakData},"getWeakData"),dg=i(function(e){return cg&&Mc&&Va(e)&&!Fa(e,Ne)&&La(e),e},"onFreeze"),pg=i(function(){yg.enable=function(){},Mc=!0;var e=jc.f,r=ng([].splice),t={};t[Ne]=1,e(t).length&&(jc.f=function(a){for(var s=e(a),m=0,c=s.length;m<c;m++)if(s[m]===Ne){r(s,m,1);break}return s},tg({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:ug.f}))},"enable"),yg=Bc.exports={enable:pg,fastKey:lg,getWeakData:vg,onFreeze:dg};ag[Ne]=!0});var Vc=d((EI,Fc)=>{var hg=rr(),mg=ee();Fc.exports=function(e){if(hg(e)==="Function")return mg(e)}});var ka=d((TI,Uc)=>{var Lc=Vc(),gg=Br(),bg=It(),Sg=Lc(Lc.bind);Uc.exports=function(e,r){return gg(e),r===void 0?e:bg?Sg(e,r):function(){return e.apply(r,arguments)}}});var $c=d((OI,kc)=>{var Eg=Ee(),Tg=gr(),Og=Eg("iterator"),Ig=Array.prototype;kc.exports=function(e){return e!==void 0&&(Tg.Array===e||Ig[Og]===e)}});var $a=d((II,Gc)=>{var wg=mr(),Kc=_t(),Rg=Ze(),qg=gr(),Ag=Ee(),_g=Ag("iterator");Gc.exports=function(e){if(!Rg(e))return Kc(e,_g)||Kc(e,"@@iterator")||qg[wg(e)]}});var zc=d((wI,Hc)=>{var Dg=xe(),xg=Br(),Cg=de(),Pg=At(),Ng=$a(),jg=TypeError;Hc.exports=function(e,r){var t=arguments.length<2?Ng(e):r;if(xg(t))return Cg(Dg(t,e));throw jg(Pg(e)+" is not iterable")}});var Jc=d((RI,Wc)=>{var Mg=xe(),Yc=de(),Bg=_t();Wc.exports=function(e,r,t){var a,s;Yc(e);try{if(a=Bg(e,"return"),!a){if(r==="throw")throw t;return t}a=Mg(a,e)}catch(m){s=!0,a=m}if(r==="throw")throw t;if(s)throw a;return Yc(a),t}});var Zt=d((qI,ef)=>{var Fg=ka(),Vg=xe(),Lg=de(),Ug=At(),kg=$c(),$g=$r(),Xc=Mr(),Kg=zc(),Gg=$a(),Qc=Jc(),Hg=TypeError,Qt=i(function(e,r){this.stopped=e,this.result=r},"Result"),Zc=Qt.prototype;ef.exports=function(e,r,t){var a=t&&t.that,s=!!(t&&t.AS_ENTRIES),m=!!(t&&t.IS_RECORD),c=!!(t&&t.IS_ITERATOR),S=!!(t&&t.INTERRUPTED),y=Fg(r,a),b,g,A,h,T,C,x,G=i(function(N){return b&&Qc(b,"normal",N),new Qt(!0,N)},"stop"),P=i(function(N){return s?(Lg(N),S?y(N[0],N[1],G):y(N[0],N[1])):S?y(N,G):y(N)},"callFn");if(m)b=e.iterator;else if(c)b=e;else{if(g=Gg(e),!g)throw Hg(Ug(e)+" is not iterable");if(kg(g)){for(A=0,h=$g(e);h>A;A++)if(T=P(e[A]),T&&Xc(Zc,T))return T;return new Qt(!1)}b=Kg(e,g)}for(C=m?e.next:b.next;!(x=Vg(C,b)).done;){try{T=P(x.value)}catch(N){Qc(b,"throw",N)}if(typeof T=="object"&&T&&Xc(Zc,T))return T}return new Qt(!1)}});var Yr=d((AI,rf)=>{var zg=Mr(),Yg=TypeError;rf.exports=function(e,r){if(zg(r,e))return e;throw Yg("Incorrect invocation")}});var uf=d((_I,of)=>{var Wg=Ee(),nf=Wg("iterator"),af=!1;try{tf=0,Ka={next:function(){return{done:!!tf++}},return:function(){af=!0}},Ka[nf]=function(){return this},Array.from(Ka,function(){throw 2})}catch{}var tf,Ka;of.exports=function(e,r){if(!r&&!af)return!1;var t=!1;try{var a={};a[nf]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t}});var Ga=d((DI,cf)=>{var Jg=Z(),Xg=Se(),sf=Ca();cf.exports=function(e,r,t){var a,s;return sf&&Jg(a=r.constructor)&&a!==t&&Xg(s=a.prototype)&&s!==t.prototype&&sf(e,s),e}});var Ya=d((xI,lf)=>{"use strict";var Qg=Ke(),Zg=ce(),eb=ee(),ff=Ia(),rb=Ce(),tb=Ua(),nb=Zt(),ab=Yr(),ib=Z(),ob=Ze(),Ha=Se(),za=W(),ub=uf(),sb=Gr(),cb=Ga();lf.exports=function(e,r,t){var a=e.indexOf("Map")!==-1,s=e.indexOf("Weak")!==-1,m=a?"set":"add",c=Zg[e],S=c&&c.prototype,y=c,b={},g=i(function(P){var N=eb(S[P]);rb(S,P,P=="add"?i(function(te){return N(this,te===0?0:te),this},"add"):P=="delete"?function(F){return s&&!Ha(F)?!1:N(this,F===0?0:F)}:P=="get"?i(function(te){return s&&!Ha(te)?void 0:N(this,te===0?0:te)},"get"):P=="has"?i(function(te){return s&&!Ha(te)?!1:N(this,te===0?0:te)},"has"):i(function(te,qe){return N(this,te===0?0:te,qe),this},"set"))},"fixMethod"),A=ff(e,!ib(c)||!(s||S.forEach&&!za(function(){new c().entries().next()})));if(A)y=t.getConstructor(r,e,a,m),tb.enable();else if(ff(e,!0)){var h=new y,T=h[m](s?{}:-0,1)!=h,C=za(function(){h.has(1)}),x=ub(function(P){new c(P)}),G=!s&&za(function(){for(var P=new c,N=5;N--;)P[m](N,N);return!P.has(-0)});x||(y=r(function(P,N){ab(P,S);var F=cb(new c,P,y);return ob(N)||nb(N,F[m],{that:F,AS_ENTRIES:a}),F}),y.prototype=S,S.constructor=y),(C||G)&&(g("delete"),g("has"),a&&g("get")),(G||T)&&g(m),s&&S.clear&&delete S.clear}return b[e]=y,Qg({global:!0,constructor:!0,forced:y!=c},b),sb(y,e),s||t.setStrong(y,e,a),y}});var en=d((CI,df)=>{var vf=fa(),fb=pe();df.exports=function(e,r,t){return t.get&&vf(t.get,r,{getter:!0}),t.set&&vf(t.set,r,{setter:!0}),fb.f(e,r,t)}});var yf=d((PI,pf)=>{var lb=Ce();pf.exports=function(e,r,t){for(var a in r)lb(e,a,r[a],t);return e}});var gf=d((NI,mf)=>{"use strict";var vb=Ie(),db=en(),pb=Ee(),yb=se(),hf=pb("species");mf.exports=function(e){var r=vb(e);yb&&r&&!r[hf]&&db(r,hf,{configurable:!0,get:function(){return this}})}});var Ja=d((jI,Of)=>{"use strict";var hb=nr(),mb=en(),bf=yf(),gb=ka(),bb=Yr(),Sb=Ze(),Eb=Zt(),Tb=Na(),rn=ja(),Ob=gf(),Wr=se(),Sf=Ua().fastKey,Tf=kr(),Ef=Tf.set,Wa=Tf.getterFor;Of.exports={getConstructor:function(e,r,t,a){var s=e(function(b,g){bb(b,m),Ef(b,{type:r,index:hb(null),first:void 0,last:void 0,size:0}),Wr||(b.size=0),Sb(g)||Eb(g,b[a],{that:b,AS_ENTRIES:t})}),m=s.prototype,c=Wa(r),S=i(function(b,g,A){var h=c(b),T=y(b,g),C,x;return T?T.value=A:(h.last=T={index:x=Sf(g,!0),key:g,value:A,previous:C=h.last,next:void 0,removed:!1},h.first||(h.first=T),C&&(C.next=T),Wr?h.size++:b.size++,x!=="F"&&(h.index[x]=T)),b},"define"),y=i(function(b,g){var A=c(b),h=Sf(g),T;if(h!=="F")return A.index[h];for(T=A.first;T;T=T.next)if(T.key==g)return T},"getEntry");return bf(m,{clear:i(function(){for(var g=this,A=c(g),h=A.index,T=A.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete h[T.index],T=T.next;A.first=A.last=void 0,Wr?A.size=0:g.size=0},"clear"),delete:function(b){var g=this,A=c(g),h=y(g,b);if(h){var T=h.next,C=h.previous;delete A.index[h.index],h.removed=!0,C&&(C.next=T),T&&(T.previous=C),A.first==h&&(A.first=T),A.last==h&&(A.last=C),Wr?A.size--:g.size--}return!!h},forEach:i(function(g){for(var A=c(this),h=gb(g,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:A.first;)for(h(T.value,T.key,this);T&&T.removed;)T=T.previous},"forEach"),has:i(function(g){return!!y(this,g)},"has")}),bf(m,t?{get:i(function(g){var A=y(this,g);return A&&A.value},"get"),set:i(function(g,A){return S(this,g===0?0:g,A)},"set")}:{add:i(function(g){return S(this,g=g===0?0:g,g)},"add")}),Wr&&mb(m,"size",{configurable:!0,get:function(){return c(this).size}}),s},setStrong:function(e,r,t){var a=r+" Iterator",s=Wa(r),m=Wa(a);Tb(e,r,function(c,S){Ef(this,{type:a,target:c,state:s(c),kind:S,last:void 0})},function(){for(var c=m(this),S=c.kind,y=c.last;y&&y.removed;)y=y.previous;return!c.target||!(c.last=y=y?y.next:c.state.first)?(c.target=void 0,rn(void 0,!0)):S=="keys"?rn(y.key,!1):S=="values"?rn(y.value,!1):rn([y.key,y.value],!1)},t?"entries":"values",!t,!0),Ob(r)}}});var If=d(()=>{"use strict";var Ib=Ya(),wb=Ja();Ib("Map",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Map")},wb)});var wf=d(()=>{If()});var Rf=d(()=>{"use strict";var Rb=Ya(),qb=Ja();Rb("Set",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Set")},qb)});var qf=d(()=>{Rf()});var tn=d((KI,Af)=>{var Ab=rr();Af.exports=typeof process<"u"&&Ab(process)=="process"});var Df=d((GI,_f)=>{var _b=tn();_f.exports=function(e){try{if(_b)return Function('return require("'+e+'")')()}catch{}}});var Xa=d((HI,xf)=>{xf.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var Qa=d((zI,Nf)=>{var Db=ee(),Cf=Error,xb=Db("".replace),Cb=function(e){return String(Cf(e).stack)}("zxcasd"),Pf=/\n\s*at [^:]*:[^\n]*/,Pb=Pf.test(Cb);Nf.exports=function(e,r){if(Pb&&typeof e=="string"&&!Cf.prepareStackTrace)for(;r--;)e=xb(e,Pf,"");return e}});var Gf=d(()=>{"use strict";var Nb=Ke(),jb=Df(),on=Ie(),ai=W(),Mb=nr(),ii=$e(),un=pe().f,Bb=Ce(),nn=en(),an=fe(),Fb=Yr(),Vb=de(),Bf=Sa(),jf=Gt(),br=Xa(),Lb=Qa(),Ff=kr(),oi=se(),Vf=ke(),Sr="DOMException",ni="DATA_CLONE_ERR",cn=on("Error"),je=on(Sr)||function(){try{var e=on("MessageChannel")||jb("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(r){if(r.name==ni&&r.code==25)return r.constructor}}(),Ub=je&&je.prototype,Lf=cn.prototype,kb=Ff.set,$b=Ff.getterFor(Sr),Kb="stack"in cn(Sr),Uf=i(function(e){return an(br,e)&&br[e].m?br[e].c:0},"codeFor"),ui=i(function(){Fb(this,Xr);var r=arguments.length,t=jf(r<1?void 0:arguments[0]),a=jf(r<2?void 0:arguments[1],"Error"),s=Uf(a);if(kb(this,{type:Sr,name:a,message:t,code:s}),oi||(this.name=a,this.message=t,this.code=s),Kb){var m=cn(t);m.name=Sr,un(this,"stack",ii(1,Lb(m.stack,1)))}},"DOMException"),Xr=ui.prototype=Mb(Lf),kf=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),Za=i(function(e){return kf(function(){return $b(this)[e]})},"getterFor");oi&&(nn(Xr,"code",Za("code")),nn(Xr,"message",Za("message")),nn(Xr,"name",Za("name")));un(Xr,"constructor",ii(1,ui));var fn=ai(function(){return!(new je instanceof cn)}),$f=fn||ai(function(){return Lf.toString!==Bf||String(new je(1,2))!=="2: 1"}),Kf=fn||ai(function(){return new je(1,"DataCloneError").code!==25}),Gb=fn||je[ni]!==25||Ub[ni]!==25,Mf=Vf?$f||Kf||Gb:fn;Nb({global:!0,constructor:!0,forced:Mf},{DOMException:Mf?ui:je});var Qr=on(Sr),sn=Qr.prototype;$f&&(Vf||je===Qr)&&Bb(sn,"toString",Bf);Kf&&oi&&je===Qr&&nn(sn,"code",kf(function(){return Uf(Vb(this).name)}));for(ei in br)an(br,ei)&&(ri=br[ei],Jr=ri.s,ti=ii(6,ri.c),an(Qr,Jr)||un(Qr,Jr,ti),an(sn,Jr)||un(sn,Jr,ti));var ri,Jr,ti,ei});var Qf=d(()=>{"use strict";var Hb=Ke(),zb=ce(),yi=Ie(),di=$e(),pi=pe().f,Hf=fe(),Yb=Yr(),Wb=Ga(),zf=Gt(),si=Xa(),Jb=Qa(),Xb=se(),Jf=ke(),et="DOMException",Xf=yi("Error"),rt=yi(et),hi=i(function(){Yb(this,Qb);var r=arguments.length,t=zf(r<1?void 0:arguments[0]),a=zf(r<2?void 0:arguments[1],"Error"),s=new rt(t,a),m=Xf(t);return m.name=et,pi(s,"stack",di(1,Jb(m.stack,1))),Wb(s,this,hi),s},"DOMException"),Qb=hi.prototype=rt.prototype,Zb="stack"in Xf(et),eS="stack"in new rt(1,2),ci=rt&&Xb&&Object.getOwnPropertyDescriptor(zb,et),rS=!!ci&&!(ci.writable&&ci.configurable),Yf=Zb&&!rS&&!eS;Hb({global:!0,constructor:!0,forced:Jf||Yf},{DOMException:Yf?hi:rt});var Zr=yi(et),Wf=Zr.prototype;if(Wf.constructor!==Zr){Jf||pi(Wf,"constructor",di(1,Zr));for(fi in si)Hf(si,fi)&&(li=si[fi],vi=li.s,Hf(Zr,vi)||pi(Zr,vi,di(6,li.c)))}var li,vi,fi});var el=d(()=>{var tS=Ie(),nS=Gr(),Zf="DOMException";nS(tS(Zf),Zf)});var ol=d((ew,il)=>{var aS=ee(),iS=W(),rl=Z(),oS=mr(),uS=Ie(),sS=aa(),tl=i(function(){},"noop"),cS=[],nl=uS("Reflect","construct"),mi=/^\s*(?:class|function)\b/,fS=aS(mi.exec),lS=!mi.exec(tl),tt=i(function(r){if(!rl(r))return!1;try{return nl(tl,cS,r),!0}catch{return!1}},"isConstructor"),al=i(function(r){if(!rl(r))return!1;switch(oS(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return lS||!!fS(mi,sS(r))}catch{return!0}},"isConstructor");al.sham=!0;il.exports=!nl||iS(function(){var e;return tt(tt.call)||!tt(Object)||!tt(function(){e=!0})||e})?al:tt});var sl=d((rw,ul)=>{var vS=TypeError;ul.exports=function(e,r){if(e<r)throw vS("Not enough arguments");return e}});var fl=d((tw,cl)=>{"use strict";var dS=de();cl.exports=function(){var e=dS(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r}});var dl=d((nw,vl)=>{var pS=xe(),yS=fe(),hS=Mr(),mS=fl(),ll=RegExp.prototype;vl.exports=function(e){var r=e.flags;return r===void 0&&!("flags"in ll)&&!yS(e,"flags")&&hS(ll,e)?pS(mS,e):r}});var yl=d((aw,pl)=>{var ln=ee(),nt=Map.prototype;pl.exports={Map,set:ln(nt.set),get:ln(nt.get),has:ln(nt.has),remove:ln(nt.delete),proto:nt}});var ml=d((iw,hl)=>{var gi=ee(),vn=Set.prototype;hl.exports={Set,add:gi(vn.add),has:gi(vn.has),remove:gi(vn.delete),proto:vn}});var bl=d((ow,gl)=>{var gS=W(),bS=$e();gl.exports=!gS(function(){var e=Error("a");return"stack"in e?(Object.defineProperty(e,"stack",bS(1,7)),e.stack!==7):!0})});var bi=d((uw,Sl)=>{Sl.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var Tl=d((sw,El)=>{var SS=bi(),ES=tn();El.exports=!SS&&!ES&&typeof window=="object"&&typeof document=="object"});var wl=d((cw,Il)=>{var TS=ce(),OS=W(),Si=Un(),IS=Tl(),wS=bi(),RS=tn(),Ol=TS.structuredClone;Il.exports=!!Ol&&!OS(function(){if(wS&&Si>92||RS&&Si>94||IS&&Si>97)return!1;var e=new ArrayBuffer(8),r=Ol(e,{transfer:[e]});return e.byteLength!=0||r.byteLength!=8})});var jl=d(()=>{var qS=ke(),AS=Ke(),z=ce(),Ri=Ie(),ot=ee(),qi=W(),_S=Fr(),pn=Z(),DS=ol(),xS=Ze(),Oi=Se(),CS=qt(),PS=Zt(),ql=de(),Al=mr(),NS=fe(),jS=Ba(),Ei=Vr(),yn=$r(),MS=sl(),BS=dl(),mn=yl(),_l=ml(),FS=bl(),Dl=wl(),at=z.Object,VS=z.Array,xl=z.Date,ut=z.Error,LS=z.EvalError,US=z.RangeError,kS=z.ReferenceError,$S=z.SyntaxError,Cl=z.TypeError,KS=z.URIError,GS=z.PerformanceMark,Tr=z.WebAssembly,HS=Tr&&Tr.CompileError||ut,zS=Tr&&Tr.LinkError||ut,YS=Tr&&Tr.RuntimeError||ut,ar=Ri("DOMException"),Ii=mn.Map,Pl=mn.has,WS=mn.get,hn=mn.set,JS=_l.Set,XS=_l.add,QS=Ri("Object","keys"),ZS=ot([].push),eE=ot((!0).valueOf),rE=ot(1 .valueOf),tE=ot("".valueOf),nE=ot(xl.prototype.getTime),wi=_S("structuredClone"),it="DataCloneError",dn="Transferring",Nl=i(function(e){return!qi(function(){var r=new z.Set([7]),t=e(r),a=e(at(7));return t==r||!t.has(7)||typeof a!="object"||a!=7})&&e},"checkBasicSemantic"),Rl=i(function(e,r){return!qi(function(){var t=new r,a=e({a:t,b:t});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===t.stack)})},"checkErrorsCloning"),aE=i(function(e){return!qi(function(){var r=e(new z.AggregateError([1],wi,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=wi||r.cause!=3})},"checkNewErrorsCloningSemantic"),Er=z.structuredClone,iE=qS||!Rl(Er,ut)||!Rl(Er,ar)||!aE(Er),oE=!Er&&Nl(function(e){return new GS(wi,{detail:e}).detail}),Ge=Nl(Er)||oE,Ti=i(function(e){throw new ar("Uncloneable type: "+e,it)},"throwUncloneable"),ue=i(function(e,r){throw new ar((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",it)},"throwUnpolyfillable"),uE=i(function(){var e;try{e=new z.DataTransfer}catch{try{e=new z.ClipboardEvent("").clipboardData}catch{}}return e&&e.items&&e.files?e:null},"createDataTransfer"),oe=i(function(e,r){if(CS(e)&&Ti("Symbol"),!Oi(e))return e;if(r){if(Pl(r,e))return WS(r,e)}else r=new Ii;var t=Al(e),a=!1,s,m,c,S,y,b,g,A,h,T,C;switch(t){case"Array":c=VS(yn(e)),a=!0;break;case"Object":c={},a=!0;break;case"Map":c=new Ii,a=!0;break;case"Set":c=new JS,a=!0;break;case"RegExp":c=new RegExp(e.source,BS(e));break;case"Error":switch(m=e.name,m){case"AggregateError":c=Ri("AggregateError")([]);break;case"EvalError":c=LS();break;case"RangeError":c=US();break;case"ReferenceError":c=kS();break;case"SyntaxError":c=$S();break;case"TypeError":c=Cl();break;case"URIError":c=KS();break;case"CompileError":c=HS();break;case"LinkError":c=zS();break;case"RuntimeError":c=YS();break;default:c=ut()}a=!0;break;case"DOMException":c=new ar(e.message,e.name),a=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s=z[t],Oi(s)||ue(t),c=new s(oe(e.buffer,r),e.byteOffset,t==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{c=new DOMQuad(oe(e.p1,r),oe(e.p2,r),oe(e.p3,r),oe(e.p4,r))}catch{Ge?c=Ge(e):ue(t)}break;case"FileList":if(S=uE(),S){for(y=0,b=yn(e);y<b;y++)S.items.add(oe(e[y],r));c=S.files}else Ge?c=Ge(e):ue(t);break;case"ImageData":try{c=new ImageData(oe(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch{Ge?c=Ge(e):ue(t)}break;default:if(Ge)c=Ge(e);else switch(t){case"BigInt":c=at(e.valueOf());break;case"Boolean":c=at(eE(e));break;case"Number":c=at(rE(e));break;case"String":c=at(tE(e));break;case"Date":c=new xl(nE(e));break;case"ArrayBuffer":s=z.DataView,!s&&typeof e.slice!="function"&&ue(t);try{if(typeof e.slice=="function"&&!e.resizable)c=e.slice(0);else for(b=e.byteLength,C=("maxByteLength"in e)?{maxByteLength:e.maxByteLength}:void 0,c=new ArrayBuffer(b,C),h=new s(e),T=new s(c),y=0;y<b;y++)T.setUint8(y,h.getUint8(y))}catch{throw new ar("ArrayBuffer is detached",it)}break;case"SharedArrayBuffer":c=e;break;case"Blob":try{c=e.slice(0,e.size,e.type)}catch{ue(t)}break;case"DOMPoint":case"DOMPointReadOnly":s=z[t];try{c=s.fromPoint?s.fromPoint(e):new s(e.x,e.y,e.z,e.w)}catch{ue(t)}break;case"DOMRect":case"DOMRectReadOnly":s=z[t];try{c=s.fromRect?s.fromRect(e):new s(e.x,e.y,e.width,e.height)}catch{ue(t)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=z[t];try{c=s.fromMatrix?s.fromMatrix(e):new s(e)}catch{ue(t)}break;case"AudioData":case"VideoFrame":pn(e.clone)||ue(t);try{c=e.clone()}catch{Ti(t)}break;case"File":try{c=new File([e],e.name,e)}catch{ue(t)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":ue(t);default:Ti(t)}}if(hn(r,e,c),a)switch(t){case"Array":case"Object":for(g=QS(e),y=0,b=yn(g);y<b;y++)A=g[y],jS(c,A,oe(e[A],r));break;case"Map":e.forEach(function(x,G){hn(c,oe(G,r),oe(x,r))});break;case"Set":e.forEach(function(x){XS(c,oe(x,r))});break;case"Error":Ei(c,"message",oe(e.message,r)),NS(e,"cause")&&Ei(c,"cause",oe(e.cause,r)),m=="AggregateError"&&(c.errors=oe(e.errors,r));case"DOMException":FS&&Ei(c,"stack",oe(e.stack,r))}return c},"structuredCloneInternal"),sE=i(function(e,r){if(!Oi(e))throw Cl("Transfer option cannot be converted to a sequence");var t=[];PS(e,function(h){ZS(t,ql(h))});var a=0,s=yn(t),m,c,S,y,b,g,A;if(Dl)for(y=Er(t,{transfer:t});a<s;)hn(r,t[a],y[a++]);else for(;a<s;){if(m=t[a++],Pl(r,m))throw new ar("Duplicate transferable",it);switch(c=Al(m),c){case"ImageBitmap":S=z.OffscreenCanvas,DS(S)||ue(c,dn);try{g=new S(m.width,m.height),A=g.getContext("bitmaprenderer"),A.transferFromImageBitmap(m),b=g.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!pn(m.clone)||!pn(m.close))&&ue(c,dn);try{b=m.clone(),m.close()}catch{}break;case"ArrayBuffer":pn(m.transfer)||ue(c,dn),b=m.transfer();break;case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":ue(c,dn)}if(b===void 0)throw new ar("This object cannot be transferred: "+c,it);hn(r,m,b)}},"tryToTransfer");AS({global:!0,enumerable:!0,sham:!Dl,forced:iE},{structuredClone:i(function(r){var t=MS(arguments.length,1)>1&&!xS(arguments[1])?ql(arguments[1]):void 0,a=t?t.transfer:void 0,s;return a!==void 0&&(s=new Ii,sE(a,s)),oe(r,s)},"structuredClone")})});var Bl=d((vw,Ml)=>{var cE=ce();Ml.exports=cE});var Vl=d((dw,Fl)=>{hs();pc();hc();bc();wf();qf();Gf();Qf();el();jl();var fE=Bl();Fl.exports=fE.structuredClone});var Ul=d((pw,Ll)=>{var lE=Vl();Ll.exports=lE});var _i=d((kl,Ai)=>{(function(e){if(typeof kl=="object"&&typeof Ai<"u")Ai.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return i(function a(s,m,c){function S(g,A){if(!m[g]){if(!s[g]){var h=typeof Pr=="function"&&Pr;if(!A&&h)return h(g,!0);if(y)return y(g,!0);var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}var C=m[g]={exports:{}};s[g][0].call(C.exports,function(x){var G=s[g][1][x];return S(G||x)},C,C.exports,a,s,m,c)}return m[g].exports}i(S,"s");for(var y=typeof Pr=="function"&&Pr,b=0;b<c.length;b++)S(c[b]);return S},"e")({1:[function(a,s,m){(function(c){"use strict";var S=c.MutationObserver||c.WebKitMutationObserver,y;if(S){var b=0,g=new S(x),A=c.document.createTextNode("");g.observe(A,{characterData:!0}),y=i(function(){A.data=b=++b%2},"scheduleDrain")}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var h=new c.MessageChannel;h.port1.onmessage=x,y=i(function(){h.port2.postMessage(0)},"scheduleDrain")}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?y=i(function(){var P=c.document.createElement("script");P.onreadystatechange=function(){x(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},c.document.documentElement.appendChild(P)},"scheduleDrain"):y=i(function(){setTimeout(x,0)},"scheduleDrain");var T,C=[];function x(){T=!0;for(var P,N,F=C.length;F;){for(N=C,C=[],P=-1;++P<F;)N[P]();F=C.length}T=!1}i(x,"nextTick"),s.exports=G;function G(P){C.push(P)===1&&!T&&y()}i(G,"immediate")}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,s,m){"use strict";var c=a(1);function S(){}i(S,"INTERNAL");var y={},b=["REJECTED"],g=["FULFILLED"],A=["PENDING"];s.exports=h;function h(q){if(typeof q!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,q!==S&&G(this,q)}i(h,"Promise"),h.prototype.catch=function(q){return this.then(null,q)},h.prototype.then=function(q,V){if(typeof q!="function"&&this.state===g||typeof V!="function"&&this.state===b)return this;var M=new this.constructor(S);if(this.state!==A){var k=this.state===g?q:V;C(M,k,this.outcome)}else this.queue.push(new T(M,q,V));return M};function T(q,V,M){this.promise=q,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof M=="function"&&(this.onRejected=M,this.callRejected=this.otherCallRejected)}i(T,"QueueItem"),T.prototype.callFulfilled=function(q){y.resolve(this.promise,q)},T.prototype.otherCallFulfilled=function(q){C(this.promise,this.onFulfilled,q)},T.prototype.callRejected=function(q){y.reject(this.promise,q)},T.prototype.otherCallRejected=function(q){C(this.promise,this.onRejected,q)};function C(q,V,M){c(function(){var k;try{k=V(M)}catch(ne){return y.reject(q,ne)}k===q?y.reject(q,new TypeError("Cannot resolve promise with itself")):y.resolve(q,k)})}i(C,"unwrap"),y.resolve=function(q,V){var M=P(x,V);if(M.status==="error")return y.reject(q,M.value);var k=M.value;if(k)G(q,k);else{q.state=g,q.outcome=V;for(var ne=-1,ve=q.queue.length;++ne<ve;)q.queue[ne].callFulfilled(V)}return q},y.reject=function(q,V){q.state=b,q.outcome=V;for(var M=-1,k=q.queue.length;++M<k;)q.queue[M].callRejected(V);return q};function x(q){var V=q&&q.then;if(q&&(typeof q=="object"||typeof q=="function")&&typeof V=="function")return i(function(){V.apply(q,arguments)},"appyThen")}i(x,"getThen");function G(q,V){var M=!1;function k(me){M||(M=!0,y.reject(q,me))}i(k,"onError");function ne(me){M||(M=!0,y.resolve(q,me))}i(ne,"onSuccess");function ve(){V(ne,k)}i(ve,"tryToUnwrap");var he=P(ve);he.status==="error"&&k(he.value)}i(G,"safelyResolveThenable");function P(q,V){var M={};try{M.value=q(V),M.status="success"}catch(k){M.status="error",M.value=k}return M}i(P,"tryCatch"),h.resolve=N;function N(q){return q instanceof this?q:y.resolve(new this(S),q)}i(N,"resolve"),h.reject=F;function F(q){var V=new this(S);return y.reject(V,q)}i(F,"reject"),h.all=te;function te(q){var V=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=q.length,k=!1;if(!M)return this.resolve([]);for(var ne=new Array(M),ve=0,he=-1,me=new this(S);++he<M;)Ae(q[he],he);return me;function Ae(Dr,ht){V.resolve(Dr).then(bn,function(vr){k||(k=!0,y.reject(me,vr))});function bn(vr){ne[ht]=vr,++ve===M&&!k&&(k=!0,y.resolve(me,ne))}i(bn,"resolveFromAll")}}i(te,"all"),h.race=qe;function qe(q){var V=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var M=q.length,k=!1;if(!M)return this.resolve([]);for(var ne=-1,ve=new this(S);++ne<M;)he(q[ne]);return ve;function he(me){V.resolve(me).then(function(Ae){k||(k=!0,y.resolve(ve,Ae))},function(Ae){k||(k=!0,y.reject(ve,Ae))})}}i(qe,"race")},{"1":1}],3:[function(a,s,m){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"2":2}],4:[function(a,s,m){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function S(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}i(S,"_classCallCheck");function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}i(y,"getIDB");var b=y();function g(){try{if(!b||!b.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),u=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||u)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}i(g,"isIndexedDBValid");function A(n,u){n=n||[],u=u||{};try{return new Blob(n,u)}catch(f){if(f.name!=="TypeError")throw f;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,l=new o,v=0;v<n.length;v+=1)l.append(n[v]);return l.getBlob(u.type)}}i(A,"createBlob"),typeof Promise>"u"&&a(3);var h=Promise;function T(n,u){u&&n.then(function(o){u(null,o)},function(o){u(o)})}i(T,"executeCallback");function C(n,u,o){typeof u=="function"&&n.then(u),typeof o=="function"&&n.catch(o)}i(C,"executeTwoCallbacks");function x(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}i(x,"normalizeKey");function G(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}i(G,"getCallback");var P="local-forage-detect-blob-support",N=void 0,F={},te=Object.prototype.toString,qe="readonly",q="readwrite";function V(n){for(var u=n.length,o=new ArrayBuffer(u),l=new Uint8Array(o),v=0;v<u;v++)l[v]=n.charCodeAt(v);return o}i(V,"_binStringToArrayBuffer");function M(n){return new h(function(u){var o=n.transaction(P,q),l=A([""]);o.objectStore(P).put(l,"key"),o.onabort=function(v){v.preventDefault(),v.stopPropagation(),u(!1)},o.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);u(f||!v||parseInt(v[1],10)>=43)}}).catch(function(){return!1})}i(M,"_checkBlobSupportWithoutCaching");function k(n){return typeof N=="boolean"?h.resolve(N):M(n).then(function(u){return N=u,N})}i(k,"_checkBlobSupport");function ne(n){var u=F[n.name],o={};o.promise=new h(function(l,v){o.resolve=l,o.reject=v}),u.deferredOperations.push(o),u.dbReady?u.dbReady=u.dbReady.then(function(){return o.promise}):u.dbReady=o.promise}i(ne,"_deferReadiness");function ve(n){var u=F[n.name],o=u.deferredOperations.pop();if(o)return o.resolve(),o.promise}i(ve,"_advanceReadiness");function he(n,u){var o=F[n.name],l=o.deferredOperations.pop();if(l)return l.reject(u),l.promise}i(he,"_rejectReadiness");function me(n,u){return new h(function(o,l){if(F[n.name]=F[n.name]||Ni(),n.db)if(u)ne(n),n.db.close();else return o(n.db);var v=[n.name];u&&v.push(n.version);var f=b.open.apply(b,v);u&&(f.onupgradeneeded=function(p){var E=f.result;try{E.createObjectStore(n.storeName),p.oldVersion<=1&&E.createObjectStore(P)}catch(O){if(O.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw O}}),f.onerror=function(p){p.preventDefault(),l(f.error)},f.onsuccess=function(){var p=f.result;p.onversionchange=function(E){E.target.close()},o(p),ve(n)}})}i(me,"_getConnection");function Ae(n){return me(n,!1)}i(Ae,"_getOriginalConnection");function Dr(n){return me(n,!0)}i(Dr,"_getUpgradedConnection");function ht(n,u){if(!n.db)return!0;var o=!n.db.objectStoreNames.contains(n.storeName),l=n.version<n.db.version,v=n.version>n.db.version;if(l&&(n.version!==u&&console.warn('The database "'+n.name+`" can't be downgraded from version `+n.db.version+" to version "+n.version+"."),n.version=n.db.version),v||o){if(o){var f=n.db.version+1;f>n.version&&(n.version=f)}return!0}return!1}i(ht,"_isUpgradeNeeded");function bn(n){return new h(function(u,o){var l=new FileReader;l.onerror=o,l.onloadend=function(v){var f=btoa(v.target.result||"");u({__local_forage_encoded_blob:!0,data:f,type:n.type})},l.readAsBinaryString(n)})}i(bn,"_encodeBlob");function vr(n){var u=V(atob(n.data));return A([u],{type:n.type})}i(vr,"_decodeBlob");function Pi(n){return n&&n.__local_forage_encoded_blob}i(Pi,"_isEncodedBlob");function Gl(n){var u=this,o=u._initReady().then(function(){var l=F[u._dbInfo.name];if(l&&l.dbReady)return l.dbReady});return C(o,n,n),o}i(Gl,"_fullyReady");function Hl(n){ne(n);for(var u=F[n.name],o=u.forages,l=0;l<o.length;l++){var v=o[l];v._dbInfo.db&&(v._dbInfo.db.close(),v._dbInfo.db=null)}return n.db=null,Ae(n).then(function(f){return n.db=f,ht(n)?Dr(n):f}).then(function(f){n.db=u.db=f;for(var p=0;p<o.length;p++)o[p]._dbInfo.db=f}).catch(function(f){throw he(n,f),f})}i(Hl,"_tryReconnect");function _e(n,u,o,l){l===void 0&&(l=1);try{var v=n.db.transaction(n.storeName,u);o(null,v)}catch(f){if(l>0&&(!n.db||f.name==="InvalidStateError"||f.name==="NotFoundError"))return h.resolve().then(function(){if(!n.db||f.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),Dr(n)}).then(function(){return Hl(n).then(function(){_e(n,u,o,l-1)})}).catch(o);o(f)}}i(_e,"createTransaction");function Ni(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}i(Ni,"createDbContext");function zl(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=n[l];var v=F[o.name];v||(v=Ni(),F[o.name]=v),v.forages.push(u),u._initReady||(u._initReady=u.ready,u.ready=Gl);var f=[];function p(){return h.resolve()}i(p,"ignoreErrors");for(var E=0;E<v.forages.length;E++){var O=v.forages[E];O!==u&&f.push(O._initReady().catch(p))}var I=v.forages.slice(0);return h.all(f).then(function(){return o.db=v.db,Ae(o)}).then(function(w){return o.db=w,ht(o,u._defaultConfig.version)?Dr(o):w}).then(function(w){o.db=v.db=w,u._dbInfo=o;for(var _=0;_<I.length;_++){var j=I[_];j!==u&&(j._dbInfo.db=o.db,j._dbInfo.version=o.version)}})}i(zl,"_initStorage");function Yl(n,u){var o=this;n=x(n);var l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,qe,function(p,E){if(p)return f(p);try{var O=E.objectStore(o._dbInfo.storeName),I=O.get(n);I.onsuccess=function(){var w=I.result;w===void 0&&(w=null),Pi(w)&&(w=vr(w)),v(w)},I.onerror=function(){f(I.error)}}catch(w){f(w)}})}).catch(f)});return T(l,u),l}i(Yl,"getItem");function Wl(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,qe,function(p,E){if(p)return f(p);try{var O=E.objectStore(o._dbInfo.storeName),I=O.openCursor(),w=1;I.onsuccess=function(){var _=I.result;if(_){var j=_.value;Pi(j)&&(j=vr(j));var L=n(j,_.key,w++);L!==void 0?v(L):_.continue()}else v()},I.onerror=function(){f(I.error)}}catch(_){f(_)}})}).catch(f)});return T(l,u),l}i(Wl,"iterate");function Jl(n,u,o){var l=this;n=x(n);var v=new h(function(f,p){var E;l.ready().then(function(){return E=l._dbInfo,te.call(u)==="[object Blob]"?k(E.db).then(function(O){return O?u:bn(u)}):u}).then(function(O){_e(l._dbInfo,q,function(I,w){if(I)return p(I);try{var _=w.objectStore(l._dbInfo.storeName);O===null&&(O=void 0);var j=_.put(O,n);w.oncomplete=function(){O===void 0&&(O=null),f(O)},w.onabort=w.onerror=function(){var L=j.error?j.error:j.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return T(v,o),v}i(Jl,"setItem");function Xl(n,u){var o=this;n=x(n);var l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,q,function(p,E){if(p)return f(p);try{var O=E.objectStore(o._dbInfo.storeName),I=O.delete(n);E.oncomplete=function(){v()},E.onerror=function(){f(I.error)},E.onabort=function(){var w=I.error?I.error:I.transaction.error;f(w)}}catch(w){f(w)}})}).catch(f)});return T(l,u),l}i(Xl,"removeItem");function Ql(n){var u=this,o=new h(function(l,v){u.ready().then(function(){_e(u._dbInfo,q,function(f,p){if(f)return v(f);try{var E=p.objectStore(u._dbInfo.storeName),O=E.clear();p.oncomplete=function(){l()},p.onabort=p.onerror=function(){var I=O.error?O.error:O.transaction.error;v(I)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(Ql,"clear");function Zl(n){var u=this,o=new h(function(l,v){u.ready().then(function(){_e(u._dbInfo,qe,function(f,p){if(f)return v(f);try{var E=p.objectStore(u._dbInfo.storeName),O=E.count();O.onsuccess=function(){l(O.result)},O.onerror=function(){v(O.error)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(Zl,"length");function ev(n,u){var o=this,l=new h(function(v,f){if(n<0){v(null);return}o.ready().then(function(){_e(o._dbInfo,qe,function(p,E){if(p)return f(p);try{var O=E.objectStore(o._dbInfo.storeName),I=!1,w=O.openKeyCursor();w.onsuccess=function(){var _=w.result;if(!_){v(null);return}n===0||I?v(_.key):(I=!0,_.advance(n))},w.onerror=function(){f(w.error)}}catch(_){f(_)}})}).catch(f)});return T(l,u),l}i(ev,"key");function rv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){_e(u._dbInfo,qe,function(f,p){if(f)return v(f);try{var E=p.objectStore(u._dbInfo.storeName),O=E.openKeyCursor(),I=[];O.onsuccess=function(){var w=O.result;if(!w){l(I);return}I.push(w.key),w.continue()},O.onerror=function(){v(O.error)}}catch(w){v(w)}})}).catch(v)});return T(o,n),o}i(rv,"keys");function tv(n,u){u=G.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;if(!n.name)v=h.reject("Invalid arguments");else{var f=n.name===o.name&&l._dbInfo.db,p=f?h.resolve(l._dbInfo.db):Ae(n).then(function(E){var O=F[n.name],I=O.forages;O.db=E;for(var w=0;w<I.length;w++)I[w]._dbInfo.db=E;return E});n.storeName?v=p.then(function(E){if(!!E.objectStoreNames.contains(n.storeName)){var O=E.version+1;ne(n);var I=F[n.name],w=I.forages;E.close();for(var _=0;_<w.length;_++){var j=w[_];j._dbInfo.db=null,j._dbInfo.version=O}var L=new h(function(U,Q){var J=b.open(n.name,O);J.onerror=function(ge){var Cr=J.result;Cr.close(),Q(ge)},J.onupgradeneeded=function(){var ge=J.result;ge.deleteObjectStore(n.storeName)},J.onsuccess=function(){var ge=J.result;ge.close(),U(ge)}});return L.then(function(U){I.db=U;for(var Q=0;Q<w.length;Q++){var J=w[Q];J._dbInfo.db=U,ve(J._dbInfo)}}).catch(function(U){throw(he(n,U)||h.resolve()).catch(function(){}),U})}}):v=p.then(function(E){ne(n);var O=F[n.name],I=O.forages;E.close();for(var w=0;w<I.length;w++){var _=I[w];_._dbInfo.db=null}var j=new h(function(L,U){var Q=b.deleteDatabase(n.name);Q.onerror=function(){var J=Q.result;J&&J.close(),U(Q.error)},Q.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},Q.onsuccess=function(){var J=Q.result;J&&J.close(),L(J)}});return j.then(function(L){O.db=L;for(var U=0;U<I.length;U++){var Q=I[U];ve(Q._dbInfo)}}).catch(function(L){throw(he(n,L)||h.resolve()).catch(function(){}),L})})}return T(v,u),v}i(tv,"dropInstance");var nv={_driver:"asyncStorage",_initStorage:zl,_support:g(),iterate:Wl,getItem:Yl,setItem:Jl,removeItem:Xl,clear:Ql,length:Zl,key:ev,keys:rv,dropInstance:tv};function av(){return typeof openDatabase=="function"}i(av,"isWebSQLValid");var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iv="~~local_forage_type~",ji=/^~~local_forage_type~([^~]+)~/,mt="__lfsc__:",Sn=mt.length,En="arbf",Tn="blob",Mi="si08",Bi="ui08",Fi="uic8",Vi="si16",Li="si32",Ui="ur16",ki="ui32",$i="fl32",Ki="fl64",Gi=Sn+En.length,Hi=Object.prototype.toString;function zi(n){var u=n.length*.75,o=n.length,l,v=0,f,p,E,O;n[n.length-1]==="="&&(u--,n[n.length-2]==="="&&u--);var I=new ArrayBuffer(u),w=new Uint8Array(I);for(l=0;l<o;l+=4)f=Ve.indexOf(n[l]),p=Ve.indexOf(n[l+1]),E=Ve.indexOf(n[l+2]),O=Ve.indexOf(n[l+3]),w[v++]=f<<2|p>>4,w[v++]=(p&15)<<4|E>>2,w[v++]=(E&3)<<6|O&63;return I}i(zi,"stringToBuffer");function On(n){var u=new Uint8Array(n),o="",l;for(l=0;l<u.length;l+=3)o+=Ve[u[l]>>2],o+=Ve[(u[l]&3)<<4|u[l+1]>>4],o+=Ve[(u[l+1]&15)<<2|u[l+2]>>6],o+=Ve[u[l+2]&63];return u.length%3===2?o=o.substring(0,o.length-1)+"=":u.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}i(On,"bufferToString");function ov(n,u){var o="";if(n&&(o=Hi.call(n)),n&&(o==="[object ArrayBuffer]"||n.buffer&&Hi.call(n.buffer)==="[object ArrayBuffer]")){var l,v=mt;n instanceof ArrayBuffer?(l=n,v+=En):(l=n.buffer,o==="[object Int8Array]"?v+=Mi:o==="[object Uint8Array]"?v+=Bi:o==="[object Uint8ClampedArray]"?v+=Fi:o==="[object Int16Array]"?v+=Vi:o==="[object Uint16Array]"?v+=Ui:o==="[object Int32Array]"?v+=Li:o==="[object Uint32Array]"?v+=ki:o==="[object Float32Array]"?v+=$i:o==="[object Float64Array]"?v+=Ki:u(new Error("Failed to get type for BinaryArray"))),u(v+On(l))}else if(o==="[object Blob]"){var f=new FileReader;f.onload=function(){var p=iv+n.type+"~"+On(this.result);u(mt+Tn+p)},f.readAsArrayBuffer(n)}else try{u(JSON.stringify(n))}catch(p){console.error("Couldn't convert value into a JSON string: ",n),u(null,p)}}i(ov,"serialize");function uv(n){if(n.substring(0,Sn)!==mt)return JSON.parse(n);var u=n.substring(Gi),o=n.substring(Sn,Gi),l;if(o===Tn&&ji.test(u)){var v=u.match(ji);l=v[1],u=u.substring(v[0].length)}var f=zi(u);switch(o){case En:return f;case Tn:return A([f],{type:l});case Mi:return new Int8Array(f);case Bi:return new Uint8Array(f);case Fi:return new Uint8ClampedArray(f);case Vi:return new Int16Array(f);case Ui:return new Uint16Array(f);case Li:return new Int32Array(f);case ki:return new Uint32Array(f);case $i:return new Float32Array(f);case Ki:return new Float64Array(f);default:throw new Error("Unkown type: "+o)}}i(uv,"deserialize");var In={serialize:ov,deserialize:uv,stringToBuffer:zi,bufferToString:On};function Yi(n,u,o,l){n.executeSql("CREATE TABLE IF NOT EXISTS "+u.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,l)}i(Yi,"createDbTable");function sv(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=typeof n[l]!="string"?n[l].toString():n[l];var v=new h(function(f,p){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(E){return p(E)}o.db.transaction(function(E){Yi(E,o,function(){u._dbInfo=o,f()},function(O,I){p(I)})},p)});return o.serializer=In,v}i(sv,"_initStorage$1");function Le(n,u,o,l,v,f){n.executeSql(o,l,v,function(p,E){E.code===E.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[u.storeName],function(O,I){I.rows.length?f(O,E):Yi(O,u,function(){O.executeSql(o,l,v,f)},f)},f):f(p,E)},f)}i(Le,"tryExecuteSql");function cv(n,u){var o=this;n=x(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(E){Le(E,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[n],function(O,I){var w=I.rows.length?I.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(cv,"getItem$1");function fv(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(E){Le(E,p,"SELECT * FROM "+p.storeName,[],function(O,I){for(var w=I.rows,_=w.length,j=0;j<_;j++){var L=w.item(j),U=L.value;if(U&&(U=p.serializer.deserialize(U)),U=n(U,L.key,j+1),U!==void 0){v(U);return}}v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(fv,"iterate$1");function Wi(n,u,o,l){var v=this;n=x(n);var f=new h(function(p,E){v.ready().then(function(){u===void 0&&(u=null);var O=u,I=v._dbInfo;I.serializer.serialize(u,function(w,_){_?E(_):I.db.transaction(function(j){Le(j,I,"INSERT OR REPLACE INTO "+I.storeName+" (key, value) VALUES (?, ?)",[n,w],function(){p(O)},function(L,U){E(U)})},function(j){if(j.code===j.QUOTA_ERR){if(l>0){p(Wi.apply(v,[n,O,o,l-1]));return}E(j)}})})}).catch(E)});return T(f,o),f}i(Wi,"_setItem");function lv(n,u,o){return Wi.apply(this,[n,u,o,1])}i(lv,"setItem$1");function vv(n,u){var o=this;n=x(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(E){Le(E,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[n],function(){v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(vv,"removeItem$1");function dv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Le(p,f,"DELETE FROM "+f.storeName,[],function(){l()},function(E,O){v(O)})})}).catch(v)});return T(o,n),o}i(dv,"clear$1");function pv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Le(p,f,"SELECT COUNT(key) as c FROM "+f.storeName,[],function(E,O){var I=O.rows.item(0).c;l(I)},function(E,O){v(O)})})}).catch(v)});return T(o,n),o}i(pv,"length$1");function yv(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(E){Le(E,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[n+1],function(O,I){var w=I.rows.length?I.rows.item(0).key:null;v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(yv,"key$1");function hv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Le(p,f,"SELECT key FROM "+f.storeName,[],function(E,O){for(var I=[],w=0;w<O.rows.length;w++)I.push(O.rows.item(w).key);l(I)},function(E,O){v(O)})})}).catch(v)});return T(o,n),o}i(hv,"keys$1");function mv(n){return new h(function(u,o){n.transaction(function(l){l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(v,f){for(var p=[],E=0;E<f.rows.length;E++)p.push(f.rows.item(E).name);u({db:n,storeNames:p})},function(v,f){o(f)})},function(l){o(l)})})}i(mv,"getAllStoreNames");function gv(n,u){u=G.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;return n.name?v=new h(function(f){var p;n.name===o.name?p=l._dbInfo.db:p=openDatabase(n.name,"","",0),n.storeName?f({db:p,storeNames:[n.storeName]}):f(mv(p))}).then(function(f){return new h(function(p,E){f.db.transaction(function(O){function I(L){return new h(function(U,Q){O.executeSql("DROP TABLE IF EXISTS "+L,[],function(){U()},function(J,ge){Q(ge)})})}i(I,"dropTable");for(var w=[],_=0,j=f.storeNames.length;_<j;_++)w.push(I(f.storeNames[_]));h.all(w).then(function(){p()}).catch(function(L){E(L)})},function(O){E(O)})})}):v=h.reject("Invalid arguments"),T(v,u),v}i(gv,"dropInstance$1");var bv={_driver:"webSQLStorage",_initStorage:sv,_support:av(),iterate:fv,getItem:cv,setItem:lv,removeItem:vv,clear:dv,length:pv,key:yv,keys:hv,dropInstance:gv};function Sv(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}i(Sv,"isLocalStorageValid");function Ji(n,u){var o=n.name+"/";return n.storeName!==u.storeName&&(o+=n.storeName+"/"),o}i(Ji,"_getKeyPrefix");function Ev(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch{return!0}}i(Ev,"checkIfLocalStorageThrows");function Tv(){return!Ev()||localStorage.length>0}i(Tv,"_isLocalStorageUsable");function Ov(n){var u=this,o={};if(n)for(var l in n)o[l]=n[l];return o.keyPrefix=Ji(n,u._defaultConfig),Tv()?(u._dbInfo=o,o.serializer=In,h.resolve()):h.reject()}i(Ov,"_initStorage$2");function Iv(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo.keyPrefix,v=localStorage.length-1;v>=0;v--){var f=localStorage.key(v);f.indexOf(l)===0&&localStorage.removeItem(f)}});return T(o,n),o}i(Iv,"clear$2");function wv(n,u){var o=this;n=x(n);var l=o.ready().then(function(){var v=o._dbInfo,f=localStorage.getItem(v.keyPrefix+n);return f&&(f=v.serializer.deserialize(f)),f});return T(l,u),l}i(wv,"getItem$2");function Rv(n,u){var o=this,l=o.ready().then(function(){for(var v=o._dbInfo,f=v.keyPrefix,p=f.length,E=localStorage.length,O=1,I=0;I<E;I++){var w=localStorage.key(I);if(w.indexOf(f)===0){var _=localStorage.getItem(w);if(_&&(_=v.serializer.deserialize(_)),_=n(_,w.substring(p),O++),_!==void 0)return _}}});return T(l,u),l}i(Rv,"iterate$2");function qv(n,u){var o=this,l=o.ready().then(function(){var v=o._dbInfo,f;try{f=localStorage.key(n)}catch{f=null}return f&&(f=f.substring(v.keyPrefix.length)),f});return T(l,u),l}i(qv,"key$2");function Av(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo,v=localStorage.length,f=[],p=0;p<v;p++){var E=localStorage.key(p);E.indexOf(l.keyPrefix)===0&&f.push(E.substring(l.keyPrefix.length))}return f});return T(o,n),o}i(Av,"keys$2");function _v(n){var u=this,o=u.keys().then(function(l){return l.length});return T(o,n),o}i(_v,"length$2");function Dv(n,u){var o=this;n=x(n);var l=o.ready().then(function(){var v=o._dbInfo;localStorage.removeItem(v.keyPrefix+n)});return T(l,u),l}i(Dv,"removeItem$2");function xv(n,u,o){var l=this;n=x(n);var v=l.ready().then(function(){u===void 0&&(u=null);var f=u;return new h(function(p,E){var O=l._dbInfo;O.serializer.serialize(u,function(I,w){if(w)E(w);else try{localStorage.setItem(O.keyPrefix+n,I),p(f)}catch(_){(_.name==="QuotaExceededError"||_.name==="NS_ERROR_DOM_QUOTA_REACHED")&&E(_),E(_)}})})});return T(v,o),v}i(xv,"setItem$2");function Cv(n,u){if(u=G.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var o=this.config();n.name=n.name||o.name,n.storeName=n.storeName||o.storeName}var l=this,v;return n.name?v=new h(function(f){n.storeName?f(Ji(n,l._defaultConfig)):f(n.name+"/")}).then(function(f){for(var p=localStorage.length-1;p>=0;p--){var E=localStorage.key(p);E.indexOf(f)===0&&localStorage.removeItem(E)}}):v=h.reject("Invalid arguments"),T(v,u),v}i(Cv,"dropInstance$2");var Pv={_driver:"localStorageWrapper",_initStorage:Ov,_support:Sv(),iterate:Rv,getItem:wv,setItem:xv,removeItem:Dv,clear:Iv,length:_v,key:qv,keys:Av,dropInstance:Cv},Nv=i(function(u,o){return u===o||typeof u=="number"&&typeof o=="number"&&isNaN(u)&&isNaN(o)},"sameValue"),jv=i(function(u,o){for(var l=u.length,v=0;v<l;){if(Nv(u[v],o))return!0;v++}return!1},"includes"),Xi=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},xr={},Qi={},dr={INDEXEDDB:nv,WEBSQL:bv,LOCALSTORAGE:Pv},Mv=[dr.INDEXEDDB._driver,dr.WEBSQL._driver,dr.LOCALSTORAGE._driver],gt=["dropInstance"],wn=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gt),Bv={description:"",driver:Mv.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Fv(n,u){n[u]=function(){var o=arguments;return n.ready().then(function(){return n[u].apply(n,o)})}}i(Fv,"callWhenReady");function Rn(){for(var n=1;n<arguments.length;n++){var u=arguments[n];if(u)for(var o in u)u.hasOwnProperty(o)&&(Xi(u[o])?arguments[0][o]=u[o].slice():arguments[0][o]=u[o])}return arguments[0]}i(Rn,"extend");var Vv=function(){function n(u){S(this,n);for(var o in dr)if(dr.hasOwnProperty(o)){var l=dr[o],v=l._driver;this[o]=v,xr[v]||this.defineDriver(l)}this._defaultConfig=Rn({},Bv),this._config=Rn({},this._defaultConfig,u),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i(n,"LocalForage"),n.prototype.config=i(function(o){if((typeof o>"u"?"undefined":c(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in o){if(l==="storeName"&&(o[l]=o[l].replace(/\W/g,"_")),l==="version"&&typeof o[l]!="number")return new Error("Database version must be a number.");this._config[l]=o[l]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},"config"),n.prototype.defineDriver=i(function(o,l,v){var f=new h(function(p,E){try{var O=o._driver,I=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){E(I);return}for(var w=wn.concat("_initStorage"),_=0,j=w.length;_<j;_++){var L=w[_],U=!jv(gt,L);if((U||o[L])&&typeof o[L]!="function"){E(I);return}}var Q=i(function(){for(var Cr=i(function(kv){return function(){var $v=new Error("Method "+kv+" is not implemented by the current driver"),Zi=h.reject($v);return T(Zi,arguments[arguments.length-1]),Zi}},"methodNotImplementedFactory"),qn=0,Uv=gt.length;qn<Uv;qn++){var An=gt[qn];o[An]||(o[An]=Cr(An))}},"configureMissingMethods");Q();var J=i(function(Cr){xr[O]&&console.info("Redefining LocalForage driver: "+O),xr[O]=o,Qi[O]=Cr,p()},"setDriverSupport");"_support"in o?o._support&&typeof o._support=="function"?o._support().then(J,E):J(!!o._support):J(!0)}catch(ge){E(ge)}});return C(f,l,v),f},"defineDriver"),n.prototype.driver=i(function(){return this._driver||null},"driver"),n.prototype.getDriver=i(function(o,l,v){var f=xr[o]?h.resolve(xr[o]):h.reject(new Error("Driver not found."));return C(f,l,v),f},"getDriver"),n.prototype.getSerializer=i(function(o){var l=h.resolve(In);return C(l,o),l},"getSerializer"),n.prototype.ready=i(function(o){var l=this,v=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return C(v,o,o),v},"ready"),n.prototype.setDriver=i(function(o,l,v){var f=this;Xi(o)||(o=[o]);var p=this._getSupportedDrivers(o);function E(){f._config.driver=f.driver()}i(E,"setDriverToConfig");function O(_){return f._extend(_),E(),f._ready=f._initStorage(f._config),f._ready}i(O,"extendSelfWithDriver");function I(_){return function(){var j=0;function L(){for(;j<_.length;){var U=_[j];return j++,f._dbInfo=null,f._ready=null,f.getDriver(U).then(O).catch(L)}E();var Q=new Error("No available storage method found.");return f._driverSet=h.reject(Q),f._driverSet}return i(L,"driverPromiseLoop"),L()}}i(I,"initDriver");var w=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=w.then(function(){var _=p[0];return f._dbInfo=null,f._ready=null,f.getDriver(_).then(function(j){f._driver=j._driver,E(),f._wrapLibraryMethodsWithReady(),f._initDriver=I(p)})}).catch(function(){E();var _=new Error("No available storage method found.");return f._driverSet=h.reject(_),f._driverSet}),C(this._driverSet,l,v),this._driverSet},"setDriver"),n.prototype.supports=i(function(o){return!!Qi[o]},"supports"),n.prototype._extend=i(function(o){Rn(this,o)},"_extend"),n.prototype._getSupportedDrivers=i(function(o){for(var l=[],v=0,f=o.length;v<f;v++){var p=o[v];this.supports(p)&&l.push(p)}return l},"_getSupportedDrivers"),n.prototype._wrapLibraryMethodsWithReady=i(function(){for(var o=0,l=wn.length;o<l;o++)Fv(this,wn[o])},"_wrapLibraryMethodsWithReady"),n.prototype.createInstance=i(function(o){return new n(o)},"createInstance"),n}(),Lv=new Vv;s.exports=Lv},{"3":3}]},{},[4])(4)})});var eo=i(e=>e==null,"isNil");var ro=i(e=>(typeof e=="string"||e instanceof String)&&e.trim()==="","isEmptyString");var to=i(()=>{let e=new Date().getTime(),r=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let a=Math.random()*16;return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(r+a)%16|0,r=Math.floor(r/16)),(t==="x"?a:a&3|8).toString(16)})},"generateUUID");var be=i(e=>`${e}`=="[object Object]","isObjectLiteral");var ie=class{constructor(r,t,a){this.name=r;this.type=t;this.defaultValue=a}static getTypeName(r){if(be(r))return"";let t,a=r instanceof B;try{a?t=r:(t=new r,t instanceof ie||(t=r))}catch{}return t.name}};i(ie,"CustomType");var X=class extends ie{constructor(){super("SchemaId",String,(()=>{try{return crypto.randomUUID()}catch{return to()}})())}};i(X,"SchemaId");var no=i(e=>e===null||[B,X,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Object].some(r=>e instanceof r||typeof e===r.name.toLowerCase()),"isSupportedTypeValue");var Nr=i(class extends ie{constructor(){super("Null",null,null)}},"Null");Object.defineProperty(Nr,"name",{value:"Null"});var ao=i((e,r)=>{if(e===Nr)return r===null;if(typeof r=="number"&&isNaN(r)||!r&&r===void 0)return!1;try{if(e instanceof B)return r===e||`${r}`=="[object Object]"&&e.getInvalidSchemaDataFields(r).length===0;let t=typeof r===e.name.toLowerCase();return(e[Symbol.hasInstance]?r instanceof e:t)||t}catch{return!1}},"isOfSupportedType");var Xe=i((e,r)=>{try{if(r instanceof Array&&r.some(t=>!no(t)))return!1;if(/ArrayOf/.test(e?.name)){let t=new e;return r instanceof Array&&!r.some(a=>!Xe(t.type,a))}return/OneOf/.test(e?.name)?new e().type.some(t=>Xe(t,r)):/SchemaId/.test(e?.name)?r instanceof X||typeof r=="string"&&/[0-9a-z]{8}-[0-9a-z]{4}-4[0-9a-z]{3}-[0-9a-z]{4}-[0-9a-z]{12}/.test(r):/Schema/.test(e?.name)?`${r}`=="[object Object]":/Null/.test(e?.name)?r===null:ao(e,r)}catch{return!1}},"isSameValueType");var bt=i(e=>{switch(e){case Number:return 0;case Boolean:return!1;case String:return"";case Array:case Float32Array:case Float64Array:case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:return new e;default:return/SchemaId|ArrayOf|OneOf|Null/.test(e.name)?new e().defaultValue:e instanceof B?Object.entries(e.toJSON()).reduce((r,[t,a])=>({...r,[t]:a.defaultValue}),{}):null}},"getDefaultValue");var St=i(e=>{let r=(e||{name:""}).name;return/ArrayOf|OneOf|Null/.test(r)||[B,X,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array].some(t=>e===t)},"isSupportedType");var pr,Ue=class{constructor(r,t=!1,a){this.type=r;this.required=t;this.defaultValue=a;$(this,pr,"");if(!(r instanceof B)&&!St(r))throw new Error(`Invalid SchemaValue type provided. Received "${r?.name??new r()?.name}"`);if(ae(this,pr,this.type instanceof B?`Schema<${this.type.name}>`:/ArrayOf|OneOf|SchemaId|Null/.test(r.name)?new r().name:this.type.name),a!==void 0&&!Xe(r,a))throw new Error(`Default value does not match type "${R(this,pr)}"`);this.defaultValue=a!==void 0?a instanceof ie||a instanceof X?a.defaultValue:a:bt(this.type)}toJSON(){return{type:R(this,pr),required:this.required,defaultValue:this.defaultValue}}toString(){return JSON.stringify(this.toJSON(),null,4)}};i(Ue,"SchemaValue"),pr=new WeakMap;var re,jr,De=class{constructor(r,t=null){$(this,re,{});$(this,jr,void 0);if(ae(this,jr,r),t){for(let a in t)if(t.hasOwnProperty(a))if(t[a]instanceof Ue)R(this,re)[a]=t[a];else throw new Error(`Field "${a}" is not a SchemaValue`)}}get name(){return R(this,jr)}defineField(r,t,{defaultValue:a,required:s}={}){R(this,re)[String(r)]=new Ue(t,s,a)}removeField(r){if(r){let[t,...a]=String(r).split("."),s=R(this,re)[t];s&&(a.length?s.type instanceof De&&s.type.removeField(a.join(".")):delete R(this,re)[t])}}hasField(r){if(r){let[t,...a]=String(r).split("."),s=R(this,re)[t];if(s)if(a.length){if(s.type instanceof De)return s.type.hasField(a.join("."))}else return R(this,re).hasOwnProperty(t)}return!1}getField(r){if(r){let[t,...a]=String(r).split("."),s=R(this,re)[t];return s&&a.length&&s.type instanceof De?s.type.getField(a.join(".")):s??null}return null}isValidFieldValue(r,t=null){let a=this.getField(String(r));return a?a.required?!eo(t)&&(a.type!==String||!ro(t))&&Xe(a.type,t):Xe(a.type,t):!1}getInvalidSchemaDataFields(r,t=new Set){let a=new Set,s=Object.keys(R(this,re)).filter(c=>R(this,re)[c].required),m=[...Object.keys(r),...s];for(let c of m)if(!t.has(c)){let S=this.getField(c),y=r[c];if(/ArrayOf/.test(S?.type.name??""))if(y instanceof Array){let b=new S.type;if(b.type instanceof De){y.forEach((g,A)=>{`${g}`=="[object Object]"?b.type.getInvalidSchemaDataFields(g).forEach(h=>{a.add(`${c}[${A}].${h}`)}):a.add(`${c}[${A}]`)});continue}}else{a.add(c);continue}if(/OneOf/.test(S?.type.name??"")){let g=new S.type().type.find(A=>A instanceof De);g&&`${y}`=="[object Object]"?g.getInvalidSchemaDataFields(y).forEach(A=>{a.add(`${c}.${A}`)}):this.isValidFieldValue(c,y)||a.add(c);continue}if(S?.type instanceof De){`${y}`=="[object Object]"?S.type.getInvalidSchemaDataFields(y).forEach(b=>{a.add(`${c}.${b}`)}):a.add(c);continue}this.isValidFieldValue(c,y)||a.add(c)}return Array.from(a)}toJSON(){let r={};for(let t in R(this,re))if(R(this,re).hasOwnProperty(t)){let a=R(this,re)[t];r[t]=a.toJSON()}return r}toString(){return JSON.stringify(this.toJSON(),null,4)}toValue(){let r=new Date,t={};for(let a in R(this,re))if(R(this,re).hasOwnProperty(a)){let s=R(this,re)[a];switch(!0){case s.type instanceof De:t[a]=s.type.toValue();break;case s.type===X:t[a]=new X().defaultValue;break;case s.type===Date:t[a]=s.defaultValue instanceof Date?s.defaultValue:r;break;default:t[a]=s.defaultValue}}return t}},B=De;i(B,"Schema"),re=new WeakMap,jr=new WeakMap;var Et=i(e=>{let r=null,t=e;switch(typeof e){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"object":if(e instanceof Date)return{type:Date,defaultValue:t};if(Array.isArray(e)){if(e.length){let{type:a}=Et(e[0]);if(e.every(s=>Et(s).type===a))return{type:Tt(a),defaultValue:e}}return{type:Array,defaultValue:t}}return ArrayBuffer.isView(e)?{type:e.constructor,defaultValue:t}:e instanceof ArrayBuffer?{type:ArrayBuffer,defaultValue:t}:e instanceof Blob?{type:Blob,defaultValue:t}:e instanceof B?{type:B,defaultValue:e.toValue()}:e instanceof X?{type:X,defaultValue:e.defaultValue}:`${e}`=="[object Object]"?{type:B,defaultValue:e}:{type:null,defaultValue:t};default:return St(e)?{type:e,defaultValue:bt(e)}:{type:null,defaultValue:t}}return{type:r,defaultValue:t}},"getSchemaTypeAndDefaultValueFromValue");var yr=i(e=>be(e)&&Object.keys(e).length,"isValidObjectLiteral");var H={blankStoreName:()=>"ClientStore must have a non-blank name",invalidSchema:()=>'Invalid "Schema" instance or object',invalidSubHandler:e=>`Received invalid "subscribe" handler => ${e}`,invalidEventName:(e,r)=>`Received unknown ${e} "${r}" event`,invalidEventHandler:(e,r,t)=>`Received invalid ${e} "${r}" event handler => ${t}`,invalidValueProvided:(e,r)=>`Invalid "value" provided to ${e} item => ${r}`,invalidValueInterceptProvided:(e,r)=>`Invalid "value" returned via ${e} intercept handler - item => ${r}`,missingOrInvalidFields:(e,r)=>`Missing or invalid field types for "${e.join(", ")}" keys. Should be ${r.map((t,a)=>`[${e[a]}, ${t}]`).join(", ")}`};var Qe=i((e,r)=>{if(!yr(r))throw new Error(H.invalidSchema());let t=new B(e);return Object.entries(r).forEach(([a,s])=>{a=`${a}`;let m=a.startsWith("$");m&&(a=`${a}`.slice(1));let{type:c,defaultValue:S}=Et(s);if(!c)throw new Error(`Unsupported Schema Type => key: "${a}", type: "${s?.constructor?.name??typeof s}" (estimated)`);c===B&&`${S}`=="[object Object]"&&(c=Qe(a,S),S=void 0),t.defineField(a,c,{required:m,...S===null?{}:{defaultValue:S}})}),t},"objectToSchema");function Tt(e){let r=ie.getTypeName(e);be(e)&&(e=Qe(r,e));let t=`Array<${e instanceof B?r?`Schema<${r}>`:"Schema":r}>`,a=i(class extends ie{constructor(){super(t,e,[])}},"CustomTypeConstructor");return Object.defineProperty(a,"name",{value:"ArrayOf"}),a}i(Tt,"ArrayOf");function io(...e){if(e.length<2)throw new Error("OneOf requires more than single type listed comma separated");e=e.map(a=>be(a)?Qe("",a):a);let r=e.map(a=>{if(a.name==="OneOf")throw new Error('Cannot nest "OneOf" types');let s=ie.getTypeName(a);return a instanceof B?s?`Schema<${s}>`:"Schema":s}).join(" | "),t=i(class extends ie{constructor(){super(r,e,null)}},"CustomTypeConstructor");return Object.defineProperty(t,"name",{value:"OneOf"}),t}i(io,"OneOf");var Sw=Dn(Ul()),Ci=Dn(_i());var Me=i((e,r)=>typeof r=="function"?r(null,e):Promise.resolve(e),"callBackOrPromise"),st="Memory",Di={},xi=i(e=>`${e.storeName}-${e.name}-${e.version}`,"getMapKeyFromConfig"),He=i(({_config:e})=>Di[xi(e)]??{},"getMap"),$l=i(()=>({_driver:st,_initStorage(e){this._config=e,Di[xi(e)]=new Map},async clear(e){He(this).clear(),Me([],e)},async getItem(e,r){let t=He(this).get(e);return Me(t??null,r)||null},async iterate(e,r){let t=0,a;for(let[s,m]of He(this).entries()){if(a=e(m,s,t),a!==void 0)return Me(a,r);t+=1}return Me(null,r)},async key(e,r){let t=Array.from(He(this).keys());return Me(t[e],r)||""},async keys(e){let r=Array.from(He(this).keys());return Me(r,e)||[]},async length(e){return Me(He(this).size,e)||0},async removeItem(e,r){return He(this).delete(e),Me(e,r)},async setItem(e,r,t){return He(this).set(e,r),Me(r,t)},async dropInstance(){delete Di[xi(this._config)]}}),"MemoryStore");var Or=Dn(_i());var ir=(g=>(g.READY="ready",g.PROCESSING="processing",g.PROCESSING_EVENTS="processing-events",g.CREATED="created",g.LOADED="loaded",g.ERROR="error",g.ABORTED="aborted",g.REMOVED="removed",g.UPDATED="updated",g.CLEARED="cleared",g))(ir||{}),Kl={LOCALSTORAGE:Or.LOCALSTORAGE,WEBSQL:Or.WEBSQL,INDEXEDDB:Or.INDEXEDDB,MEMORYSTORAGE:st};var Ir={version:1,type:st,description:"",appName:"App",idKeyName:"_id",createdDateKeyName:"_createdDate",updatedDateKeyName:"_lastUpdatedDate"};Ci.default.defineDriver($l());var ct=structuredClone,le,ye,lt,vt,Ar,ze,ur,sr,dt,Be,cr,ft,Fe,or,K,Y,Ye,wr,We,Rr,_r,gn,Je,qr,fr=class{constructor(r,t,a=Ir){$(this,cr);$(this,Fe);$(this,K);$(this,Ye);$(this,We);$(this,_r);$(this,Je);$(this,le,void 0);$(this,ye,void 0);$(this,lt,void 0);$(this,vt,void 0);$(this,Ar,new Set);$(this,ze,new Map(Object.values(ir).map(r=>[r,new Set])));$(this,ur,new Map(Object.values(ir).map(r=>[r,null])));$(this,sr,null);$(this,dt,!1);$(this,Be,new Set);if(ae(this,lt,r),ae(this,ye,{...Ir,...a}),!`${r}`.trim().length)throw new Error(H.blankStoreName());if(!(t instanceof B))if(`${t}`=="[object Object]")t=Qe(r,t);else throw new Error(H.invalidSchema());let s=R(this,ye).appName||"App";ae(this,vt,t),ae(this,le,Ci.default.createInstance({driver:R(this,ye).type,version:R(this,ye).version,description:R(this,ye).description,name:s,storeName:r})),R(this,le).ready(()=>{ae(this,dt,!0),D(this,K,Y).call(this,"ready",!0)})}get schema(){return R(this,vt)}get ready(){return R(this,dt)}get type(){return R(this,ye).type}get name(){return R(this,lt)}get appName(){return R(this,ye).appName}get processing(){return R(this,Be).size>0}get idKeyName(){return R(this,ye).idKeyName||Ir.idKeyName}get createdDateKeyName(){return R(this,ye).createdDateKeyName||Ir.createdDateKeyName}get updatedDateKeyName(){return R(this,ye).updatedDateKeyName||Ir.updatedDateKeyName}get processingEvents(){return Array.from(R(this,Be),r=>r.split("_")[0])}async size(){return await R(this,le).length()}subscribe(r){if(typeof r=="function")return R(this,Ar).add(r),()=>{R(this,Ar).delete(r)};throw new Error(H.invalidSubHandler(r))}on(r,t){if(typeof t=="function"){if(R(this,ze).has(r))return R(this,ze).get(r)?.add(t),()=>this.off(r,t);throw new Error(H.invalidEventName("ON",r))}throw new Error(H.invalidEventHandler("ON",r,t))}off(r,t){if(typeof t=="function"){if(R(this,ze).has(r)){R(this,ze).get(r)?.delete(t);return}throw new Error(H.invalidEventName("OFF",r))}throw new Error(H.invalidEventHandler("OFF",r,t))}beforeChange(r){if(typeof r=="function")ae(this,sr,r);else throw new Error(H.invalidEventHandler("function","beforeChange",r));return()=>{ae(this,sr,null)}}intercept(r,t){if(typeof t=="function"){if(R(this,ur).has(r))return R(this,ur).set(r,t),()=>{R(this,ur).set(r,null)};throw new Error(H.invalidEventName("INTERCEPT",r))}throw new Error(H.invalidEventHandler("INTERCEPT",r,t))}async loadItems(r=[]){return D(this,Je,qr).call(this,"loaded",async()=>{try{let t=new Map,{key:a}=D(this,_r,gn).call(this);for(let c of r){if(!yr(c))throw new Error(H.invalidValueProvided("load",c));let{item:S,id:y}=await D(this,cr,ft).call(this,c);D(this,Fe,or).call(this,S,b=>H.missingOrInvalidFields(b,b.map(g=>this.schema.getField(g)??void 0))),t.set(y,S)}let s=await D(this,We,Rr).call(this,"loaded",Array.from(t.values()));if(s===null)return D(this,K,Y).call(this,"aborted",{action:"loaded",data:r}),null;if(Array.isArray(s)&&s.length)for(let c of s){if(!be(c))throw new Error(H.invalidValueInterceptProvided("load",c));let S=c[a];if(t.get(c[a]))t.set(c[a],ct({...t.get(c[a]),...c}));else{let{item:y,id:b}=await D(this,cr,ft).call(this,c);t.set(b,y),S=b}D(this,Fe,or).call(this,t.get(S),y=>H.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)))}let m=await Promise.all(Array.from(t.values()).map(c=>R(this,le).setItem(`${c[a]}`,c)));return D(this,K,Y).call(this,"loaded",m),m}catch(t){throw D(this,K,Y).call(this,"error",D(this,Ye,wr).call(this,"loaded",r,null,t)),t}})}async createItem(r){return D(this,Je,qr).call(this,"created",async()=>{try{if(!yr(r))throw new Error(H.invalidValueProvided("create",r));D(this,Fe,or).call(this,r,c=>H.missingOrInvalidFields(c,c.map(S=>this.schema.getField(S)??void 0)));let{item:t,id:a}=await D(this,cr,ft).call(this,r),s=await D(this,We,Rr).call(this,"created",t,a);if(s===null)return D(this,K,Y).call(this,"aborted",{action:"created",data:r}),null;be(s)&&(t=ct({...t,...s}),D(this,Fe,or).call(this,t,c=>H.missingOrInvalidFields(c,c.map(S=>this.schema.getField(S)??void 0))));let m=await R(this,le).setItem(String(t[this.idKeyName]),t);return D(this,K,Y).call(this,"created",m),m}catch(t){throw D(this,K,Y).call(this,"error",D(this,Ye,wr).call(this,"created",r,null,t)),t}})}async updateItem(r,t){return D(this,Je,qr).call(this,"updated",async()=>{try{if(!yr(t))throw new Error(H.invalidValueProvided("update",t));let a=ct(await this.getItem(r));if(a){let{item:s,id:m}=await D(this,cr,ft).call(this,t,a);D(this,Fe,or).call(this,s,y=>H.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)));let c=await D(this,We,Rr).call(this,"updated",s,m);if(c===null)return D(this,K,Y).call(this,"aborted",{action:"updated",data:t}),null;be(c)&&(s=ct(c),D(this,Fe,or).call(this,s,y=>H.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0))));let S=await R(this,le).setItem(String(m),s);return D(this,K,Y).call(this,"updated",S),S}}catch(a){throw D(this,K,Y).call(this,"error",D(this,Ye,wr).call(this,"updated",t,r,a)),a}return null})}async getItems(){return this.findItems(()=>!0)}async getItem(r){return R(this,le).getItem(String(r))}async removeItem(r){return D(this,Je,qr).call(this,"removed",async()=>{try{if(await this.getItem(r))if(await D(this,We,Rr).call(this,"removed",r,r)===null)D(this,K,Y).call(this,"aborted",{action:"removed",data:r});else return await R(this,le).removeItem(`${r}`),D(this,K,Y).call(this,"removed",r),r}catch(t){throw D(this,K,Y).call(this,"error",D(this,Ye,wr).call(this,"removed",r,r,t)),t}return null})}async clear(){return D(this,Je,qr).call(this,"cleared",async()=>{let r=await R(this,le).keys();try{if(await D(this,We,Rr).call(this,"cleared",r)===null)D(this,K,Y).call(this,"aborted",{action:"cleared",data:r});else return await R(this,le).clear(),D(this,K,Y).call(this,"cleared",r),r}catch(t){throw D(this,K,Y).call(this,"error",D(this,Ye,wr).call(this,"cleared",r,null,t)),t}return null})}async findItem(r){return typeof r!="function"?null:await R(this,le).iterate((t,a)=>{if(r(t,a))return t})??null}async findItems(r){if(typeof r!="function")return[];let t=[];return await R(this,le).iterate((a,s)=>{r(a,s)&&a&&t.push(a)}),t}};i(fr,"ClientStore"),le=new WeakMap,ye=new WeakMap,lt=new WeakMap,vt=new WeakMap,Ar=new WeakMap,ze=new WeakMap,ur=new WeakMap,sr=new WeakMap,dt=new WeakMap,Be=new WeakMap,cr=new WeakSet,ft=i(async function(r,t=null){let{defaultKeys:a,key:s,createKey:m,updateKey:c}=D(this,_r,gn).call(this),S=new Date,y=r[s],b=t??await this.getItem(y);b?(b=ct(b),b[c]=r[c]??S):(b=this.schema.toValue(),b[s]=y??new X().defaultValue,b[m]=r[m]??S,b[c]=b[m]);for(let g in r)!a.has(g)&&r.hasOwnProperty(g)&&(b[g]=r[g]);return{item:b,id:b[s]}},"#mergeExistingItemWithNewData"),Fe=new WeakSet,or=i(function(r,t){let{defaultKeys:a}=D(this,_r,gn).call(this),s=this.schema.getInvalidSchemaDataFields(r,a);if(s.length)throw new Error(t(s))},"#validateData"),K=new WeakSet,Y=i(function(r,t){R(this,Ar).forEach(a=>a(r,t)),R(this,ze).get(r)?.forEach(a=>a(t))},"#broadcast"),Ye=new WeakSet,wr=i(function(r,t,a=null,s=null){return{action:r,data:t,id:a,error:s}},"#createEventData"),We=new WeakSet,Rr=i(function(r,t,a=null){let s={data:t,id:a},m=R(this,ur).get(r);if(typeof m=="function")return m(s);if(R(this,sr))return R(this,sr).call(this,r,s)},"#getWithResult"),_r=new WeakSet,gn=i(function(){let r=this.idKeyName,t=this.createdDateKeyName,a=this.updatedDateKeyName;return{key:r,createKey:t,updateKey:a,defaultKeys:new Set([r,t,a])}},"#getDefaultKeys"),Je=new WeakSet,qr=i(async function(r,t){let a=`${r}_${Date.now()}`;R(this,Be).add(a),R(this,Be).size===1&&(D(this,K,Y).call(this,"processing",!0),D(this,K,Y).call(this,"processing-events",this.processingEvents));try{let s=await t();return R(this,Be).delete(a),this.processing||(D(this,K,Y).call(this,"processing",!1),D(this,K,Y).call(this,"processing-events",this.processingEvents)),s}catch(s){throw R(this,Be).delete(a),this.processing||(D(this,K,Y).call(this,"processing",!1),D(this,K,Y).call(this,"processing-events",this.processingEvents)),s}},"#trackProcess");var we,Re,lr,pt,yt=class{constructor(r,t){this.name=r;$(this,lr);$(this,we,void 0);$(this,Re,{});ae(this,we,new fr(r,t)),ae(this,Re,R(this,we).schema.toValue())}get value(){return D(this,lr,pt).call(this,R(this,Re))}async update(r){return R(this,Re)._id?R(this,we).updateItem(R(this,Re)._id,{...r}).then(t=>(ae(this,Re,t),D(this,lr,pt).call(this,t))):R(this,we).createItem({...R(this,Re),...r}).then(t=>(ae(this,Re,t),D(this,lr,pt).call(this,t)))}subscribe(r){return R(this,we).subscribe((t,a)=>{switch(t){case"created":case"updated":r(D(this,lr,pt).call(this,a),null);break;case"error":r(null,a.error);break}})}intercept(r){let t=R(this,we).intercept("created",({data:s})=>{r(s)}),a=R(this,we).intercept("updated",({data:s})=>{r(s)});return()=>{t(),a()}}};i(yt,"AppState"),we=new WeakMap,Re=new WeakMap,lr=new WeakSet,pt=i(function(r){let{_id:t,_createdDate:a,_lastUpdatedDate:s,...m}=r;return m},"#extractStateFromItem");window&&(window.CWS={Schema:B,SchemaValue:Ue,SchemaId:X,ArrayOf:Tt,OneOf:io,Null:Nr,ClientStore:fr,EventType:ir,StorageType:Kl,AppState:yt});})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
//# sourceMappingURL=client-web-storage.min.js.map
