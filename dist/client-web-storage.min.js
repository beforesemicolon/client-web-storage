(()=>{var Vv=Object.create;var An=Object.defineProperty;var Lv=Object.getOwnPropertyDescriptor;var Uv=Object.getOwnPropertyNames;var kv=Object.getPrototypeOf,$v=Object.prototype.hasOwnProperty;var i=(e,r)=>An(e,"name",{value:r,configurable:!0}),jr=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Kv=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let u of Uv(r))!$v.call(e,u)&&u!==t&&An(e,u,{get:()=>r[u],enumerable:!(a=Lv(r,u))||a.enumerable});return e};var _n=(e,r,t)=>(t=e!=null?Vv(kv(e)):{},Kv(r||!e||!e.__esModule?An(t,"default",{value:e,enumerable:!0}):t,e));var Dn=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var R=(e,r,t)=>(Dn(e,r,"read from private field"),t?t.call(e):r.get(e)),$=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},ae=(e,r,t,a)=>(Dn(e,r,"write to private field"),a?a.call(e,t):r.set(e,t),t);var x=(e,r,t)=>(Dn(e,r,"access private method"),t);var Cn=d((vT,no)=>{var xn=typeof document=="object"&&document.all,Gv=typeof xn>"u"&&xn!==void 0;no.exports={all:xn,IS_HTMLDDA:Gv}});var Z=d((dT,io)=>{var ao=Cn(),Hv=ao.all;io.exports=ao.IS_HTMLDDA?function(e){return typeof e=="function"||e===Hv}:function(e){return typeof e=="function"}});var X=d((pT,oo)=>{oo.exports=function(e){try{return!!e()}catch{return!0}}});var se=d((yT,so)=>{var zv=X();so.exports=!zv(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var ue=d((hT,uo)=>{var It=i(function(e){return e&&e.Math==Math&&e},"check");uo.exports=It(typeof globalThis=="object"&&globalThis)||It(typeof window=="object"&&window)||It(typeof self=="object"&&self)||It(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var Ee=d((mT,lo)=>{var co=Z(),fo=Cn(),Yv=fo.all;lo.exports=fo.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:co(e)||e===Yv}:function(e){return typeof e=="object"?e!==null:co(e)}});var Nn=d((gT,po)=>{var Wv=ue(),vo=Ee(),Pn=Wv.document,Jv=vo(Pn)&&vo(Pn.createElement);po.exports=function(e){return Jv?Pn.createElement(e):{}}});var jn=d((bT,yo)=>{var Xv=se(),Qv=X(),Zv=Nn();yo.exports=!Xv&&!Qv(function(){return Object.defineProperty(Zv("div"),"a",{get:function(){return 7}}).a!=7})});var Mn=d((ET,ho)=>{var ed=se(),rd=X();ho.exports=ed&&rd(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var pe=d((ST,mo)=>{var td=Ee(),nd=String,ad=TypeError;mo.exports=function(e){if(td(e))return e;throw ad(nd(e)+" is not an object")}});var wt=d((TT,go)=>{var id=X();go.exports=!id(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var xe=d((OT,bo)=>{var od=wt(),Rt=Function.prototype.call;bo.exports=od?Rt.bind(Rt):function(){return Rt.apply(Rt,arguments)}});var Te=d((IT,Eo)=>{var Bn=ue(),sd=Z(),ud=i(function(e){return sd(e)?e:void 0},"aFunction");Eo.exports=function(e,r){return arguments.length<2?ud(Bn[e]):Bn[e]&&Bn[e][r]}});var re=d((wT,Oo)=>{var So=wt(),To=Function.prototype,Fn=To.call,cd=So&&To.bind.bind(Fn,Fn);Oo.exports=So?cd:function(e){return function(){return Fn.apply(e,arguments)}}});var Br=d((RT,Io)=>{var fd=re();Io.exports=fd({}.isPrototypeOf)});var Ro=d((qT,wo)=>{var ld=Te();wo.exports=ld("navigator","userAgent")||""});var Ln=d((AT,Co)=>{var xo=ue(),Vn=Ro(),qo=xo.process,Ao=xo.Deno,_o=qo&&qo.versions||Ao&&Ao.version,Do=_o&&_o.v8,Oe,qt;Do&&(Oe=Do.split("."),qt=Oe[0]>0&&Oe[0]<4?1:+(Oe[0]+Oe[1]));!qt&&Vn&&(Oe=Vn.match(/Edge\/(\d+)/),(!Oe||Oe[1]>=74)&&(Oe=Vn.match(/Chrome\/(\d+)/),Oe&&(qt=+Oe[1])));Co.exports=qt});var Un=d((_T,No)=>{var Po=Ln(),vd=X();No.exports=!!Object.getOwnPropertySymbols&&!vd(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Po&&Po<41})});var kn=d((DT,jo)=>{var dd=Un();jo.exports=dd&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var At=d((xT,Mo)=>{var pd=Te(),yd=Z(),hd=Br(),md=kn(),gd=Object;Mo.exports=md?function(e){return typeof e=="symbol"}:function(e){var r=pd("Symbol");return yd(r)&&hd(r.prototype,gd(e))}});var _t=d((CT,Bo)=>{var bd=String;Bo.exports=function(e){try{return bd(e)}catch{return"Object"}}});var Dt=d((PT,Fo)=>{var Ed=Z(),Sd=_t(),Td=TypeError;Fo.exports=function(e){if(Ed(e))return e;throw Td(Sd(e)+" is not a function")}});var er=d((NT,Vo)=>{Vo.exports=function(e){return e==null}});var xt=d((jT,Lo)=>{var Od=Dt(),Id=er();Lo.exports=function(e,r){var t=e[r];return Id(t)?void 0:Od(t)}});var ko=d((MT,Uo)=>{var $n=xe(),Kn=Z(),Gn=Ee(),wd=TypeError;Uo.exports=function(e,r){var t,a;if(r==="string"&&Kn(t=e.toString)&&!Gn(a=$n(t,e))||Kn(t=e.valueOf)&&!Gn(a=$n(t,e))||r!=="string"&&Kn(t=e.toString)&&!Gn(a=$n(t,e)))return a;throw wd("Can't convert object to primitive value")}});var ke=d((BT,$o)=>{$o.exports=!1});var Ct=d((FT,Go)=>{var Ko=ue(),Rd=Object.defineProperty;Go.exports=function(e,r){try{Rd(Ko,e,{value:r,configurable:!0,writable:!0})}catch{Ko[e]=r}return r}});var Pt=d((VT,zo)=>{var qd=ue(),Ad=Ct(),Ho="__core-js_shared__",_d=qd[Ho]||Ad(Ho,{});zo.exports=_d});var Hn=d((LT,Wo)=>{var Dd=ke(),Yo=Pt();(Wo.exports=function(e,r){return Yo[e]||(Yo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.27.1",mode:Dd?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var zn=d((UT,Jo)=>{var xd=er(),Cd=TypeError;Jo.exports=function(e){if(xd(e))throw Cd("Can't call method on "+e);return e}});var Nt=d((kT,Xo)=>{var Pd=zn(),Nd=Object;Xo.exports=function(e){return Nd(Pd(e))}});var ce=d(($T,Qo)=>{var jd=re(),Md=Nt(),Bd=jd({}.hasOwnProperty);Qo.exports=Object.hasOwn||i(function(r,t){return Bd(Md(r),t)},"hasOwn")});var Fr=d((KT,Zo)=>{var Fd=re(),Vd=0,Ld=Math.random(),Ud=Fd(1 .toString);Zo.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+Ud(++Vd+Ld,36)}});var Se=d((GT,as)=>{var kd=ue(),$d=Hn(),es=ce(),Kd=Fr(),rs=Un(),ns=kn(),gr=$d("wks"),rr=kd.Symbol,ts=rr&&rr.for,Gd=ns?rr:rr&&rr.withoutSetter||Kd;as.exports=function(e){if(!es(gr,e)||!(rs||typeof gr[e]=="string")){var r="Symbol."+e;rs&&es(rr,e)?gr[e]=rr[e]:ns&&ts?gr[e]=ts(r):gr[e]=Gd(r)}return gr[e]}});var us=d((HT,ss)=>{var Hd=xe(),is=Ee(),os=At(),zd=xt(),Yd=ko(),Wd=Se(),Jd=TypeError,Xd=Wd("toPrimitive");ss.exports=function(e,r){if(!is(e)||os(e))return e;var t=zd(e,Xd),a;if(t){if(r===void 0&&(r="default"),a=Hd(t,e,r),!is(a)||os(a))return a;throw Jd("Can't convert object to primitive value")}return r===void 0&&(r="number"),Yd(e,r)}});var jt=d((zT,cs)=>{var Qd=us(),Zd=At();cs.exports=function(e){var r=Qd(e,"string");return Zd(r)?r:r+""}});var fe=d(ls=>{var ep=se(),rp=jn(),tp=Mn(),Mt=pe(),fs=jt(),np=TypeError,Yn=Object.defineProperty,ap=Object.getOwnPropertyDescriptor,Wn="enumerable",Jn="configurable",Xn="writable";ls.f=ep?tp?i(function(r,t,a){if(Mt(r),t=fs(t),Mt(a),typeof r=="function"&&t==="prototype"&&"value"in a&&Xn in a&&!a[Xn]){var u=ap(r,t);u&&u[Xn]&&(r[t]=a.value,a={configurable:Jn in a?a[Jn]:u[Jn],enumerable:Wn in a?a[Wn]:u[Wn],writable:!1})}return Yn(r,t,a)},"defineProperty"):Yn:i(function(r,t,a){if(Mt(r),t=fs(t),Mt(a),rp)try{return Yn(r,t,a)}catch{}if("get"in a||"set"in a)throw np("Accessors not supported");return"value"in a&&(r[t]=a.value),r},"defineProperty")});var ea=d((WT,ds)=>{var Qn=se(),ip=ce(),vs=Function.prototype,op=Qn&&Object.getOwnPropertyDescriptor,Zn=ip(vs,"name"),sp=Zn&&i(function(){},"something").name==="something",up=Zn&&(!Qn||Qn&&op(vs,"name").configurable);ds.exports={EXISTS:Zn,PROPER:sp,CONFIGURABLE:up}});var ta=d((JT,ps)=>{var cp=re(),fp=Z(),ra=Pt(),lp=cp(Function.toString);fp(ra.inspectSource)||(ra.inspectSource=function(e){return lp(e)});ps.exports=ra.inspectSource});var ms=d((XT,hs)=>{var vp=ue(),dp=Z(),ys=vp.WeakMap;hs.exports=dp(ys)&&/native code/.test(String(ys))});var $e=d((QT,gs)=>{gs.exports=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}});var Vr=d((ZT,bs)=>{var pp=se(),yp=fe(),hp=$e();bs.exports=pp?function(e,r,t){return yp.f(e,r,hp(1,t))}:function(e,r,t){return e[r]=t,e}});var Bt=d((eO,Ss)=>{var mp=Hn(),gp=Fr(),Es=mp("keys");Ss.exports=function(e){return Es[e]||(Es[e]=gp(e))}});var Lr=d((rO,Ts)=>{Ts.exports={}});var kr=d((tO,ws)=>{var bp=ms(),Is=ue(),Ep=Ee(),Sp=Vr(),na=ce(),aa=Pt(),Tp=Bt(),Op=Lr(),Os="Object already initialized",ia=Is.TypeError,Ip=Is.WeakMap,Ft,Ur,Vt,wp=i(function(e){return Vt(e)?Ur(e):Ft(e,{})},"enforce"),Rp=i(function(e){return function(r){var t;if(!Ep(r)||(t=Ur(r)).type!==e)throw ia("Incompatible receiver, "+e+" required");return t}},"getterFor");bp||aa.state?(Ie=aa.state||(aa.state=new Ip),Ie.get=Ie.get,Ie.has=Ie.has,Ie.set=Ie.set,Ft=i(function(e,r){if(Ie.has(e))throw ia(Os);return r.facade=e,Ie.set(e,r),r},"set"),Ur=i(function(e){return Ie.get(e)||{}},"get"),Vt=i(function(e){return Ie.has(e)},"has")):(tr=Tp("state"),Op[tr]=!0,Ft=i(function(e,r){if(na(e,tr))throw ia(Os);return r.facade=e,Sp(e,tr,r),r},"set"),Ur=i(function(e){return na(e,tr)?e[tr]:{}},"get"),Vt=i(function(e){return na(e,tr)},"has"));var Ie,tr;ws.exports={set:Ft,get:Ur,has:Vt,enforce:wp,getterFor:Rp}});var sa=d((nO,qs)=>{var qp=X(),Ap=Z(),Lt=ce(),oa=se(),_p=ea().CONFIGURABLE,Dp=ta(),Rs=kr(),xp=Rs.enforce,Cp=Rs.get,Ut=Object.defineProperty,Pp=oa&&!qp(function(){return Ut(function(){},"length",{value:8}).length!==8}),Np=String(String).split("String"),jp=qs.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Lt(e,"name")||_p&&e.name!==r)&&(oa?Ut(e,"name",{value:r,configurable:!0}):e.name=r),Pp&&t&&Lt(t,"arity")&&e.length!==t.arity&&Ut(e,"length",{value:t.arity});try{t&&Lt(t,"constructor")&&t.constructor?oa&&Ut(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=xp(e);return Lt(a,"source")||(a.source=Np.join(typeof r=="string"?r:"")),e};Function.prototype.toString=jp(i(function(){return Ap(this)&&Cp(this).source||Dp(this)},"toString"),"toString")});var Ce=d((aO,As)=>{var Mp=Z(),Bp=fe(),Fp=sa(),Vp=Ct();As.exports=function(e,r,t,a){a||(a={});var u=a.enumerable,m=a.name!==void 0?a.name:r;if(Mp(t)&&Fp(t,m,a),a.global)u?e[r]=t:Vp(r,t);else{try{a.unsafe?e[r]&&(u=!0):delete e[r]}catch{}u?e[r]=t:Bp.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}});var nr=d((iO,Ds)=>{var _s=re(),Lp=_s({}.toString),Up=_s("".slice);Ds.exports=function(e){return Up(Lp(e),8,-1)}});var Cs=d((oO,xs)=>{var kp=re(),$p=X(),Kp=nr(),ua=Object,Gp=kp("".split);xs.exports=$p(function(){return!ua("z").propertyIsEnumerable(0)})?function(e){return Kp(e)=="String"?Gp(e,""):ua(e)}:ua});var ar=d((sO,Ps)=>{var Hp=Cs(),zp=zn();Ps.exports=function(e){return Hp(zp(e))}});var js=d((uO,Ns)=>{var Yp=Math.ceil,Wp=Math.floor;Ns.exports=Math.trunc||i(function(r){var t=+r;return(t>0?Wp:Yp)(t)},"trunc")});var ca=d((cO,Ms)=>{var Jp=js();Ms.exports=function(e){var r=+e;return r!==r||r===0?0:Jp(r)}});var fa=d((fO,Bs)=>{var Xp=ca(),Qp=Math.max,Zp=Math.min;Bs.exports=function(e,r){var t=Xp(e);return t<0?Qp(t+r,0):Zp(t,r)}});var Vs=d((lO,Fs)=>{var ey=ca(),ry=Math.min;Fs.exports=function(e){return e>0?ry(ey(e),9007199254740991):0}});var $r=d((vO,Ls)=>{var ty=Vs();Ls.exports=function(e){return ty(e.length)}});var $s=d((dO,ks)=>{var ny=ar(),ay=fa(),iy=$r(),Us=i(function(e){return function(r,t,a){var u=ny(r),m=iy(u),c=ay(a,m),E;if(e&&t!=t){for(;m>c;)if(E=u[c++],E!=E)return!0}else for(;m>c;c++)if((e||c in u)&&u[c]===t)return e||c||0;return!e&&-1}},"createMethod");ks.exports={includes:Us(!0),indexOf:Us(!1)}});var va=d((pO,Gs)=>{var oy=re(),la=ce(),sy=ar(),uy=$s().indexOf,cy=Lr(),Ks=oy([].push);Gs.exports=function(e,r){var t=sy(e),a=0,u=[],m;for(m in t)!la(cy,m)&&la(t,m)&&Ks(u,m);for(;r.length>a;)la(t,m=r[a++])&&(~uy(u,m)||Ks(u,m));return u}});var kt=d((yO,Hs)=>{Hs.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var da=d((hO,zs)=>{var fy=va(),ly=kt();zs.exports=Object.keys||i(function(r){return fy(r,ly)},"keys")});var Ws=d(Ys=>{var vy=se(),dy=Mn(),py=fe(),yy=pe(),hy=ar(),my=da();Ys.f=vy&&!dy?Object.defineProperties:i(function(r,t){yy(r);for(var a=hy(t),u=my(t),m=u.length,c=0,E;m>c;)py.f(r,E=u[c++],a[E]);return r},"defineProperties")});var Xs=d((gO,Js)=>{var gy=Te();Js.exports=gy("document","documentElement")});var ir=d((bO,au)=>{var by=pe(),Ey=Ws(),Qs=kt(),Sy=Lr(),Ty=Xs(),Oy=Nn(),Iy=Bt(),Zs=">",eu="<",ya="prototype",ha="script",tu=Iy("IE_PROTO"),pa=i(function(){},"EmptyConstructor"),nu=i(function(e){return eu+ha+Zs+e+eu+"/"+ha+Zs},"scriptTag"),ru=i(function(e){e.write(nu("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),wy=i(function(){var e=Oy("iframe"),r="java"+ha+":",t;return e.style.display="none",Ty.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(nu("document.F=Object")),t.close(),t.F},"NullProtoObjectViaIFrame"),$t,Kt=i(function(){try{$t=new ActiveXObject("htmlfile")}catch{}Kt=typeof document<"u"?document.domain&&$t?ru($t):wy():ru($t);for(var e=Qs.length;e--;)delete Kt[ya][Qs[e]];return Kt()},"NullProtoObject");Sy[tu]=!0;au.exports=Object.create||i(function(r,t){var a;return r!==null?(pa[ya]=by(r),a=new pa,pa[ya]=null,a[tu]=r):a=Kt(),t===void 0?a:Ey.f(a,t)},"create")});var Gt=d((EO,ou)=>{var Ry=Se(),qy=Ry("toStringTag"),iu={};iu[qy]="z";ou.exports=String(iu)==="[object z]"});var br=d((SO,su)=>{var Ay=Gt(),_y=Z(),Ht=nr(),Dy=Se(),xy=Dy("toStringTag"),Cy=Object,Py=Ht(function(){return arguments}())=="Arguments",Ny=i(function(e,r){try{return e[r]}catch{}},"tryGet");su.exports=Ay?Ht:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=Ny(r=Cy(e),xy))=="string"?t:Py?Ht(r):(a=Ht(r))=="Object"&&_y(r.callee)?"Arguments":a}});var cu=d((TO,uu)=>{var jy=br(),My=String;uu.exports=function(e){if(jy(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return My(e)}});var zt=d((OO,fu)=>{var By=cu();fu.exports=function(e,r){return e===void 0?arguments.length<2?"":r:By(e)}});var ma=d((IO,vu)=>{"use strict";var Fy=se(),Vy=X(),Ly=pe(),Uy=ir(),lu=zt(),Yt=Error.prototype.toString,ky=Vy(function(){if(Fy){var e=Uy(Object.defineProperty({},"name",{get:function(){return this===e}}));if(Yt.call(e)!=="true")return!0}return Yt.call({message:1,name:2})!=="2: 1"||Yt.call({})!=="Error"});vu.exports=ky?i(function(){var r=Ly(this),t=lu(r.name,"Error"),a=lu(r.message);return t?a?t+": "+a:t:a},"toString"):Yt});var yu=d(()=>{var $y=Ce(),du=ma(),pu=Error.prototype;pu.toString!==du&&$y(pu,"toString",du)});var mu=d((qO,hu)=>{var Ky=Se(),Gy=ir(),Hy=fe().f,ga=Ky("unscopables"),ba=Array.prototype;ba[ga]==null&&Hy(ba,ga,{configurable:!0,value:Gy(null)});hu.exports=function(e){ba[ga][e]=!0}});var Er=d((AO,gu)=>{gu.exports={}});var Tu=d(Su=>{"use strict";var bu={}.propertyIsEnumerable,Eu=Object.getOwnPropertyDescriptor,zy=Eu&&!bu.call({1:2},1);Su.f=zy?i(function(r){var t=Eu(this,r);return!!t&&t.enumerable},"propertyIsEnumerable"):bu});var Ea=d(Iu=>{var Yy=se(),Wy=xe(),Jy=Tu(),Xy=$e(),Qy=ar(),Zy=jt(),eh=ce(),rh=jn(),Ou=Object.getOwnPropertyDescriptor;Iu.f=Yy?Ou:i(function(r,t){if(r=Qy(r),t=Zy(t),rh)try{return Ou(r,t)}catch{}if(eh(r,t))return Xy(!Wy(Jy.f,r,t),r[t])},"getOwnPropertyDescriptor")});var Wt=d(wu=>{var th=va(),nh=kt(),ah=nh.concat("length","prototype");wu.f=Object.getOwnPropertyNames||i(function(r){return th(r,ah)},"getOwnPropertyNames")});var qu=d(Ru=>{Ru.f=Object.getOwnPropertySymbols});var _u=d((PO,Au)=>{var ih=Te(),oh=re(),sh=Wt(),uh=qu(),ch=pe(),fh=oh([].concat);Au.exports=ih("Reflect","ownKeys")||i(function(r){var t=sh.f(ch(r)),a=uh.f;return a?fh(t,a(r)):t},"ownKeys")});var Cu=d((NO,xu)=>{var Du=ce(),lh=_u(),vh=Ea(),dh=fe();xu.exports=function(e,r,t){for(var a=lh(r),u=dh.f,m=vh.f,c=0;c<a.length;c++){var E=a[c];!Du(e,E)&&!(t&&Du(t,E))&&u(e,E,m(r,E))}}});var Sa=d((jO,Pu)=>{var ph=X(),yh=Z(),hh=/#|\.prototype\./,Kr=i(function(e,r){var t=gh[mh(e)];return t==Eh?!0:t==bh?!1:yh(r)?ph(r):!!r},"isForced"),mh=Kr.normalize=function(e){return String(e).replace(hh,".").toLowerCase()},gh=Kr.data={},bh=Kr.NATIVE="N",Eh=Kr.POLYFILL="P";Pu.exports=Kr});var Ke=d((MO,Nu)=>{var Ta=ue(),Sh=Ea().f,Th=Vr(),Oh=Ce(),Ih=Ct(),wh=Cu(),Rh=Sa();Nu.exports=function(e,r){var t=e.target,a=e.global,u=e.stat,m,c,E,y,b,g;if(a?c=Ta:u?c=Ta[t]||Ih(t,{}):c=(Ta[t]||{}).prototype,c)for(E in r){if(b=r[E],e.dontCallGetSet?(g=Sh(c,E),y=g&&g.value):y=c[E],m=Rh(a?E:t+(u?".":"#")+E,e.forced),!m&&y!==void 0){if(typeof b==typeof y)continue;wh(b,y)}(e.sham||y&&y.sham)&&Th(b,"sham",!0),Oh(c,E,b,e)}}});var Mu=d((BO,ju)=>{var qh=X();ju.exports=!qh(function(){function e(){}return i(e,"F"),e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var Ia=d((FO,Fu)=>{var Ah=ce(),_h=Z(),Dh=Nt(),xh=Bt(),Ch=Mu(),Bu=xh("IE_PROTO"),Oa=Object,Ph=Oa.prototype;Fu.exports=Ch?Oa.getPrototypeOf:function(e){var r=Dh(e);if(Ah(r,Bu))return r[Bu];var t=r.constructor;return _h(t)&&r instanceof t?t.prototype:r instanceof Oa?Ph:null}});var Aa=d((VO,Uu)=>{"use strict";var Nh=X(),jh=Z(),Mh=Ee(),Bh=ir(),Vu=Ia(),Fh=Ce(),Vh=Se(),Lh=ke(),qa=Vh("iterator"),Lu=!1,Pe,wa,Ra;[].keys&&(Ra=[].keys(),"next"in Ra?(wa=Vu(Vu(Ra)),wa!==Object.prototype&&(Pe=wa)):Lu=!0);var Uh=!Mh(Pe)||Nh(function(){var e={};return Pe[qa].call(e)!==e});Uh?Pe={}:Lh&&(Pe=Bh(Pe));jh(Pe[qa])||Fh(Pe,qa,function(){return this});Uu.exports={IteratorPrototype:Pe,BUGGY_SAFARI_ITERATORS:Lu}});var Gr=d((LO,$u)=>{var kh=fe().f,$h=ce(),Kh=Se(),ku=Kh("toStringTag");$u.exports=function(e,r,t){e&&!t&&(e=e.prototype),e&&!$h(e,ku)&&kh(e,ku,{configurable:!0,value:r})}});var Gu=d((UO,Ku)=>{"use strict";var Gh=Aa().IteratorPrototype,Hh=ir(),zh=$e(),Yh=Gr(),Wh=Er(),Jh=i(function(){return this},"returnThis");Ku.exports=function(e,r,t,a){var u=r+" Iterator";return e.prototype=Hh(Gh,{next:zh(+!a,t)}),Yh(e,u,!1,!0),Wh[u]=Jh,e}});var zu=d((kO,Hu)=>{var Xh=Z(),Qh=String,Zh=TypeError;Hu.exports=function(e){if(typeof e=="object"||Xh(e))return e;throw Zh("Can't set "+Qh(e)+" as a prototype")}});var _a=d(($O,Yu)=>{var em=re(),rm=pe(),tm=zu();Yu.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=em(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return i(function(u,m){return rm(u),tm(m),e?t(u,m):u.__proto__=m,u},"setPrototypeOf")}():void 0)});var xa=d((KO,ac)=>{"use strict";var nm=Ke(),am=xe(),Jt=ke(),tc=ea(),im=Z(),om=Gu(),Wu=Ia(),Ju=_a(),sm=Gr(),um=Vr(),Da=Ce(),cm=Se(),Xu=Er(),nc=Aa(),fm=tc.PROPER,lm=tc.CONFIGURABLE,Qu=nc.IteratorPrototype,Xt=nc.BUGGY_SAFARI_ITERATORS,Hr=cm("iterator"),Zu="keys",zr="values",ec="entries",rc=i(function(){return this},"returnThis");ac.exports=function(e,r,t,a,u,m,c){om(t,r,a);var E=i(function(C){if(C===u&&h)return h;if(!Xt&&C in g)return g[C];switch(C){case Zu:return i(function(){return new t(this,C)},"keys");case zr:return i(function(){return new t(this,C)},"values");case ec:return i(function(){return new t(this,C)},"entries")}return function(){return new t(this)}},"getIterationMethod"),y=r+" Iterator",b=!1,g=e.prototype,A=g[Hr]||g["@@iterator"]||u&&g[u],h=!Xt&&A||E(u),T=r=="Array"&&g.entries||A,D,M,Y;if(T&&(D=Wu(T.call(new e)),D!==Object.prototype&&D.next&&(!Jt&&Wu(D)!==Qu&&(Ju?Ju(D,Qu):im(D[Hr])||Da(D,Hr,rc)),sm(D,y,!0,!0),Jt&&(Xu[y]=rc))),fm&&u==zr&&A&&A.name!==zr&&(!Jt&&lm?um(g,"name",zr):(b=!0,h=i(function(){return am(A,this)},"values"))),u)if(M={values:E(zr),keys:m?h:E(Zu),entries:E(ec)},c)for(Y in M)(Xt||b||!(Y in g))&&Da(g,Y,M[Y]);else nm({target:r,proto:!0,forced:Xt||b},M);return(!Jt||c)&&g[Hr]!==h&&Da(g,Hr,h,{name:u}),Xu[r]=h,M}});var Ca=d((GO,ic)=>{ic.exports=function(e,r){return{value:e,done:r}}});var lc=d((HO,fc)=>{"use strict";var vm=ar(),Pa=mu(),oc=Er(),uc=kr(),dm=fe().f,pm=xa(),Qt=Ca(),ym=ke(),hm=se(),cc="Array Iterator",mm=uc.set,gm=uc.getterFor(cc);fc.exports=pm(Array,"Array",function(e,r){mm(this,{type:cc,target:vm(e),index:0,kind:r})},function(){var e=gm(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,Qt(void 0,!0)):t=="keys"?Qt(a,!1):t=="values"?Qt(r[a],!1):Qt([a,r[a]],!1)},"values");var sc=oc.Arguments=oc.Array;Pa("keys");Pa("values");Pa("entries");if(!ym&&hm&&sc.name!=="values")try{dm(sc,"name",{value:"values"})}catch{}});var dc=d(()=>{var bm=Ke(),Em=Nt(),vc=da(),Sm=X(),Tm=Sm(function(){vc(1)});bm({target:"Object",stat:!0,forced:Tm},{keys:i(function(r){return vc(Em(r))},"keys")})});var yc=d((WO,pc)=>{"use strict";var Om=Gt(),Im=br();pc.exports=Om?{}.toString:i(function(){return"[object "+Im(this)+"]"},"toString")});var hc=d(()=>{var wm=Gt(),Rm=Ce(),qm=yc();wm||Rm(Object.prototype,"toString",qm,{unsafe:!0})});var Na=d((QO,mc)=>{"use strict";var Am=jt(),_m=fe(),Dm=$e();mc.exports=function(e,r,t){var a=Am(r);a in e?_m.f(e,a,Dm(0,t)):e[a]=t}});var Ec=d((ZO,bc)=>{var gc=fa(),xm=$r(),Cm=Na(),Pm=Array,Nm=Math.max;bc.exports=function(e,r,t){for(var a=xm(e),u=gc(r,a),m=gc(t===void 0?a:t,a),c=Pm(Nm(m-u,0)),E=0;u<m;u++,E++)Cm(c,E,e[u]);return c.length=E,c}});var Ic=d((eI,Oc)=>{var jm=nr(),Mm=ar(),Sc=Wt().f,Bm=Ec(),Tc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Fm=i(function(e){try{return Sc(e)}catch{return Bm(Tc)}},"getWindowNames");Oc.exports.f=i(function(r){return Tc&&jm(r)=="Window"?Fm(r):Sc(Mm(r))},"getOwnPropertyNames")});var Rc=d((rI,wc)=>{var Vm=X();wc.exports=Vm(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var _c=d((tI,Ac)=>{var Lm=X(),Um=Ee(),km=nr(),qc=Rc(),Zt=Object.isExtensible,$m=Lm(function(){Zt(1)});Ac.exports=$m||qc?i(function(r){return!Um(r)||qc&&km(r)=="ArrayBuffer"?!1:Zt?Zt(r):!0},"isExtensible"):Zt});var xc=d((nI,Dc)=>{var Km=X();Dc.exports=!Km(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Fa=d((aI,Nc)=>{var Gm=Ke(),Hm=re(),zm=Lr(),Ym=Ee(),ja=ce(),Wm=fe().f,Cc=Wt(),Jm=Ic(),Ma=_c(),Xm=Fr(),Qm=xc(),Pc=!1,Ne=Xm("meta"),Zm=0,Ba=i(function(e){Wm(e,Ne,{value:{objectID:"O"+Zm++,weakData:{}}})},"setMetadata"),eg=i(function(e,r){if(!Ym(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!ja(e,Ne)){if(!Ma(e))return"F";if(!r)return"E";Ba(e)}return e[Ne].objectID},"fastKey"),rg=i(function(e,r){if(!ja(e,Ne)){if(!Ma(e))return!0;if(!r)return!1;Ba(e)}return e[Ne].weakData},"getWeakData"),tg=i(function(e){return Qm&&Pc&&Ma(e)&&!ja(e,Ne)&&Ba(e),e},"onFreeze"),ng=i(function(){ag.enable=function(){},Pc=!0;var e=Cc.f,r=Hm([].splice),t={};t[Ne]=1,e(t).length&&(Cc.f=function(a){for(var u=e(a),m=0,c=u.length;m<c;m++)if(u[m]===Ne){r(u,m,1);break}return u},Gm({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Jm.f}))},"enable"),ag=Nc.exports={enable:ng,fastKey:eg,getWeakData:rg,onFreeze:tg};zm[Ne]=!0});var Mc=d((iI,jc)=>{var ig=nr(),og=re();jc.exports=function(e){if(ig(e)==="Function")return og(e)}});var Va=d((oI,Fc)=>{var Bc=Mc(),sg=Dt(),ug=wt(),cg=Bc(Bc.bind);Fc.exports=function(e,r){return sg(e),r===void 0?e:ug?cg(e,r):function(){return e.apply(r,arguments)}}});var Lc=d((sI,Vc)=>{var fg=Se(),lg=Er(),vg=fg("iterator"),dg=Array.prototype;Vc.exports=function(e){return e!==void 0&&(lg.Array===e||dg[vg]===e)}});var La=d((uI,kc)=>{var pg=br(),Uc=xt(),yg=er(),hg=Er(),mg=Se(),gg=mg("iterator");kc.exports=function(e){if(!yg(e))return Uc(e,gg)||Uc(e,"@@iterator")||hg[pg(e)]}});var Kc=d((cI,$c)=>{var bg=xe(),Eg=Dt(),Sg=pe(),Tg=_t(),Og=La(),Ig=TypeError;$c.exports=function(e,r){var t=arguments.length<2?Og(e):r;if(Eg(t))return Sg(bg(t,e));throw Ig(Tg(e)+" is not iterable")}});var zc=d((fI,Hc)=>{var wg=xe(),Gc=pe(),Rg=xt();Hc.exports=function(e,r,t){var a,u;Gc(e);try{if(a=Rg(e,"return"),!a){if(r==="throw")throw t;return t}a=wg(a,e)}catch(m){u=!0,a=m}if(r==="throw")throw t;if(u)throw a;return Gc(a),t}});var rn=d((lI,Xc)=>{var qg=Va(),Ag=xe(),_g=pe(),Dg=_t(),xg=Lc(),Cg=$r(),Yc=Br(),Pg=Kc(),Ng=La(),Wc=zc(),jg=TypeError,en=i(function(e,r){this.stopped=e,this.result=r},"Result"),Jc=en.prototype;Xc.exports=function(e,r,t){var a=t&&t.that,u=!!(t&&t.AS_ENTRIES),m=!!(t&&t.IS_RECORD),c=!!(t&&t.IS_ITERATOR),E=!!(t&&t.INTERRUPTED),y=qg(r,a),b,g,A,h,T,D,M,Y=i(function(P){return b&&Wc(b,"normal",P),new en(!0,P)},"stop"),C=i(function(P){return u?(_g(P),E?y(P[0],P[1],Y):y(P[0],P[1])):E?y(P,Y):y(P)},"callFn");if(m)b=e.iterator;else if(c)b=e;else{if(g=Ng(e),!g)throw jg(Dg(e)+" is not iterable");if(xg(g)){for(A=0,h=Cg(e);h>A;A++)if(T=C(e[A]),T&&Yc(Jc,T))return T;return new en(!1)}b=Pg(e,g)}for(D=m?e.next:b.next;!(M=Ag(D,b)).done;){try{T=C(M.value)}catch(P){Wc(b,"throw",P)}if(typeof T=="object"&&T&&Yc(Jc,T))return T}return new en(!1)}});var Yr=d((vI,Qc)=>{var Mg=Br(),Bg=TypeError;Qc.exports=function(e,r){if(Mg(r,e))return e;throw Bg("Incorrect invocation")}});var nf=d((dI,tf)=>{var Fg=Se(),ef=Fg("iterator"),rf=!1;try{Zc=0,Ua={next:function(){return{done:!!Zc++}},return:function(){rf=!0}},Ua[ef]=function(){return this},Array.from(Ua,function(){throw 2})}catch{}var Zc,Ua;tf.exports=function(e,r){if(!r&&!rf)return!1;var t=!1;try{var a={};a[ef]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t}});var ka=d((pI,of)=>{var Vg=Z(),Lg=Ee(),af=_a();of.exports=function(e,r,t){var a,u;return af&&Vg(a=r.constructor)&&a!==t&&Lg(u=a.prototype)&&u!==t.prototype&&af(e,u),e}});var Ga=d((yI,uf)=>{"use strict";var Ug=Ke(),kg=ue(),$g=re(),sf=Sa(),Kg=Ce(),Gg=Fa(),Hg=rn(),zg=Yr(),Yg=Z(),Wg=er(),$a=Ee(),Ka=X(),Jg=nf(),Xg=Gr(),Qg=ka();uf.exports=function(e,r,t){var a=e.indexOf("Map")!==-1,u=e.indexOf("Weak")!==-1,m=a?"set":"add",c=kg[e],E=c&&c.prototype,y=c,b={},g=i(function(C){var P=$g(E[C]);Kg(E,C,C=="add"?i(function(te){return P(this,te===0?0:te),this},"add"):C=="delete"?function(F){return u&&!$a(F)?!1:P(this,F===0?0:F)}:C=="get"?i(function(te){return u&&!$a(te)?void 0:P(this,te===0?0:te)},"get"):C=="has"?i(function(te){return u&&!$a(te)?!1:P(this,te===0?0:te)},"has"):i(function(te,qe){return P(this,te===0?0:te,qe),this},"set"))},"fixMethod"),A=sf(e,!Yg(c)||!(u||E.forEach&&!Ka(function(){new c().entries().next()})));if(A)y=t.getConstructor(r,e,a,m),Gg.enable();else if(sf(e,!0)){var h=new y,T=h[m](u?{}:-0,1)!=h,D=Ka(function(){h.has(1)}),M=Jg(function(C){new c(C)}),Y=!u&&Ka(function(){for(var C=new c,P=5;P--;)C[m](P,P);return!C.has(-0)});M||(y=r(function(C,P){zg(C,E);var F=Qg(new c,C,y);return Wg(P)||Hg(P,F[m],{that:F,AS_ENTRIES:a}),F}),y.prototype=E,E.constructor=y),(D||Y)&&(g("delete"),g("has"),a&&g("get")),(Y||T)&&g(m),u&&E.clear&&delete E.clear}return b[e]=y,Ug({global:!0,constructor:!0,forced:y!=c},b),Xg(y,e),u||t.setStrong(y,e,a),y}});var ff=d((hI,cf)=>{var Zg=Ce();cf.exports=function(e,r,t){for(var a in r)Zg(e,a,r[a],t);return e}});var df=d((mI,vf)=>{"use strict";var eb=Te(),rb=fe(),tb=Se(),nb=se(),lf=tb("species");vf.exports=function(e){var r=eb(e),t=rb.f;nb&&r&&!r[lf]&&t(r,lf,{configurable:!0,get:function(){return this}})}});var za=d((gI,gf)=>{"use strict";var ab=fe().f,ib=ir(),pf=ff(),ob=Va(),sb=Yr(),ub=er(),cb=rn(),fb=xa(),tn=Ca(),lb=df(),Wr=se(),yf=Fa().fastKey,mf=kr(),hf=mf.set,Ha=mf.getterFor;gf.exports={getConstructor:function(e,r,t,a){var u=e(function(b,g){sb(b,m),hf(b,{type:r,index:ib(null),first:void 0,last:void 0,size:0}),Wr||(b.size=0),ub(g)||cb(g,b[a],{that:b,AS_ENTRIES:t})}),m=u.prototype,c=Ha(r),E=i(function(b,g,A){var h=c(b),T=y(b,g),D,M;return T?T.value=A:(h.last=T={index:M=yf(g,!0),key:g,value:A,previous:D=h.last,next:void 0,removed:!1},h.first||(h.first=T),D&&(D.next=T),Wr?h.size++:b.size++,M!=="F"&&(h.index[M]=T)),b},"define"),y=i(function(b,g){var A=c(b),h=yf(g),T;if(h!=="F")return A.index[h];for(T=A.first;T;T=T.next)if(T.key==g)return T},"getEntry");return pf(m,{clear:i(function(){for(var g=this,A=c(g),h=A.index,T=A.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete h[T.index],T=T.next;A.first=A.last=void 0,Wr?A.size=0:g.size=0},"clear"),delete:function(b){var g=this,A=c(g),h=y(g,b);if(h){var T=h.next,D=h.previous;delete A.index[h.index],h.removed=!0,D&&(D.next=T),T&&(T.previous=D),A.first==h&&(A.first=T),A.last==h&&(A.last=D),Wr?A.size--:g.size--}return!!h},forEach:i(function(g){for(var A=c(this),h=ob(g,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:A.first;)for(h(T.value,T.key,this);T&&T.removed;)T=T.previous},"forEach"),has:i(function(g){return!!y(this,g)},"has")}),pf(m,t?{get:i(function(g){var A=y(this,g);return A&&A.value},"get"),set:i(function(g,A){return E(this,g===0?0:g,A)},"set")}:{add:i(function(g){return E(this,g=g===0?0:g,g)},"add")}),Wr&&ab(m,"size",{get:function(){return c(this).size}}),u},setStrong:function(e,r,t){var a=r+" Iterator",u=Ha(r),m=Ha(a);fb(e,r,function(c,E){hf(this,{type:a,target:c,state:u(c),kind:E,last:void 0})},function(){for(var c=m(this),E=c.kind,y=c.last;y&&y.removed;)y=y.previous;return!c.target||!(c.last=y=y?y.next:c.state.first)?(c.target=void 0,tn(void 0,!0)):E=="keys"?tn(y.key,!1):E=="values"?tn(y.value,!1):tn([y.key,y.value],!1)},t?"entries":"values",!t,!0),lb(r)}}});var bf=d(()=>{"use strict";var vb=Ga(),db=za();vb("Map",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Map")},db)});var Ef=d(()=>{bf()});var Sf=d(()=>{"use strict";var pb=Ga(),yb=za();pb("Set",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Set")},yb)});var Tf=d(()=>{Sf()});var nn=d((qI,Of)=>{var hb=nr(),mb=ue();Of.exports=hb(mb.process)=="process"});var wf=d((AI,If)=>{var gb=nn();If.exports=function(e){try{if(gb)return Function('return require("'+e+'")')()}catch{}}});var Af=d((_I,qf)=>{var Rf=sa(),bb=fe();qf.exports=function(e,r,t){return t.get&&Rf(t.get,r,{getter:!0}),t.set&&Rf(t.set,r,{setter:!0}),bb.f(e,r,t)}});var Ya=d((DI,_f)=>{_f.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var Wa=d((xI,Cf)=>{var Eb=re(),Df=Error,Sb=Eb("".replace),Tb=function(e){return String(Df(e).stack)}("zxcasd"),xf=/\n\s*at [^:]*:[^\n]*/,Ob=xf.test(Tb);Cf.exports=function(e,r){if(Ob&&typeof e=="string"&&!Df.prepareStackTrace)for(;r--;)e=Sb(e,xf,"");return e}});var $f=d(()=>{"use strict";var Ib=Ke(),wb=wf(),sn=Te(),ri=X(),Rb=ir(),ti=$e(),un=fe().f,qb=Ce(),an=Af(),on=ce(),Ab=Yr(),_b=pe(),jf=ma(),Pf=zt(),Sr=Ya(),Db=Wa(),Mf=kr(),ni=se(),Bf=ke(),Tr="DOMException",ei="DATA_CLONE_ERR",fn=sn("Error"),je=sn(Tr)||function(){try{var e=sn("MessageChannel")||wb("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(r){if(r.name==ei&&r.code==25)return r.constructor}}(),xb=je&&je.prototype,Ff=fn.prototype,Cb=Mf.set,Pb=Mf.getterFor(Tr),Nb="stack"in fn(Tr),Vf=i(function(e){return on(Sr,e)&&Sr[e].m?Sr[e].c:0},"codeFor"),ai=i(function(){Ab(this,Xr);var r=arguments.length,t=Pf(r<1?void 0:arguments[0]),a=Pf(r<2?void 0:arguments[1],"Error"),u=Vf(a);if(Cb(this,{type:Tr,name:a,message:t,code:u}),ni||(this.name=a,this.message=t,this.code=u),Nb){var m=fn(t);m.name=Tr,un(this,"stack",ti(1,Db(m.stack,1)))}},"DOMException"),Xr=ai.prototype=Rb(Ff),Lf=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),Ja=i(function(e){return Lf(function(){return Pb(this)[e]})},"getterFor");ni&&(an(Xr,"code",Ja("code")),an(Xr,"message",Ja("message")),an(Xr,"name",Ja("name")));un(Xr,"constructor",ti(1,ai));var ln=ri(function(){return!(new je instanceof fn)}),Uf=ln||ri(function(){return Ff.toString!==jf||String(new je(1,2))!=="2: 1"}),kf=ln||ri(function(){return new je(1,"DataCloneError").code!==25}),jb=ln||je[ei]!==25||xb[ei]!==25,Nf=Bf?Uf||kf||jb:ln;Ib({global:!0,constructor:!0,forced:Nf},{DOMException:Nf?ai:je});var Qr=sn(Tr),cn=Qr.prototype;Uf&&(Bf||je===Qr)&&qb(cn,"toString",jf);kf&&ni&&je===Qr&&an(cn,"code",Lf(function(){return Vf(_b(this).name)}));for(Xa in Sr)on(Sr,Xa)&&(Qa=Sr[Xa],Jr=Qa.s,Za=ti(6,Qa.c),on(Qr,Jr)||un(Qr,Jr,Za),on(cn,Jr)||un(cn,Jr,Za));var Qa,Jr,Za,Xa});var Jf=d(()=>{"use strict";var Mb=Ke(),Bb=ue(),vi=Te(),fi=$e(),li=fe().f,Kf=ce(),Fb=Yr(),Vb=ka(),Gf=zt(),ii=Ya(),Lb=Wa(),Ub=se(),Yf=ke(),et="DOMException",Wf=vi("Error"),rt=vi(et),di=i(function(){Fb(this,kb);var r=arguments.length,t=Gf(r<1?void 0:arguments[0]),a=Gf(r<2?void 0:arguments[1],"Error"),u=new rt(t,a),m=Wf(t);return m.name=et,li(u,"stack",fi(1,Lb(m.stack,1))),Vb(u,this,di),u},"DOMException"),kb=di.prototype=rt.prototype,$b="stack"in Wf(et),Kb="stack"in new rt(1,2),oi=rt&&Ub&&Object.getOwnPropertyDescriptor(Bb,et),Gb=!!oi&&!(oi.writable&&oi.configurable),Hf=$b&&!Gb&&!Kb;Mb({global:!0,constructor:!0,forced:Yf||Hf},{DOMException:Hf?di:rt});var Zr=vi(et),zf=Zr.prototype;if(zf.constructor!==Zr){Yf||li(zf,"constructor",fi(1,Zr));for(si in ii)Kf(ii,si)&&(ui=ii[si],ci=ui.s,Kf(Zr,ci)||li(Zr,ci,fi(6,ui.c)))}var ui,ci,si});var Qf=d(()=>{var Hb=Te(),zb=Gr(),Xf="DOMException";zb(Hb(Xf),Xf)});var al=d((FI,nl)=>{var Yb=re(),Wb=X(),Zf=Z(),Jb=br(),Xb=Te(),Qb=ta(),el=i(function(){},"noop"),Zb=[],rl=Xb("Reflect","construct"),pi=/^\s*(?:class|function)\b/,eE=Yb(pi.exec),rE=!pi.exec(el),tt=i(function(r){if(!Zf(r))return!1;try{return rl(el,Zb,r),!0}catch{return!1}},"isConstructor"),tl=i(function(r){if(!Zf(r))return!1;switch(Jb(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return rE||!!eE(pi,Qb(r))}catch{return!0}},"isConstructor");tl.sham=!0;nl.exports=!rl||Wb(function(){var e;return tt(tt.call)||!tt(Object)||!tt(function(){e=!0})||e})?tl:tt});var ol=d((VI,il)=>{var tE=TypeError;il.exports=function(e,r){if(e<r)throw tE("Not enough arguments");return e}});var ul=d((LI,sl)=>{"use strict";var nE=pe();sl.exports=function(){var e=nE(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r}});var ll=d((UI,fl)=>{var aE=xe(),iE=ce(),oE=Br(),sE=ul(),cl=RegExp.prototype;fl.exports=function(e){var r=e.flags;return r===void 0&&!("flags"in cl)&&!iE(e,"flags")&&oE(cl,e)?aE(sE,e):r}});var dl=d((kI,vl)=>{var vn=re(),nt=Map.prototype;vl.exports={Map,set:vn(nt.set),get:vn(nt.get),has:vn(nt.has),remove:vn(nt.delete),proto:nt}});var yl=d(($I,pl)=>{var yi=re(),Or=Set.prototype;pl.exports={Set,add:yi(Or.add),has:yi(Or.has),remove:yi(Or.delete),proto:Or,$has:Or.has,$keys:Or.keys}});var ml=d((KI,hl)=>{var uE=X(),cE=$e();hl.exports=!uE(function(){var e=Error("a");return"stack"in e?(Object.defineProperty(e,"stack",cE(1,7)),e.stack!==7):!0})});var hi=d((GI,gl)=>{gl.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var El=d((HI,bl)=>{var fE=hi(),lE=nn();bl.exports=!fE&&!lE&&typeof window=="object"&&typeof document=="object"});var Dl=d(()=>{var vE=ke(),dE=Ke(),H=ue(),wi=Te(),ot=re(),yn=X(),pE=Fr(),Si=Z(),yE=al(),hE=er(),Ti=Ee(),mE=At(),gE=rn(),Tl=pe(),Ol=br(),bE=ce(),EE=Na(),mi=Vr(),dn=$r(),SE=ol(),TE=ll(),hn=dl(),Il=yl(),OE=ml(),gi=Ln(),IE=El(),wE=hi(),RE=nn(),at=H.Object,qE=H.Array,wl=H.Date,st=H.Error,AE=H.EvalError,_E=H.RangeError,DE=H.ReferenceError,xE=H.SyntaxError,Rl=H.TypeError,CE=H.URIError,PE=H.PerformanceMark,Ir=H.WebAssembly,NE=Ir&&Ir.CompileError||st,jE=Ir&&Ir.LinkError||st,ME=Ir&&Ir.RuntimeError||st,or=wi("DOMException"),Oi=hn.Map,ql=hn.has,BE=hn.get,pn=hn.set,FE=Il.Set,VE=Il.add,LE=wi("Object","keys"),UE=ot([].push),kE=ot((!0).valueOf),$E=ot(1 .valueOf),KE=ot("".valueOf),GE=ot(wl.prototype.getTime),Ii=pE("structuredClone"),it="DataCloneError",bi="Transferring",Al=i(function(e){return!yn(function(){var r=new H.Set([7]),t=e(r),a=e(at(7));return t==r||!t.has(7)||typeof a!="object"||a!=7})&&e},"checkBasicSemantic"),Sl=i(function(e,r){return!yn(function(){var t=new r,a=e({a:t,b:t});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===t.stack)})},"checkErrorsCloning"),HE=i(function(e){return!yn(function(){var r=e(new H.AggregateError([1],Ii,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=Ii||r.cause!=3})},"checkNewErrorsCloningSemantic"),He=H.structuredClone,zE=vE||!Sl(He,st)||!Sl(He,or)||!HE(He),YE=!He&&Al(function(e){return new PE(Ii,{detail:e}).detail}),Ge=Al(He)||YE,Ei=i(function(e){throw new or("Uncloneable type: "+e,it)},"throwUncloneable"),le=i(function(e,r){throw new or((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",it)},"throwUnpolyfillable"),WE=i(function(){var e;try{e=new H.DataTransfer}catch{try{e=new H.ClipboardEvent("").clipboardData}catch{}}return e&&e.items&&e.files?e:null},"createDataTransfer"),ie=i(function(e,r){if(mE(e)&&Ei("Symbol"),!Ti(e))return e;if(r){if(ql(r,e))return BE(r,e)}else r=new Oi;var t=Ol(e),a=!1,u,m,c,E,y,b,g,A,h,T;switch(t){case"Array":c=qE(dn(e)),a=!0;break;case"Object":c={},a=!0;break;case"Map":c=new Oi,a=!0;break;case"Set":c=new FE,a=!0;break;case"RegExp":c=new RegExp(e.source,TE(e));break;case"Error":switch(m=e.name,m){case"AggregateError":c=wi("AggregateError")([]);break;case"EvalError":c=AE();break;case"RangeError":c=_E();break;case"ReferenceError":c=DE();break;case"SyntaxError":c=xE();break;case"TypeError":c=Rl();break;case"URIError":c=CE();break;case"CompileError":c=NE();break;case"LinkError":c=jE();break;case"RuntimeError":c=ME();break;default:c=st()}a=!0;break;case"DOMException":c=new or(e.message,e.name),a=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":u=H[t],Ti(u)||le(t),c=new u(ie(e.buffer,r),e.byteOffset,t==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{c=new DOMQuad(ie(e.p1,r),ie(e.p2,r),ie(e.p3,r),ie(e.p4,r))}catch{Ge?c=Ge(e):le(t)}break;case"FileList":if(E=WE(),E){for(y=0,b=dn(e);y<b;y++)E.items.add(ie(e[y],r));c=E.files}else Ge?c=Ge(e):le(t);break;case"ImageData":try{c=new ImageData(ie(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch{Ge?c=Ge(e):le(t)}break;default:if(Ge)c=Ge(e);else switch(t){case"BigInt":c=at(e.valueOf());break;case"Boolean":c=at(kE(e));break;case"Number":c=at($E(e));break;case"String":c=at(KE(e));break;case"Date":c=new wl(GE(e));break;case"ArrayBuffer":u=H.DataView,!u&&typeof e.slice!="function"&&le(t);try{if(typeof e.slice=="function")c=e.slice(0);else for(b=e.byteLength,c=new ArrayBuffer(b),h=new u(e),T=new u(c),y=0;y<b;y++)T.setUint8(y,h.getUint8(y))}catch{throw new or("ArrayBuffer is detached",it)}break;case"SharedArrayBuffer":c=e;break;case"Blob":try{c=e.slice(0,e.size,e.type)}catch{le(t)}break;case"DOMPoint":case"DOMPointReadOnly":u=H[t];try{c=u.fromPoint?u.fromPoint(e):new u(e.x,e.y,e.z,e.w)}catch{le(t)}break;case"DOMRect":case"DOMRectReadOnly":u=H[t];try{c=u.fromRect?u.fromRect(e):new u(e.x,e.y,e.width,e.height)}catch{le(t)}break;case"DOMMatrix":case"DOMMatrixReadOnly":u=H[t];try{c=u.fromMatrix?u.fromMatrix(e):new u(e)}catch{le(t)}break;case"AudioData":case"VideoFrame":Si(e.clone)||le(t);try{c=e.clone()}catch{Ei(t)}break;case"File":try{c=new File([e],e.name,e)}catch{le(t)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":le(t);default:Ei(t)}}if(pn(r,e,c),a)switch(t){case"Array":case"Object":for(g=LE(e),y=0,b=dn(g);y<b;y++)A=g[y],EE(c,A,ie(e[A],r));break;case"Map":e.forEach(function(D,M){pn(c,ie(M,r),ie(D,r))});break;case"Set":e.forEach(function(D){VE(c,ie(D,r))});break;case"Error":mi(c,"message",ie(e.message,r)),bE(e,"cause")&&mi(c,"cause",ie(e.cause,r)),m=="AggregateError"&&(c.errors=ie(e.errors,r));case"DOMException":OE&&mi(c,"stack",ie(e.stack,r))}return c},"structuredCloneInternal"),_l=He&&!yn(function(){if(wE&&gi>92||RE&&gi>94||IE&&gi>97)return!1;var e=new ArrayBuffer(8),r=He(e,{transfer:[e]});return e.byteLength!=0||r.byteLength!=8}),JE=i(function(e,r){if(!Ti(e))throw Rl("Transfer option cannot be converted to a sequence");var t=[];gE(e,function(h){UE(t,Tl(h))});var a=0,u=dn(t),m,c,E,y,b,g,A;if(_l)for(y=He(t,{transfer:t});a<u;)pn(r,t[a],y[a++]);else for(;a<u;){if(m=t[a++],ql(r,m))throw new or("Duplicate transferable",it);switch(c=Ol(m),c){case"ImageBitmap":E=H.OffscreenCanvas,yE(E)||le(c,bi);try{g=new E(m.width,m.height),A=g.getContext("bitmaprenderer"),A.transferFromImageBitmap(m),b=g.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!Si(m.clone)||!Si(m.close))&&le(c,bi);try{b=m.clone(),m.close()}catch{}break;case"ArrayBuffer":case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":le(c,bi)}if(b===void 0)throw new or("This object cannot be transferred: "+c,it);pn(r,m,b)}},"tryToTransfer");dE({global:!0,enumerable:!0,sham:!_l,forced:zE},{structuredClone:i(function(r){var t=SE(arguments.length,1)>1&&!hE(arguments[1])?Tl(arguments[1]):void 0,a=t?t.transfer:void 0,u;return a!==void 0&&(u=new Oi,JE(a,u)),ie(r,u)},"structuredClone")})});var Cl=d((WI,xl)=>{var XE=ue();xl.exports=XE});var Nl=d((JI,Pl)=>{yu();lc();dc();hc();Ef();Tf();$f();Jf();Qf();Dl();var QE=Cl();Pl.exports=QE.structuredClone});var Ml=d((XI,jl)=>{var ZE=Nl();jl.exports=ZE});var qi=d((Bl,Ri)=>{(function(e){if(typeof Bl=="object"&&typeof Ri<"u")Ri.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return i(function a(u,m,c){function E(g,A){if(!m[g]){if(!u[g]){var h=typeof jr=="function"&&jr;if(!A&&h)return h(g,!0);if(y)return y(g,!0);var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}var D=m[g]={exports:{}};u[g][0].call(D.exports,function(M){var Y=u[g][1][M];return E(Y||M)},D,D.exports,a,u,m,c)}return m[g].exports}i(E,"s");for(var y=typeof jr=="function"&&jr,b=0;b<c.length;b++)E(c[b]);return E},"e")({1:[function(a,u,m){(function(c){"use strict";var E=c.MutationObserver||c.WebKitMutationObserver,y;if(E){var b=0,g=new E(M),A=c.document.createTextNode("");g.observe(A,{characterData:!0}),y=i(function(){A.data=b=++b%2},"scheduleDrain")}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var h=new c.MessageChannel;h.port1.onmessage=M,y=i(function(){h.port2.postMessage(0)},"scheduleDrain")}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?y=i(function(){var C=c.document.createElement("script");C.onreadystatechange=function(){M(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)},"scheduleDrain"):y=i(function(){setTimeout(M,0)},"scheduleDrain");var T,D=[];function M(){T=!0;for(var C,P,F=D.length;F;){for(P=D,D=[],C=-1;++C<F;)P[C]();F=D.length}T=!1}i(M,"nextTick"),u.exports=Y;function Y(C){D.push(C)===1&&!T&&y()}i(Y,"immediate")}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,u,m){"use strict";var c=a(1);function E(){}i(E,"INTERNAL");var y={},b=["REJECTED"],g=["FULFILLED"],A=["PENDING"];u.exports=h;function h(q){if(typeof q!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,q!==E&&Y(this,q)}i(h,"Promise"),h.prototype.catch=function(q){return this.then(null,q)},h.prototype.then=function(q,V){if(typeof q!="function"&&this.state===g||typeof V!="function"&&this.state===b)return this;var j=new this.constructor(E);if(this.state!==A){var k=this.state===g?q:V;D(j,k,this.outcome)}else this.queue.push(new T(j,q,V));return j};function T(q,V,j){this.promise=q,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}i(T,"QueueItem"),T.prototype.callFulfilled=function(q){y.resolve(this.promise,q)},T.prototype.otherCallFulfilled=function(q){D(this.promise,this.onFulfilled,q)},T.prototype.callRejected=function(q){y.reject(this.promise,q)},T.prototype.otherCallRejected=function(q){D(this.promise,this.onRejected,q)};function D(q,V,j){c(function(){var k;try{k=V(j)}catch(ne){return y.reject(q,ne)}k===q?y.reject(q,new TypeError("Cannot resolve promise with itself")):y.resolve(q,k)})}i(D,"unwrap"),y.resolve=function(q,V){var j=C(M,V);if(j.status==="error")return y.reject(q,j.value);var k=j.value;if(k)Y(q,k);else{q.state=g,q.outcome=V;for(var ne=-1,de=q.queue.length;++ne<de;)q.queue[ne].callFulfilled(V)}return q},y.reject=function(q,V){q.state=b,q.outcome=V;for(var j=-1,k=q.queue.length;++j<k;)q.queue[j].callRejected(V);return q};function M(q){var V=q&&q.then;if(q&&(typeof q=="object"||typeof q=="function")&&typeof V=="function")return i(function(){V.apply(q,arguments)},"appyThen")}i(M,"getThen");function Y(q,V){var j=!1;function k(me){j||(j=!0,y.reject(q,me))}i(k,"onError");function ne(me){j||(j=!0,y.resolve(q,me))}i(ne,"onSuccess");function de(){V(ne,k)}i(de,"tryToUnwrap");var he=C(de);he.status==="error"&&k(he.value)}i(Y,"safelyResolveThenable");function C(q,V){var j={};try{j.value=q(V),j.status="success"}catch(k){j.status="error",j.value=k}return j}i(C,"tryCatch"),h.resolve=P;function P(q){return q instanceof this?q:y.resolve(new this(E),q)}i(P,"resolve"),h.reject=F;function F(q){var V=new this(E);return y.reject(V,q)}i(F,"reject"),h.all=te;function te(q){var V=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=q.length,k=!1;if(!j)return this.resolve([]);for(var ne=new Array(j),de=0,he=-1,me=new this(E);++he<j;)Ae(q[he],he);return me;function Ae(Cr,ht){V.resolve(Cr).then(gn,function(pr){k||(k=!0,y.reject(me,pr))});function gn(pr){ne[ht]=pr,++de===j&&!k&&(k=!0,y.resolve(me,ne))}i(gn,"resolveFromAll")}}i(te,"all"),h.race=qe;function qe(q){var V=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=q.length,k=!1;if(!j)return this.resolve([]);for(var ne=-1,de=new this(E);++ne<j;)he(q[ne]);return de;function he(me){V.resolve(me).then(function(Ae){k||(k=!0,y.resolve(de,Ae))},function(Ae){k||(k=!0,y.reject(de,Ae))})}}i(qe,"race")},{"1":1}],3:[function(a,u,m){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"2":2}],4:[function(a,u,m){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function E(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}i(E,"_classCallCheck");function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}i(y,"getIDB");var b=y();function g(){try{if(!b||!b.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),s=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||s)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}i(g,"isIndexedDBValid");function A(n,s){n=n||[],s=s||{};try{return new Blob(n,s)}catch(f){if(f.name!=="TypeError")throw f;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,l=new o,v=0;v<n.length;v+=1)l.append(n[v]);return l.getBlob(s.type)}}i(A,"createBlob"),typeof Promise>"u"&&a(3);var h=Promise;function T(n,s){s&&n.then(function(o){s(null,o)},function(o){s(o)})}i(T,"executeCallback");function D(n,s,o){typeof s=="function"&&n.then(s),typeof o=="function"&&n.catch(o)}i(D,"executeTwoCallbacks");function M(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}i(M,"normalizeKey");function Y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}i(Y,"getCallback");var C="local-forage-detect-blob-support",P=void 0,F={},te=Object.prototype.toString,qe="readonly",q="readwrite";function V(n){for(var s=n.length,o=new ArrayBuffer(s),l=new Uint8Array(o),v=0;v<s;v++)l[v]=n.charCodeAt(v);return o}i(V,"_binStringToArrayBuffer");function j(n){return new h(function(s){var o=n.transaction(C,q),l=A([""]);o.objectStore(C).put(l,"key"),o.onabort=function(v){v.preventDefault(),v.stopPropagation(),s(!1)},o.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);s(f||!v||parseInt(v[1],10)>=43)}}).catch(function(){return!1})}i(j,"_checkBlobSupportWithoutCaching");function k(n){return typeof P=="boolean"?h.resolve(P):j(n).then(function(s){return P=s,P})}i(k,"_checkBlobSupport");function ne(n){var s=F[n.name],o={};o.promise=new h(function(l,v){o.resolve=l,o.reject=v}),s.deferredOperations.push(o),s.dbReady?s.dbReady=s.dbReady.then(function(){return o.promise}):s.dbReady=o.promise}i(ne,"_deferReadiness");function de(n){var s=F[n.name],o=s.deferredOperations.pop();if(o)return o.resolve(),o.promise}i(de,"_advanceReadiness");function he(n,s){var o=F[n.name],l=o.deferredOperations.pop();if(l)return l.reject(s),l.promise}i(he,"_rejectReadiness");function me(n,s){return new h(function(o,l){if(F[n.name]=F[n.name]||Ci(),n.db)if(s)ne(n),n.db.close();else return o(n.db);var v=[n.name];s&&v.push(n.version);var f=b.open.apply(b,v);s&&(f.onupgradeneeded=function(p){var S=f.result;try{S.createObjectStore(n.storeName),p.oldVersion<=1&&S.createObjectStore(C)}catch(O){if(O.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw O}}),f.onerror=function(p){p.preventDefault(),l(f.error)},f.onsuccess=function(){var p=f.result;p.onversionchange=function(S){S.target.close()},o(p),de(n)}})}i(me,"_getConnection");function Ae(n){return me(n,!1)}i(Ae,"_getOriginalConnection");function Cr(n){return me(n,!0)}i(Cr,"_getUpgradedConnection");function ht(n,s){if(!n.db)return!0;var o=!n.db.objectStoreNames.contains(n.storeName),l=n.version<n.db.version,v=n.version>n.db.version;if(l&&(n.version!==s&&console.warn('The database "'+n.name+`" can't be downgraded from version `+n.db.version+" to version "+n.version+"."),n.version=n.db.version),v||o){if(o){var f=n.db.version+1;f>n.version&&(n.version=f)}return!0}return!1}i(ht,"_isUpgradeNeeded");function gn(n){return new h(function(s,o){var l=new FileReader;l.onerror=o,l.onloadend=function(v){var f=btoa(v.target.result||"");s({__local_forage_encoded_blob:!0,data:f,type:n.type})},l.readAsBinaryString(n)})}i(gn,"_encodeBlob");function pr(n){var s=V(atob(n.data));return A([s],{type:n.type})}i(pr,"_decodeBlob");function xi(n){return n&&n.__local_forage_encoded_blob}i(xi,"_isEncodedBlob");function Ll(n){var s=this,o=s._initReady().then(function(){var l=F[s._dbInfo.name];if(l&&l.dbReady)return l.dbReady});return D(o,n,n),o}i(Ll,"_fullyReady");function Ul(n){ne(n);for(var s=F[n.name],o=s.forages,l=0;l<o.length;l++){var v=o[l];v._dbInfo.db&&(v._dbInfo.db.close(),v._dbInfo.db=null)}return n.db=null,Ae(n).then(function(f){return n.db=f,ht(n)?Cr(n):f}).then(function(f){n.db=s.db=f;for(var p=0;p<o.length;p++)o[p]._dbInfo.db=f}).catch(function(f){throw he(n,f),f})}i(Ul,"_tryReconnect");function _e(n,s,o,l){l===void 0&&(l=1);try{var v=n.db.transaction(n.storeName,s);o(null,v)}catch(f){if(l>0&&(!n.db||f.name==="InvalidStateError"||f.name==="NotFoundError"))return h.resolve().then(function(){if(!n.db||f.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),Cr(n)}).then(function(){return Ul(n).then(function(){_e(n,s,o,l-1)})}).catch(o);o(f)}}i(_e,"createTransaction");function Ci(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}i(Ci,"createDbContext");function kl(n){var s=this,o={db:null};if(n)for(var l in n)o[l]=n[l];var v=F[o.name];v||(v=Ci(),F[o.name]=v),v.forages.push(s),s._initReady||(s._initReady=s.ready,s.ready=Ll);var f=[];function p(){return h.resolve()}i(p,"ignoreErrors");for(var S=0;S<v.forages.length;S++){var O=v.forages[S];O!==s&&f.push(O._initReady().catch(p))}var I=v.forages.slice(0);return h.all(f).then(function(){return o.db=v.db,Ae(o)}).then(function(w){return o.db=w,ht(o,s._defaultConfig.version)?Cr(o):w}).then(function(w){o.db=v.db=w,s._dbInfo=o;for(var _=0;_<I.length;_++){var N=I[_];N!==s&&(N._dbInfo.db=o.db,N._dbInfo.version=o.version)}})}i(kl,"_initStorage");function $l(n,s){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,qe,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.get(n);I.onsuccess=function(){var w=I.result;w===void 0&&(w=null),xi(w)&&(w=pr(w)),v(w)},I.onerror=function(){f(I.error)}}catch(w){f(w)}})}).catch(f)});return T(l,s),l}i($l,"getItem");function Kl(n,s){var o=this,l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,qe,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.openCursor(),w=1;I.onsuccess=function(){var _=I.result;if(_){var N=_.value;xi(N)&&(N=pr(N));var L=n(N,_.key,w++);L!==void 0?v(L):_.continue()}else v()},I.onerror=function(){f(I.error)}}catch(_){f(_)}})}).catch(f)});return T(l,s),l}i(Kl,"iterate");function Gl(n,s,o){var l=this;n=M(n);var v=new h(function(f,p){var S;l.ready().then(function(){return S=l._dbInfo,te.call(s)==="[object Blob]"?k(S.db).then(function(O){return O?s:gn(s)}):s}).then(function(O){_e(l._dbInfo,q,function(I,w){if(I)return p(I);try{var _=w.objectStore(l._dbInfo.storeName);O===null&&(O=void 0);var N=_.put(O,n);w.oncomplete=function(){O===void 0&&(O=null),f(O)},w.onabort=w.onerror=function(){var L=N.error?N.error:N.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return T(v,o),v}i(Gl,"setItem");function Hl(n,s){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,q,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.delete(n);S.oncomplete=function(){v()},S.onerror=function(){f(I.error)},S.onabort=function(){var w=I.error?I.error:I.transaction.error;f(w)}}catch(w){f(w)}})}).catch(f)});return T(l,s),l}i(Hl,"removeItem");function zl(n){var s=this,o=new h(function(l,v){s.ready().then(function(){_e(s._dbInfo,q,function(f,p){if(f)return v(f);try{var S=p.objectStore(s._dbInfo.storeName),O=S.clear();p.oncomplete=function(){l()},p.onabort=p.onerror=function(){var I=O.error?O.error:O.transaction.error;v(I)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(zl,"clear");function Yl(n){var s=this,o=new h(function(l,v){s.ready().then(function(){_e(s._dbInfo,qe,function(f,p){if(f)return v(f);try{var S=p.objectStore(s._dbInfo.storeName),O=S.count();O.onsuccess=function(){l(O.result)},O.onerror=function(){v(O.error)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(Yl,"length");function Wl(n,s){var o=this,l=new h(function(v,f){if(n<0){v(null);return}o.ready().then(function(){_e(o._dbInfo,qe,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=!1,w=O.openKeyCursor();w.onsuccess=function(){var _=w.result;if(!_){v(null);return}n===0||I?v(_.key):(I=!0,_.advance(n))},w.onerror=function(){f(w.error)}}catch(_){f(_)}})}).catch(f)});return T(l,s),l}i(Wl,"key");function Jl(n){var s=this,o=new h(function(l,v){s.ready().then(function(){_e(s._dbInfo,qe,function(f,p){if(f)return v(f);try{var S=p.objectStore(s._dbInfo.storeName),O=S.openKeyCursor(),I=[];O.onsuccess=function(){var w=O.result;if(!w){l(I);return}I.push(w.key),w.continue()},O.onerror=function(){v(O.error)}}catch(w){v(w)}})}).catch(v)});return T(o,n),o}i(Jl,"keys");function Xl(n,s){s=Y.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;if(!n.name)v=h.reject("Invalid arguments");else{var f=n.name===o.name&&l._dbInfo.db,p=f?h.resolve(l._dbInfo.db):Ae(n).then(function(S){var O=F[n.name],I=O.forages;O.db=S;for(var w=0;w<I.length;w++)I[w]._dbInfo.db=S;return S});n.storeName?v=p.then(function(S){if(!!S.objectStoreNames.contains(n.storeName)){var O=S.version+1;ne(n);var I=F[n.name],w=I.forages;S.close();for(var _=0;_<w.length;_++){var N=w[_];N._dbInfo.db=null,N._dbInfo.version=O}var L=new h(function(U,Q){var W=b.open(n.name,O);W.onerror=function(ge){var Nr=W.result;Nr.close(),Q(ge)},W.onupgradeneeded=function(){var ge=W.result;ge.deleteObjectStore(n.storeName)},W.onsuccess=function(){var ge=W.result;ge.close(),U(ge)}});return L.then(function(U){I.db=U;for(var Q=0;Q<w.length;Q++){var W=w[Q];W._dbInfo.db=U,de(W._dbInfo)}}).catch(function(U){throw(he(n,U)||h.resolve()).catch(function(){}),U})}}):v=p.then(function(S){ne(n);var O=F[n.name],I=O.forages;S.close();for(var w=0;w<I.length;w++){var _=I[w];_._dbInfo.db=null}var N=new h(function(L,U){var Q=b.deleteDatabase(n.name);Q.onerror=function(){var W=Q.result;W&&W.close(),U(Q.error)},Q.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},Q.onsuccess=function(){var W=Q.result;W&&W.close(),L(W)}});return N.then(function(L){O.db=L;for(var U=0;U<I.length;U++){var Q=I[U];de(Q._dbInfo)}}).catch(function(L){throw(he(n,L)||h.resolve()).catch(function(){}),L})})}return T(v,s),v}i(Xl,"dropInstance");var Ql={_driver:"asyncStorage",_initStorage:kl,_support:g(),iterate:Kl,getItem:$l,setItem:Gl,removeItem:Hl,clear:zl,length:Yl,key:Wl,keys:Jl,dropInstance:Xl};function Zl(){return typeof openDatabase=="function"}i(Zl,"isWebSQLValid");var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ev="~~local_forage_type~",Pi=/^~~local_forage_type~([^~]+)~/,mt="__lfsc__:",bn=mt.length,En="arbf",Sn="blob",Ni="si08",ji="ui08",Mi="uic8",Bi="si16",Fi="si32",Vi="ur16",Li="ui32",Ui="fl32",ki="fl64",$i=bn+En.length,Ki=Object.prototype.toString;function Gi(n){var s=n.length*.75,o=n.length,l,v=0,f,p,S,O;n[n.length-1]==="="&&(s--,n[n.length-2]==="="&&s--);var I=new ArrayBuffer(s),w=new Uint8Array(I);for(l=0;l<o;l+=4)f=Ve.indexOf(n[l]),p=Ve.indexOf(n[l+1]),S=Ve.indexOf(n[l+2]),O=Ve.indexOf(n[l+3]),w[v++]=f<<2|p>>4,w[v++]=(p&15)<<4|S>>2,w[v++]=(S&3)<<6|O&63;return I}i(Gi,"stringToBuffer");function Tn(n){var s=new Uint8Array(n),o="",l;for(l=0;l<s.length;l+=3)o+=Ve[s[l]>>2],o+=Ve[(s[l]&3)<<4|s[l+1]>>4],o+=Ve[(s[l+1]&15)<<2|s[l+2]>>6],o+=Ve[s[l+2]&63];return s.length%3===2?o=o.substring(0,o.length-1)+"=":s.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}i(Tn,"bufferToString");function rv(n,s){var o="";if(n&&(o=Ki.call(n)),n&&(o==="[object ArrayBuffer]"||n.buffer&&Ki.call(n.buffer)==="[object ArrayBuffer]")){var l,v=mt;n instanceof ArrayBuffer?(l=n,v+=En):(l=n.buffer,o==="[object Int8Array]"?v+=Ni:o==="[object Uint8Array]"?v+=ji:o==="[object Uint8ClampedArray]"?v+=Mi:o==="[object Int16Array]"?v+=Bi:o==="[object Uint16Array]"?v+=Vi:o==="[object Int32Array]"?v+=Fi:o==="[object Uint32Array]"?v+=Li:o==="[object Float32Array]"?v+=Ui:o==="[object Float64Array]"?v+=ki:s(new Error("Failed to get type for BinaryArray"))),s(v+Tn(l))}else if(o==="[object Blob]"){var f=new FileReader;f.onload=function(){var p=ev+n.type+"~"+Tn(this.result);s(mt+Sn+p)},f.readAsArrayBuffer(n)}else try{s(JSON.stringify(n))}catch(p){console.error("Couldn't convert value into a JSON string: ",n),s(null,p)}}i(rv,"serialize");function tv(n){if(n.substring(0,bn)!==mt)return JSON.parse(n);var s=n.substring($i),o=n.substring(bn,$i),l;if(o===Sn&&Pi.test(s)){var v=s.match(Pi);l=v[1],s=s.substring(v[0].length)}var f=Gi(s);switch(o){case En:return f;case Sn:return A([f],{type:l});case Ni:return new Int8Array(f);case ji:return new Uint8Array(f);case Mi:return new Uint8ClampedArray(f);case Bi:return new Int16Array(f);case Vi:return new Uint16Array(f);case Fi:return new Int32Array(f);case Li:return new Uint32Array(f);case Ui:return new Float32Array(f);case ki:return new Float64Array(f);default:throw new Error("Unkown type: "+o)}}i(tv,"deserialize");var On={serialize:rv,deserialize:tv,stringToBuffer:Gi,bufferToString:Tn};function Hi(n,s,o,l){n.executeSql("CREATE TABLE IF NOT EXISTS "+s.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,l)}i(Hi,"createDbTable");function nv(n){var s=this,o={db:null};if(n)for(var l in n)o[l]=typeof n[l]!="string"?n[l].toString():n[l];var v=new h(function(f,p){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(S){return p(S)}o.db.transaction(function(S){Hi(S,o,function(){s._dbInfo=o,f()},function(O,I){p(I)})},p)});return o.serializer=On,v}i(nv,"_initStorage$1");function Le(n,s,o,l,v,f){n.executeSql(o,l,v,function(p,S){S.code===S.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[s.storeName],function(O,I){I.rows.length?f(O,S):Hi(O,s,function(){O.executeSql(o,l,v,f)},f)},f):f(p,S)},f)}i(Le,"tryExecuteSql");function av(n,s){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[n],function(O,I){var w=I.rows.length?I.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,s),l}i(av,"getItem$1");function iv(n,s){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"SELECT * FROM "+p.storeName,[],function(O,I){for(var w=I.rows,_=w.length,N=0;N<_;N++){var L=w.item(N),U=L.value;if(U&&(U=p.serializer.deserialize(U)),U=n(U,L.key,N+1),U!==void 0){v(U);return}}v()},function(O,I){f(I)})})}).catch(f)});return T(l,s),l}i(iv,"iterate$1");function zi(n,s,o,l){var v=this;n=M(n);var f=new h(function(p,S){v.ready().then(function(){s===void 0&&(s=null);var O=s,I=v._dbInfo;I.serializer.serialize(s,function(w,_){_?S(_):I.db.transaction(function(N){Le(N,I,"INSERT OR REPLACE INTO "+I.storeName+" (key, value) VALUES (?, ?)",[n,w],function(){p(O)},function(L,U){S(U)})},function(N){if(N.code===N.QUOTA_ERR){if(l>0){p(zi.apply(v,[n,O,o,l-1]));return}S(N)}})})}).catch(S)});return T(f,o),f}i(zi,"_setItem");function ov(n,s,o){return zi.apply(this,[n,s,o,1])}i(ov,"setItem$1");function sv(n,s){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[n],function(){v()},function(O,I){f(I)})})}).catch(f)});return T(l,s),l}i(sv,"removeItem$1");function uv(n){var s=this,o=new h(function(l,v){s.ready().then(function(){var f=s._dbInfo;f.db.transaction(function(p){Le(p,f,"DELETE FROM "+f.storeName,[],function(){l()},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(uv,"clear$1");function cv(n){var s=this,o=new h(function(l,v){s.ready().then(function(){var f=s._dbInfo;f.db.transaction(function(p){Le(p,f,"SELECT COUNT(key) as c FROM "+f.storeName,[],function(S,O){var I=O.rows.item(0).c;l(I)},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(cv,"length$1");function fv(n,s){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[n+1],function(O,I){var w=I.rows.length?I.rows.item(0).key:null;v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,s),l}i(fv,"key$1");function lv(n){var s=this,o=new h(function(l,v){s.ready().then(function(){var f=s._dbInfo;f.db.transaction(function(p){Le(p,f,"SELECT key FROM "+f.storeName,[],function(S,O){for(var I=[],w=0;w<O.rows.length;w++)I.push(O.rows.item(w).key);l(I)},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(lv,"keys$1");function vv(n){return new h(function(s,o){n.transaction(function(l){l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(v,f){for(var p=[],S=0;S<f.rows.length;S++)p.push(f.rows.item(S).name);s({db:n,storeNames:p})},function(v,f){o(f)})},function(l){o(l)})})}i(vv,"getAllStoreNames");function dv(n,s){s=Y.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;return n.name?v=new h(function(f){var p;n.name===o.name?p=l._dbInfo.db:p=openDatabase(n.name,"","",0),n.storeName?f({db:p,storeNames:[n.storeName]}):f(vv(p))}).then(function(f){return new h(function(p,S){f.db.transaction(function(O){function I(L){return new h(function(U,Q){O.executeSql("DROP TABLE IF EXISTS "+L,[],function(){U()},function(W,ge){Q(ge)})})}i(I,"dropTable");for(var w=[],_=0,N=f.storeNames.length;_<N;_++)w.push(I(f.storeNames[_]));h.all(w).then(function(){p()}).catch(function(L){S(L)})},function(O){S(O)})})}):v=h.reject("Invalid arguments"),T(v,s),v}i(dv,"dropInstance$1");var pv={_driver:"webSQLStorage",_initStorage:nv,_support:Zl(),iterate:iv,getItem:av,setItem:ov,removeItem:sv,clear:uv,length:cv,key:fv,keys:lv,dropInstance:dv};function yv(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}i(yv,"isLocalStorageValid");function Yi(n,s){var o=n.name+"/";return n.storeName!==s.storeName&&(o+=n.storeName+"/"),o}i(Yi,"_getKeyPrefix");function hv(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch{return!0}}i(hv,"checkIfLocalStorageThrows");function mv(){return!hv()||localStorage.length>0}i(mv,"_isLocalStorageUsable");function gv(n){var s=this,o={};if(n)for(var l in n)o[l]=n[l];return o.keyPrefix=Yi(n,s._defaultConfig),mv()?(s._dbInfo=o,o.serializer=On,h.resolve()):h.reject()}i(gv,"_initStorage$2");function bv(n){var s=this,o=s.ready().then(function(){for(var l=s._dbInfo.keyPrefix,v=localStorage.length-1;v>=0;v--){var f=localStorage.key(v);f.indexOf(l)===0&&localStorage.removeItem(f)}});return T(o,n),o}i(bv,"clear$2");function Ev(n,s){var o=this;n=M(n);var l=o.ready().then(function(){var v=o._dbInfo,f=localStorage.getItem(v.keyPrefix+n);return f&&(f=v.serializer.deserialize(f)),f});return T(l,s),l}i(Ev,"getItem$2");function Sv(n,s){var o=this,l=o.ready().then(function(){for(var v=o._dbInfo,f=v.keyPrefix,p=f.length,S=localStorage.length,O=1,I=0;I<S;I++){var w=localStorage.key(I);if(w.indexOf(f)===0){var _=localStorage.getItem(w);if(_&&(_=v.serializer.deserialize(_)),_=n(_,w.substring(p),O++),_!==void 0)return _}}});return T(l,s),l}i(Sv,"iterate$2");function Tv(n,s){var o=this,l=o.ready().then(function(){var v=o._dbInfo,f;try{f=localStorage.key(n)}catch{f=null}return f&&(f=f.substring(v.keyPrefix.length)),f});return T(l,s),l}i(Tv,"key$2");function Ov(n){var s=this,o=s.ready().then(function(){for(var l=s._dbInfo,v=localStorage.length,f=[],p=0;p<v;p++){var S=localStorage.key(p);S.indexOf(l.keyPrefix)===0&&f.push(S.substring(l.keyPrefix.length))}return f});return T(o,n),o}i(Ov,"keys$2");function Iv(n){var s=this,o=s.keys().then(function(l){return l.length});return T(o,n),o}i(Iv,"length$2");function wv(n,s){var o=this;n=M(n);var l=o.ready().then(function(){var v=o._dbInfo;localStorage.removeItem(v.keyPrefix+n)});return T(l,s),l}i(wv,"removeItem$2");function Rv(n,s,o){var l=this;n=M(n);var v=l.ready().then(function(){s===void 0&&(s=null);var f=s;return new h(function(p,S){var O=l._dbInfo;O.serializer.serialize(s,function(I,w){if(w)S(w);else try{localStorage.setItem(O.keyPrefix+n,I),p(f)}catch(_){(_.name==="QuotaExceededError"||_.name==="NS_ERROR_DOM_QUOTA_REACHED")&&S(_),S(_)}})})});return T(v,o),v}i(Rv,"setItem$2");function qv(n,s){if(s=Y.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var o=this.config();n.name=n.name||o.name,n.storeName=n.storeName||o.storeName}var l=this,v;return n.name?v=new h(function(f){n.storeName?f(Yi(n,l._defaultConfig)):f(n.name+"/")}).then(function(f){for(var p=localStorage.length-1;p>=0;p--){var S=localStorage.key(p);S.indexOf(f)===0&&localStorage.removeItem(S)}}):v=h.reject("Invalid arguments"),T(v,s),v}i(qv,"dropInstance$2");var Av={_driver:"localStorageWrapper",_initStorage:gv,_support:yv(),iterate:Sv,getItem:Ev,setItem:Rv,removeItem:wv,clear:bv,length:Iv,key:Tv,keys:Ov,dropInstance:qv},_v=i(function(s,o){return s===o||typeof s=="number"&&typeof o=="number"&&isNaN(s)&&isNaN(o)},"sameValue"),Dv=i(function(s,o){for(var l=s.length,v=0;v<l;){if(_v(s[v],o))return!0;v++}return!1},"includes"),Wi=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},Pr={},Ji={},yr={INDEXEDDB:Ql,WEBSQL:pv,LOCALSTORAGE:Av},xv=[yr.INDEXEDDB._driver,yr.WEBSQL._driver,yr.LOCALSTORAGE._driver],gt=["dropInstance"],In=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(gt),Cv={description:"",driver:xv.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Pv(n,s){n[s]=function(){var o=arguments;return n.ready().then(function(){return n[s].apply(n,o)})}}i(Pv,"callWhenReady");function wn(){for(var n=1;n<arguments.length;n++){var s=arguments[n];if(s)for(var o in s)s.hasOwnProperty(o)&&(Wi(s[o])?arguments[0][o]=s[o].slice():arguments[0][o]=s[o])}return arguments[0]}i(wn,"extend");var Nv=function(){function n(s){E(this,n);for(var o in yr)if(yr.hasOwnProperty(o)){var l=yr[o],v=l._driver;this[o]=v,Pr[v]||this.defineDriver(l)}this._defaultConfig=wn({},Cv),this._config=wn({},this._defaultConfig,s),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i(n,"LocalForage"),n.prototype.config=i(function(o){if((typeof o>"u"?"undefined":c(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in o){if(l==="storeName"&&(o[l]=o[l].replace(/\W/g,"_")),l==="version"&&typeof o[l]!="number")return new Error("Database version must be a number.");this._config[l]=o[l]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},"config"),n.prototype.defineDriver=i(function(o,l,v){var f=new h(function(p,S){try{var O=o._driver,I=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){S(I);return}for(var w=In.concat("_initStorage"),_=0,N=w.length;_<N;_++){var L=w[_],U=!Dv(gt,L);if((U||o[L])&&typeof o[L]!="function"){S(I);return}}var Q=i(function(){for(var Nr=i(function(Bv){return function(){var Fv=new Error("Method "+Bv+" is not implemented by the current driver"),Xi=h.reject(Fv);return T(Xi,arguments[arguments.length-1]),Xi}},"methodNotImplementedFactory"),Rn=0,Mv=gt.length;Rn<Mv;Rn++){var qn=gt[Rn];o[qn]||(o[qn]=Nr(qn))}},"configureMissingMethods");Q();var W=i(function(Nr){Pr[O]&&console.info("Redefining LocalForage driver: "+O),Pr[O]=o,Ji[O]=Nr,p()},"setDriverSupport");"_support"in o?o._support&&typeof o._support=="function"?o._support().then(W,S):W(!!o._support):W(!0)}catch(ge){S(ge)}});return D(f,l,v),f},"defineDriver"),n.prototype.driver=i(function(){return this._driver||null},"driver"),n.prototype.getDriver=i(function(o,l,v){var f=Pr[o]?h.resolve(Pr[o]):h.reject(new Error("Driver not found."));return D(f,l,v),f},"getDriver"),n.prototype.getSerializer=i(function(o){var l=h.resolve(On);return D(l,o),l},"getSerializer"),n.prototype.ready=i(function(o){var l=this,v=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return D(v,o,o),v},"ready"),n.prototype.setDriver=i(function(o,l,v){var f=this;Wi(o)||(o=[o]);var p=this._getSupportedDrivers(o);function S(){f._config.driver=f.driver()}i(S,"setDriverToConfig");function O(_){return f._extend(_),S(),f._ready=f._initStorage(f._config),f._ready}i(O,"extendSelfWithDriver");function I(_){return function(){var N=0;function L(){for(;N<_.length;){var U=_[N];return N++,f._dbInfo=null,f._ready=null,f.getDriver(U).then(O).catch(L)}S();var Q=new Error("No available storage method found.");return f._driverSet=h.reject(Q),f._driverSet}return i(L,"driverPromiseLoop"),L()}}i(I,"initDriver");var w=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=w.then(function(){var _=p[0];return f._dbInfo=null,f._ready=null,f.getDriver(_).then(function(N){f._driver=N._driver,S(),f._wrapLibraryMethodsWithReady(),f._initDriver=I(p)})}).catch(function(){S();var _=new Error("No available storage method found.");return f._driverSet=h.reject(_),f._driverSet}),D(this._driverSet,l,v),this._driverSet},"setDriver"),n.prototype.supports=i(function(o){return!!Ji[o]},"supports"),n.prototype._extend=i(function(o){wn(this,o)},"_extend"),n.prototype._getSupportedDrivers=i(function(o){for(var l=[],v=0,f=o.length;v<f;v++){var p=o[v];this.supports(p)&&l.push(p)}return l},"_getSupportedDrivers"),n.prototype._wrapLibraryMethodsWithReady=i(function(){for(var o=0,l=In.length;o<l;o++)Pv(this,In[o])},"_wrapLibraryMethodsWithReady"),n.prototype.createInstance=i(function(o){return new n(o)},"createInstance"),n}(),jv=new Nv;u.exports=jv},{"3":3}]},{},[4])(4)})});var bt=i(e=>e==null,"isNil");var Qi=i(e=>(typeof e=="string"||e instanceof String)&&e.trim()==="","isEmptyString");var Zi=i(()=>{let e=new Date().getTime(),r=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let a=Math.random()*16;return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(r+a)%16|0,r=Math.floor(r/16)),(t==="x"?a:a&3|8).toString(16)})},"generateUUID");var be=i(e=>`${e}`=="[object Object]","isObjectLiteral");var oe=class{constructor(r,t,a){this.name=r;this.type=t;this.defaultValue=a}static getTypeName(r){if(be(r))return"";let t,a=r instanceof B;try{a?t=r:(t=new r,t instanceof oe||(t=r))}catch{}return t.name}};i(oe,"CustomType");var J=class extends oe{constructor(){super("SchemaId",String,(()=>{try{return crypto.randomUUID()}catch{return Zi()}})())}};i(J,"SchemaId");var eo=i(e=>e===null||[B,J,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Object].some(r=>e instanceof r||typeof e===r.name.toLowerCase()),"isSupportedTypeValue");var ro=i((e,r)=>{if(typeof r=="number"&&isNaN(r)||!r&&bt(r))return!1;try{if(e instanceof B)return r===e||`${r}`=="[object Object]"&&e.getInvalidSchemaDataFields(r).length===0;let t=typeof r===e.name.toLowerCase();return(e[Symbol.hasInstance]?r instanceof e:t)||t}catch{return!1}},"isOfSupportedType");var Qe=i((e,r)=>{try{if(r instanceof Array&&r.some(t=>!eo(t)))return!1;if(/ArrayOf/.test(e?.name)){let t=new e;return r instanceof Array&&!r.some(a=>!Qe(t.type,a))}return/OneOf/.test(e?.name)?new e().type.some(t=>Qe(t,r)):/SchemaId/.test(e?.name)?r instanceof J||typeof r=="string"&&/[0-9a-z]{8}-[0-9a-z]{4}-4[0-9a-z]{3}-[0-9a-z]{4}-[0-9a-z]{12}/.test(r):/Schema/.test(e?.name)?`${r}`=="[object Object]":ro(e,r)}catch{return!1}},"isSameValueType");var Et=i(e=>{switch(e){case Number:return 0;case Boolean:return!1;case String:return"";case Array:case Float32Array:case Float64Array:case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:return new e;default:return/SchemaId|ArrayOf|OneOf/.test(e.name)?new e().defaultValue:e instanceof B?Object.entries(e.toJSON()).reduce((r,[t,a])=>({...r,[t]:a.defaultValue}),{}):null}},"getDefaultValue");var St=i(e=>{let r=(e||{name:""}).name;return/ArrayOf|OneOf/.test(r)||[B,J,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array].some(t=>e===t)},"isSupportedType");var hr,Ue=class{constructor(r,t=!1,a){this.type=r;this.required=t;this.defaultValue=a;$(this,hr,"");if(!(r instanceof B)&&!St(r))throw new Error(`Invalid SchemaValue type provided. Received "${r?.name??new r()?.name}"`);if(ae(this,hr,this.type instanceof B?`Schema<${this.type.name}>`:/ArrayOf|OneOf|SchemaId/.test(r.name)?new r().name:this.type.name),a!==void 0&&!Qe(r,a))throw new Error(`Default value does not match type "${R(this,hr)}"`);this.defaultValue=a!==void 0?a instanceof oe||a instanceof J?a.defaultValue:a:Et(this.type)}toJSON(){return{type:R(this,hr),required:this.required,defaultValue:this.defaultValue}}toString(){return JSON.stringify(this.toJSON(),null,4)}};i(Ue,"SchemaValue"),hr=new WeakMap;var ee,Mr,De=class{constructor(r,t=null){$(this,ee,{});$(this,Mr,void 0);if(ae(this,Mr,r),t){for(let a in t)if(t.hasOwnProperty(a))if(t[a]instanceof Ue)R(this,ee)[a]=t[a];else throw new Error(`Field "${a}" is not a SchemaValue`)}}get name(){return R(this,Mr)}defineField(r,t,{defaultValue:a,required:u}={}){R(this,ee)[String(r)]=new Ue(t,u,a)}removeField(r){if(r){let[t,...a]=String(r).split("."),u=R(this,ee)[t];u&&(a.length?u.type instanceof De&&u.type.removeField(a.join(".")):delete R(this,ee)[t])}}hasField(r){if(r){let[t,...a]=String(r).split("."),u=R(this,ee)[t];if(u)if(a.length){if(u.type instanceof De)return u.type.hasField(a.join("."))}else return R(this,ee).hasOwnProperty(t)}return!1}getField(r){if(r){let[t,...a]=String(r).split("."),u=R(this,ee)[t];return u&&a.length&&u.type instanceof De?u.type.getField(a.join(".")):u??null}return null}isValidFieldValue(r,t=null){let a=this.getField(String(r));return a?a.required?!bt(t)&&(a.type!==String||!Qi(t))&&Qe(a.type,t):Qe(a.type,t):!1}getInvalidSchemaDataFields(r,t=new Set){let a=new Set,u=Object.keys(R(this,ee)).filter(c=>R(this,ee)[c].required),m=[...Object.keys(r),...u];for(let c of m)if(!t.has(c)){let E=this.getField(c),y=r[c];if(/ArrayOf/.test(E?.type.name??""))if(y instanceof Array){let b=new E.type;if(b.type instanceof De){y.forEach((g,A)=>{`${g}`=="[object Object]"?b.type.getInvalidSchemaDataFields(g).forEach(h=>{a.add(`${c}[${A}].${h}`)}):a.add(`${c}[${A}]`)});continue}}else{a.add(c);continue}if(/OneOf/.test(E?.type.name??"")){let g=new E.type().type.find(A=>A instanceof De);g&&`${y}`=="[object Object]"?g.getInvalidSchemaDataFields(y).forEach(A=>{a.add(`${c}.${A}`)}):this.isValidFieldValue(c,y)||a.add(c);continue}if(E?.type instanceof De){`${y}`=="[object Object]"?E.type.getInvalidSchemaDataFields(y).forEach(b=>{a.add(`${c}.${b}`)}):a.add(c);continue}this.isValidFieldValue(c,y)||a.add(c)}return Array.from(a)}toJSON(){let r={};for(let t in R(this,ee))if(R(this,ee).hasOwnProperty(t)){let a=R(this,ee)[t];r[t]=a.toJSON()}return r}toString(){return JSON.stringify(this.toJSON(),null,4)}toValue(){let r=new Date,t={};for(let a in R(this,ee))if(R(this,ee).hasOwnProperty(a)){let u=R(this,ee)[a];switch(!0){case u.type instanceof De:t[a]=u.type.toValue();break;case u.type===J:t[a]=new J().defaultValue;break;case u.type===Date:t[a]=u.defaultValue instanceof Date?u.defaultValue:r;break;default:t[a]=u.defaultValue}}return t}},B=De;i(B,"Schema"),ee=new WeakMap,Mr=new WeakMap;var Tt=i(e=>{let r=null,t=e;switch(typeof e){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"object":if(e instanceof Date)return{type:Date,defaultValue:t};if(Array.isArray(e)){if(e.length){let{type:a}=Tt(e[0]);if(e.every(u=>Tt(u).type===a))return{type:Ot(a),defaultValue:e}}return{type:Array,defaultValue:t}}return ArrayBuffer.isView(e)?{type:e.constructor,defaultValue:t}:e instanceof ArrayBuffer?{type:ArrayBuffer,defaultValue:t}:e instanceof Blob?{type:Blob,defaultValue:t}:e instanceof B?{type:B,defaultValue:e.toValue()}:e instanceof J?{type:J,defaultValue:e.defaultValue}:`${e}`=="[object Object]"?{type:B,defaultValue:e}:{type:null,defaultValue:t};default:return St(e)?{type:e,defaultValue:Et(e)}:{type:null,defaultValue:t}}return{type:r,defaultValue:t}},"getSchemaTypeAndDefaultValueFromValue");var mr=i(e=>be(e)&&Object.keys(e).length,"isValidObjectLiteral");var G={blankStoreName:()=>"ClientStore must have a non-blank name",invalidSchema:()=>'Invalid "Schema" instance or object',invalidSubHandler:e=>`Received invalid "subscribe" handler => ${e}`,invalidEventName:(e,r)=>`Received unknown ${e} "${r}" event`,invalidEventHandler:(e,r,t)=>`Received invalid ${e} "${r}" event handler => ${t}`,invalidValueProvided:(e,r)=>`Invalid "value" provided to ${e} item => ${r}`,invalidValueInterceptProvided:(e,r)=>`Invalid "value" returned via ${e} intercept handler - item => ${r}`,missingOrInvalidFields:(e,r)=>`Missing or invalid field types for "${e.join(", ")}" keys. Should be ${r.map((t,a)=>`[${e[a]}, ${t}]`).join(", ")}`};var Ze=i((e,r)=>{if(!mr(r))throw new Error(G.invalidSchema());let t=new B(e);return Object.entries(r).forEach(([a,u])=>{a=`${a}`;let m=a.startsWith("$");m&&(a=`${a}`.slice(1));let{type:c,defaultValue:E}=Tt(u);if(!c)throw new Error(`Unsupported Schema Type => key: "${a}", type: "${u?.constructor?.name??typeof u}" (estimated)`);c===B&&`${E}`=="[object Object]"&&(c=Ze(a,E),E=void 0),t.defineField(a,c,{required:m,...E===null?{}:{defaultValue:E}})}),t},"objectToSchema");function Ot(e){let r=oe.getTypeName(e);be(e)&&(e=Ze(r,e));let t=`Array<${e instanceof B?r?`Schema<${r}>`:"Schema":r}>`,a=i(class extends oe{constructor(){super(t,e,[])}},"CustomTypeConstructor");return Object.defineProperty(a,"name",{value:"ArrayOf"}),a}i(Ot,"ArrayOf");function to(...e){if(e.length<2)throw new Error("OneOf requires more than single type listed comma separated");e=e.map(a=>be(a)?Ze("",a):a);let r=e.map(a=>{if(a.name==="OneOf")throw new Error('Cannot nest "OneOf" types');let u=oe.getTypeName(a);return a instanceof B?u?`Schema<${u}>`:"Schema":u}).join(" | "),t=i(class extends oe{constructor(){super(r,e,null)}},"CustomTypeConstructor");return Object.defineProperty(t,"name",{value:"OneOf"}),t}i(to,"OneOf");var nw=_n(Ml()),Di=_n(qi());var Me=i((e,r)=>typeof r=="function"?r(null,e):Promise.resolve(e),"callBackOrPromise"),ut="Memory",Ai={},_i=i(e=>`${e.storeName}-${e.name}-${e.version}`,"getMapKeyFromConfig"),ze=i(({_config:e})=>Ai[_i(e)]??{},"getMap"),Fl=i(()=>({_driver:ut,_initStorage(e){this._config=e,Ai[_i(e)]=new Map},async clear(e){ze(this).clear(),Me([],e)},async getItem(e,r){let t=ze(this).get(e);return Me(t??null,r)||null},async iterate(e,r){let t=0,a;for(let[u,m]of ze(this).entries()){if(a=e(m,u,t),a!==void 0)return Me(a,r);t+=1}return Me(null,r)},async key(e,r){let t=Array.from(ze(this).keys());return Me(t[e],r)||""},async keys(e){let r=Array.from(ze(this).keys());return Me(r,e)||[]},async length(e){return Me(ze(this).size,e)||0},async removeItem(e,r){return ze(this).delete(e),Me(e,r)},async setItem(e,r,t){return ze(this).set(e,r),Me(r,t)},async dropInstance(){delete Ai[_i(this._config)]}}),"MemoryStore");var wr=_n(qi());var sr=(g=>(g.READY="ready",g.PROCESSING="processing",g.PROCESSING_EVENTS="processing-events",g.CREATED="created",g.LOADED="loaded",g.ERROR="error",g.ABORTED="aborted",g.REMOVED="removed",g.UPDATED="updated",g.CLEARED="cleared",g))(sr||{}),Vl={LOCALSTORAGE:wr.LOCALSTORAGE,WEBSQL:wr.WEBSQL,INDEXEDDB:wr.INDEXEDDB,MEMORYSTORAGE:ut};var Rr={version:1,type:ut,description:"",appName:"App",idKeyName:"_id",createdDateKeyName:"_createdDate",updatedDateKeyName:"_lastUpdatedDate"};Di.default.defineDriver(Fl());var ct=structuredClone,ve,ye,lt,vt,Dr,Ye,cr,fr,dt,Be,lr,ft,Fe,ur,K,z,We,qr,Je,Ar,xr,mn,Xe,_r,vr=class{constructor(r,t,a=Rr){$(this,lr);$(this,Fe);$(this,K);$(this,We);$(this,Je);$(this,xr);$(this,Xe);$(this,ve,void 0);$(this,ye,void 0);$(this,lt,void 0);$(this,vt,void 0);$(this,Dr,new Set);$(this,Ye,new Map(Object.values(sr).map(r=>[r,new Set])));$(this,cr,new Map(Object.values(sr).map(r=>[r,null])));$(this,fr,null);$(this,dt,!1);$(this,Be,new Set);if(ae(this,lt,r),ae(this,ye,{...Rr,...a}),!`${r}`.trim().length)throw new Error(G.blankStoreName());if(!(t instanceof B))if(`${t}`=="[object Object]")t=Ze(r,t);else throw new Error(G.invalidSchema());let u=R(this,ye).appName||"App";ae(this,vt,t),ae(this,ve,Di.default.createInstance({driver:R(this,ye).type,version:R(this,ye).version,description:R(this,ye).description,name:u,storeName:r})),R(this,ve).ready(()=>{ae(this,dt,!0),x(this,K,z).call(this,"ready",!0)})}get schema(){return R(this,vt)}get ready(){return R(this,dt)}get type(){return R(this,ye).type}get name(){return R(this,lt)}get appName(){return R(this,ye).appName}get processing(){return R(this,Be).size>0}get idKeyName(){return R(this,ye).idKeyName||Rr.idKeyName}get createdDateKeyName(){return R(this,ye).createdDateKeyName||Rr.createdDateKeyName}get updatedDateKeyName(){return R(this,ye).updatedDateKeyName||Rr.updatedDateKeyName}get processingEvents(){return Array.from(R(this,Be),r=>r.split("_")[0])}async size(){return await R(this,ve).length()}subscribe(r){if(typeof r=="function")return R(this,Dr).add(r),()=>{R(this,Dr).delete(r)};throw new Error(G.invalidSubHandler(r))}on(r,t){if(typeof t=="function"){if(R(this,Ye).has(r))return R(this,Ye).get(r)?.add(t),()=>this.off(r,t);throw new Error(G.invalidEventName("ON",r))}throw new Error(G.invalidEventHandler("ON",r,t))}off(r,t){if(typeof t=="function"){if(R(this,Ye).has(r)){R(this,Ye).get(r)?.delete(t);return}throw new Error(G.invalidEventName("OFF",r))}throw new Error(G.invalidEventHandler("OFF",r,t))}beforeChange(r){if(typeof r=="function")ae(this,fr,r);else throw new Error(G.invalidEventHandler("function","beforeChange",r));return()=>{ae(this,fr,null)}}intercept(r,t){if(typeof t=="function"){if(R(this,cr).has(r))return R(this,cr).set(r,t),()=>{R(this,cr).set(r,null)};throw new Error(G.invalidEventName("INTERCEPT",r))}throw new Error(G.invalidEventHandler("INTERCEPT",r,t))}async loadItems(r=[]){return x(this,Xe,_r).call(this,"loaded",async()=>{try{let t=new Map,{key:a}=x(this,xr,mn).call(this);for(let c of r){if(!mr(c))throw new Error(G.invalidValueProvided("load",c));let{item:E,id:y}=await x(this,lr,ft).call(this,c);x(this,Fe,ur).call(this,E,b=>G.missingOrInvalidFields(b,b.map(g=>this.schema.getField(g)??void 0))),t.set(y,E)}let u=await x(this,Je,Ar).call(this,"loaded",Array.from(t.values()));if(u===null)return x(this,K,z).call(this,"aborted",{action:"loaded",data:r}),null;if(Array.isArray(u)&&u.length)for(let c of u){if(!be(c))throw new Error(G.invalidValueInterceptProvided("load",c));let E=c[a];if(t.get(c[a]))t.set(c[a],ct({...t.get(c[a]),...c}));else{let{item:y,id:b}=await x(this,lr,ft).call(this,c);t.set(b,y),E=b}x(this,Fe,ur).call(this,t.get(E),y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)))}let m=await Promise.all(Array.from(t.values()).map(c=>R(this,ve).setItem(`${c[a]}`,c)));return x(this,K,z).call(this,"loaded",m),m}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"loaded",r,null,t)),t}})}async createItem(r){return x(this,Xe,_r).call(this,"created",async()=>{try{if(!mr(r))throw new Error(G.invalidValueProvided("create",r));x(this,Fe,ur).call(this,r,c=>G.missingOrInvalidFields(c,c.map(E=>this.schema.getField(E)??void 0)));let{item:t,id:a}=await x(this,lr,ft).call(this,r),u=await x(this,Je,Ar).call(this,"created",t,a);if(u===null)return x(this,K,z).call(this,"aborted",{action:"created",data:r}),null;be(u)&&(t=ct({...t,...u}),x(this,Fe,ur).call(this,t,c=>G.missingOrInvalidFields(c,c.map(E=>this.schema.getField(E)??void 0))));let m=await R(this,ve).setItem(String(a),t);return x(this,K,z).call(this,"created",m),m}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"created",r,null,t)),t}})}async updateItem(r,t){return x(this,Xe,_r).call(this,"updated",async()=>{try{if(!mr(t))throw new Error(G.invalidValueProvided("update",t));let a=ct(await this.getItem(r));if(a){let{item:u,id:m}=await x(this,lr,ft).call(this,t,a);x(this,Fe,ur).call(this,u,y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)));let c=await x(this,Je,Ar).call(this,"updated",u,m);if(c===null)return x(this,K,z).call(this,"aborted",{action:"updated",data:t}),null;be(c)&&(u=ct(c),x(this,Fe,ur).call(this,u,y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0))));let E=await R(this,ve).setItem(String(m),u);return x(this,K,z).call(this,"updated",E),E}}catch(a){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"updated",t,r,a)),a}return null})}async getItems(){return this.findItems(()=>!0)}async getItem(r){return R(this,ve).getItem(`${r}`)}async removeItem(r){return x(this,Xe,_r).call(this,"removed",async()=>{try{if(await this.getItem(r))if(await x(this,Je,Ar).call(this,"removed",r,r)===null)x(this,K,z).call(this,"aborted",{action:"removed",data:r});else return await R(this,ve).removeItem(`${r}`),x(this,K,z).call(this,"removed",r),r}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"removed",r,r,t)),t}return null})}async clear(){return x(this,Xe,_r).call(this,"cleared",async()=>{let r=await R(this,ve).keys();try{if(await x(this,Je,Ar).call(this,"cleared",r)===null)x(this,K,z).call(this,"aborted",{action:"cleared",data:r});else return await R(this,ve).clear(),x(this,K,z).call(this,"cleared",r),r}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"cleared",r,null,t)),t}return null})}async findItem(r){return typeof r!="function"?null:await R(this,ve).iterate((t,a)=>{if(r(t,a))return t})??null}async findItems(r){if(typeof r!="function")return[];let t=[];return await R(this,ve).iterate((a,u)=>{r(a,u)&&a&&t.push(a)}),t}};i(vr,"ClientStore"),ve=new WeakMap,ye=new WeakMap,lt=new WeakMap,vt=new WeakMap,Dr=new WeakMap,Ye=new WeakMap,cr=new WeakMap,fr=new WeakMap,dt=new WeakMap,Be=new WeakMap,lr=new WeakSet,ft=i(async function(r,t=null){let{defaultKeys:a,key:u,createKey:m,updateKey:c}=x(this,xr,mn).call(this),E=new Date,y=r[u],b=t??await this.getItem(y);b?(b=ct(b),b[c]=r[c]??E):(b=this.schema.toValue(),b[u]=y??new J().defaultValue,b[m]=r[m]??E,b[c]=b[m]);for(let g in r)!a.has(g)&&r.hasOwnProperty(g)&&(b[g]=r[g]);return{item:b,id:b[u]}},"#mergeExistingItemWithNewData"),Fe=new WeakSet,ur=i(function(r,t){let{defaultKeys:a}=x(this,xr,mn).call(this),u=this.schema.getInvalidSchemaDataFields(r,a);if(u.length)throw new Error(t(u))},"#validateData"),K=new WeakSet,z=i(function(r,t){R(this,Dr).forEach(a=>a(r,t)),R(this,Ye).get(r)?.forEach(a=>a(t))},"#broadcast"),We=new WeakSet,qr=i(function(r,t,a=null,u=null){return{action:r,data:t,id:a,error:u}},"#createEventData"),Je=new WeakSet,Ar=i(function(r,t,a=null){let u={data:t,id:a},m=R(this,cr).get(r);if(typeof m=="function")return m(u);if(R(this,fr))return R(this,fr).call(this,r,u)},"#getWithResult"),xr=new WeakSet,mn=i(function(){let r=this.idKeyName,t=this.createdDateKeyName,a=this.updatedDateKeyName;return{key:r,createKey:t,updateKey:a,defaultKeys:new Set([r,t,a])}},"#getDefaultKeys"),Xe=new WeakSet,_r=i(async function(r,t){let a=`${r}_${Date.now()}`;R(this,Be).add(a),R(this,Be).size===1&&(x(this,K,z).call(this,"processing",!0),x(this,K,z).call(this,"processing-events",this.processingEvents));try{let u=await t();return R(this,Be).delete(a),this.processing||(x(this,K,z).call(this,"processing",!1),x(this,K,z).call(this,"processing-events",this.processingEvents)),u}catch(u){throw R(this,Be).delete(a),this.processing||(x(this,K,z).call(this,"processing",!1),x(this,K,z).call(this,"processing-events",this.processingEvents)),u}},"#trackProcess");var we,Re,dr,pt,yt=class{constructor(r,t){$(this,dr);$(this,we,void 0);$(this,Re,{});ae(this,we,new vr(r,t)),ae(this,Re,R(this,we).schema.toValue())}get value(){return x(this,dr,pt).call(this,R(this,Re))}async update(r){return R(this,Re)._id?R(this,we).updateItem(R(this,Re)._id,{...r}).then(t=>(ae(this,Re,t),x(this,dr,pt).call(this,t))):R(this,we).createItem({...R(this,Re),...r}).then(t=>(ae(this,Re,t),x(this,dr,pt).call(this,t)))}subscribe(r){return R(this,we).subscribe((t,a)=>{switch(t){case"created":case"updated":r(x(this,dr,pt).call(this,a),null);break;case"error":r(null,a.error);break}})}intercept(r){let t=R(this,we).intercept("created",({data:u})=>{r(u)}),a=R(this,we).intercept("updated",({data:u})=>{r(u)});return()=>{t(),a()}}};i(yt,"AppState"),we=new WeakMap,Re=new WeakMap,dr=new WeakSet,pt=i(function(r){let{_id:t,_createdDate:a,_lastUpdatedDate:u,...m}=r;return m},"#extractStateFromItem");window&&(window.CWS={Schema:B,SchemaValue:Ue,SchemaId:J,ArrayOf:Ot,OneOf:to,ClientStore:vr,EventType:sr,StorageType:Vl,AppState:yt});})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
//# sourceMappingURL=client-web-storage.min.js.map
