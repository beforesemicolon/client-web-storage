(()=>{var Lv=Object.create;var An=Object.defineProperty;var Uv=Object.getOwnPropertyDescriptor;var kv=Object.getOwnPropertyNames;var $v=Object.getPrototypeOf,Kv=Object.prototype.hasOwnProperty;var i=(e,r)=>An(e,"name",{value:r,configurable:!0}),jr=(e=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(e,{get:(r,t)=>(typeof require!="undefined"?require:r)[t]}):e)(function(e){if(typeof require!="undefined")return require.apply(this,arguments);throw new Error('Dynamic require of "'+e+'" is not supported')});var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var Gv=(e,r,t,a)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of kv(r))!Kv.call(e,s)&&s!==t&&An(e,s,{get:()=>r[s],enumerable:!(a=Uv(r,s))||a.enumerable});return e};var _n=(e,r,t)=>(t=e!=null?Lv($v(e)):{},Gv(r||!e||!e.__esModule?An(t,"default",{value:e,enumerable:!0}):t,e));var Dn=(e,r,t)=>{if(!r.has(e))throw TypeError("Cannot "+t)};var R=(e,r,t)=>(Dn(e,r,"read from private field"),t?t.call(e):r.get(e)),$=(e,r,t)=>{if(r.has(e))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(e):r.set(e,t)},ae=(e,r,t,a)=>(Dn(e,r,"write to private field"),a?a.call(e,t):r.set(e,t),t);var x=(e,r,t)=>(Dn(e,r,"access private method"),t);var Cn=d((hT,ao)=>{var xn=typeof document=="object"&&document.all,Hv=typeof xn>"u"&&xn!==void 0;ao.exports={all:xn,IS_HTMLDDA:Hv}});var Z=d((mT,oo)=>{var io=Cn(),zv=io.all;oo.exports=io.IS_HTMLDDA?function(e){return typeof e=="function"||e===zv}:function(e){return typeof e=="function"}});var X=d((gT,uo)=>{uo.exports=function(e){try{return!!e()}catch{return!0}}});var ue=d((bT,so)=>{var Yv=X();so.exports=!Yv(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})});var se=d((ET,co)=>{var It=i(function(e){return e&&e.Math==Math&&e},"check");co.exports=It(typeof globalThis=="object"&&globalThis)||It(typeof window=="object"&&window)||It(typeof self=="object"&&self)||It(typeof global=="object"&&global)||function(){return this}()||Function("return this")()});var Ee=d((ST,vo)=>{var fo=Z(),lo=Cn(),Wv=lo.all;vo.exports=lo.IS_HTMLDDA?function(e){return typeof e=="object"?e!==null:fo(e)||e===Wv}:function(e){return typeof e=="object"?e!==null:fo(e)}});var Nn=d((TT,yo)=>{var Jv=se(),po=Ee(),Pn=Jv.document,Xv=po(Pn)&&po(Pn.createElement);yo.exports=function(e){return Xv?Pn.createElement(e):{}}});var jn=d((OT,ho)=>{var Qv=ue(),Zv=X(),ed=Nn();ho.exports=!Qv&&!Zv(function(){return Object.defineProperty(ed("div"),"a",{get:function(){return 7}}).a!=7})});var Mn=d((IT,mo)=>{var rd=ue(),td=X();mo.exports=rd&&td(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})});var pe=d((wT,go)=>{var nd=Ee(),ad=String,id=TypeError;go.exports=function(e){if(nd(e))return e;throw id(ad(e)+" is not an object")}});var wt=d((RT,bo)=>{var od=X();bo.exports=!od(function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")})});var xe=d((qT,Eo)=>{var ud=wt(),Rt=Function.prototype.call;Eo.exports=ud?Rt.bind(Rt):function(){return Rt.apply(Rt,arguments)}});var Te=d((AT,So)=>{var Bn=se(),sd=Z(),cd=i(function(e){return sd(e)?e:void 0},"aFunction");So.exports=function(e,r){return arguments.length<2?cd(Bn[e]):Bn[e]&&Bn[e][r]}});var re=d((_T,Io)=>{var To=wt(),Oo=Function.prototype,Fn=Oo.call,fd=To&&Oo.bind.bind(Fn,Fn);Io.exports=To?fd:function(e){return function(){return Fn.apply(e,arguments)}}});var Fr=d((DT,wo)=>{var ld=re();wo.exports=ld({}.isPrototypeOf)});var qo=d((xT,Ro)=>{var vd=Te();Ro.exports=vd("navigator","userAgent")||""});var Ln=d((CT,Po)=>{var Co=se(),Vn=qo(),Ao=Co.process,_o=Co.Deno,Do=Ao&&Ao.versions||_o&&_o.version,xo=Do&&Do.v8,Oe,qt;xo&&(Oe=xo.split("."),qt=Oe[0]>0&&Oe[0]<4?1:+(Oe[0]+Oe[1]));!qt&&Vn&&(Oe=Vn.match(/Edge\/(\d+)/),(!Oe||Oe[1]>=74)&&(Oe=Vn.match(/Chrome\/(\d+)/),Oe&&(qt=+Oe[1])));Po.exports=qt});var Un=d((PT,jo)=>{var No=Ln(),dd=X();jo.exports=!!Object.getOwnPropertySymbols&&!dd(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&No&&No<41})});var kn=d((NT,Mo)=>{var pd=Un();Mo.exports=pd&&!Symbol.sham&&typeof Symbol.iterator=="symbol"});var At=d((jT,Bo)=>{var yd=Te(),hd=Z(),md=Fr(),gd=kn(),bd=Object;Bo.exports=gd?function(e){return typeof e=="symbol"}:function(e){var r=yd("Symbol");return hd(r)&&md(r.prototype,bd(e))}});var _t=d((MT,Fo)=>{var Ed=String;Fo.exports=function(e){try{return Ed(e)}catch{return"Object"}}});var Dt=d((BT,Vo)=>{var Sd=Z(),Td=_t(),Od=TypeError;Vo.exports=function(e){if(Sd(e))return e;throw Od(Td(e)+" is not a function")}});var er=d((FT,Lo)=>{Lo.exports=function(e){return e==null}});var xt=d((VT,Uo)=>{var Id=Dt(),wd=er();Uo.exports=function(e,r){var t=e[r];return wd(t)?void 0:Id(t)}});var $o=d((LT,ko)=>{var $n=xe(),Kn=Z(),Gn=Ee(),Rd=TypeError;ko.exports=function(e,r){var t,a;if(r==="string"&&Kn(t=e.toString)&&!Gn(a=$n(t,e))||Kn(t=e.valueOf)&&!Gn(a=$n(t,e))||r!=="string"&&Kn(t=e.toString)&&!Gn(a=$n(t,e)))return a;throw Rd("Can't convert object to primitive value")}});var ke=d((UT,Ko)=>{Ko.exports=!1});var Ct=d((kT,Ho)=>{var Go=se(),qd=Object.defineProperty;Ho.exports=function(e,r){try{qd(Go,e,{value:r,configurable:!0,writable:!0})}catch{Go[e]=r}return r}});var Pt=d(($T,Yo)=>{var Ad=se(),_d=Ct(),zo="__core-js_shared__",Dd=Ad[zo]||_d(zo,{});Yo.exports=Dd});var Hn=d((KT,Jo)=>{var xd=ke(),Wo=Pt();(Jo.exports=function(e,r){return Wo[e]||(Wo[e]=r!==void 0?r:{})})("versions",[]).push({version:"3.27.1",mode:xd?"pure":"global",copyright:"\xA9 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.27.1/LICENSE",source:"https://github.com/zloirock/core-js"})});var zn=d((GT,Xo)=>{var Cd=er(),Pd=TypeError;Xo.exports=function(e){if(Cd(e))throw Pd("Can't call method on "+e);return e}});var Nt=d((HT,Qo)=>{var Nd=zn(),jd=Object;Qo.exports=function(e){return jd(Nd(e))}});var ce=d((zT,Zo)=>{var Md=re(),Bd=Nt(),Fd=Md({}.hasOwnProperty);Zo.exports=Object.hasOwn||i(function(r,t){return Fd(Bd(r),t)},"hasOwn")});var Vr=d((YT,eu)=>{var Vd=re(),Ld=0,Ud=Math.random(),kd=Vd(1 .toString);eu.exports=function(e){return"Symbol("+(e===void 0?"":e)+")_"+kd(++Ld+Ud,36)}});var Se=d((WT,iu)=>{var $d=se(),Kd=Hn(),ru=ce(),Gd=Vr(),tu=Un(),au=kn(),gr=Kd("wks"),rr=$d.Symbol,nu=rr&&rr.for,Hd=au?rr:rr&&rr.withoutSetter||Gd;iu.exports=function(e){if(!ru(gr,e)||!(tu||typeof gr[e]=="string")){var r="Symbol."+e;tu&&ru(rr,e)?gr[e]=rr[e]:au&&nu?gr[e]=nu(r):gr[e]=Hd(r)}return gr[e]}});var cu=d((JT,su)=>{var zd=xe(),ou=Ee(),uu=At(),Yd=xt(),Wd=$o(),Jd=Se(),Xd=TypeError,Qd=Jd("toPrimitive");su.exports=function(e,r){if(!ou(e)||uu(e))return e;var t=Yd(e,Qd),a;if(t){if(r===void 0&&(r="default"),a=zd(t,e,r),!ou(a)||uu(a))return a;throw Xd("Can't convert object to primitive value")}return r===void 0&&(r="number"),Wd(e,r)}});var jt=d((XT,fu)=>{var Zd=cu(),ep=At();fu.exports=function(e){var r=Zd(e,"string");return ep(r)?r:r+""}});var fe=d(vu=>{var rp=ue(),tp=jn(),np=Mn(),Mt=pe(),lu=jt(),ap=TypeError,Yn=Object.defineProperty,ip=Object.getOwnPropertyDescriptor,Wn="enumerable",Jn="configurable",Xn="writable";vu.f=rp?np?i(function(r,t,a){if(Mt(r),t=lu(t),Mt(a),typeof r=="function"&&t==="prototype"&&"value"in a&&Xn in a&&!a[Xn]){var s=ip(r,t);s&&s[Xn]&&(r[t]=a.value,a={configurable:Jn in a?a[Jn]:s[Jn],enumerable:Wn in a?a[Wn]:s[Wn],writable:!1})}return Yn(r,t,a)},"defineProperty"):Yn:i(function(r,t,a){if(Mt(r),t=lu(t),Mt(a),tp)try{return Yn(r,t,a)}catch{}if("get"in a||"set"in a)throw ap("Accessors not supported");return"value"in a&&(r[t]=a.value),r},"defineProperty")});var ea=d((ZT,pu)=>{var Qn=ue(),op=ce(),du=Function.prototype,up=Qn&&Object.getOwnPropertyDescriptor,Zn=op(du,"name"),sp=Zn&&i(function(){},"something").name==="something",cp=Zn&&(!Qn||Qn&&up(du,"name").configurable);pu.exports={EXISTS:Zn,PROPER:sp,CONFIGURABLE:cp}});var ta=d((eO,yu)=>{var fp=re(),lp=Z(),ra=Pt(),vp=fp(Function.toString);lp(ra.inspectSource)||(ra.inspectSource=function(e){return vp(e)});yu.exports=ra.inspectSource});var gu=d((rO,mu)=>{var dp=se(),pp=Z(),hu=dp.WeakMap;mu.exports=pp(hu)&&/native code/.test(String(hu))});var $e=d((tO,bu)=>{bu.exports=function(e,r){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:r}}});var Lr=d((nO,Eu)=>{var yp=ue(),hp=fe(),mp=$e();Eu.exports=yp?function(e,r,t){return hp.f(e,r,mp(1,t))}:function(e,r,t){return e[r]=t,e}});var Bt=d((aO,Tu)=>{var gp=Hn(),bp=Vr(),Su=gp("keys");Tu.exports=function(e){return Su[e]||(Su[e]=bp(e))}});var Ur=d((iO,Ou)=>{Ou.exports={}});var $r=d((oO,Ru)=>{var Ep=gu(),wu=se(),Sp=Ee(),Tp=Lr(),na=ce(),aa=Pt(),Op=Bt(),Ip=Ur(),Iu="Object already initialized",ia=wu.TypeError,wp=wu.WeakMap,Ft,kr,Vt,Rp=i(function(e){return Vt(e)?kr(e):Ft(e,{})},"enforce"),qp=i(function(e){return function(r){var t;if(!Sp(r)||(t=kr(r)).type!==e)throw ia("Incompatible receiver, "+e+" required");return t}},"getterFor");Ep||aa.state?(Ie=aa.state||(aa.state=new wp),Ie.get=Ie.get,Ie.has=Ie.has,Ie.set=Ie.set,Ft=i(function(e,r){if(Ie.has(e))throw ia(Iu);return r.facade=e,Ie.set(e,r),r},"set"),kr=i(function(e){return Ie.get(e)||{}},"get"),Vt=i(function(e){return Ie.has(e)},"has")):(tr=Op("state"),Ip[tr]=!0,Ft=i(function(e,r){if(na(e,tr))throw ia(Iu);return r.facade=e,Tp(e,tr,r),r},"set"),kr=i(function(e){return na(e,tr)?e[tr]:{}},"get"),Vt=i(function(e){return na(e,tr)},"has"));var Ie,tr;Ru.exports={set:Ft,get:kr,has:Vt,enforce:Rp,getterFor:qp}});var ua=d((uO,Au)=>{var Ap=X(),_p=Z(),Lt=ce(),oa=ue(),Dp=ea().CONFIGURABLE,xp=ta(),qu=$r(),Cp=qu.enforce,Pp=qu.get,Ut=Object.defineProperty,Np=oa&&!Ap(function(){return Ut(function(){},"length",{value:8}).length!==8}),jp=String(String).split("String"),Mp=Au.exports=function(e,r,t){String(r).slice(0,7)==="Symbol("&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),t&&t.getter&&(r="get "+r),t&&t.setter&&(r="set "+r),(!Lt(e,"name")||Dp&&e.name!==r)&&(oa?Ut(e,"name",{value:r,configurable:!0}):e.name=r),Np&&t&&Lt(t,"arity")&&e.length!==t.arity&&Ut(e,"length",{value:t.arity});try{t&&Lt(t,"constructor")&&t.constructor?oa&&Ut(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch{}var a=Cp(e);return Lt(a,"source")||(a.source=jp.join(typeof r=="string"?r:"")),e};Function.prototype.toString=Mp(i(function(){return _p(this)&&Pp(this).source||xp(this)},"toString"),"toString")});var Ce=d((sO,_u)=>{var Bp=Z(),Fp=fe(),Vp=ua(),Lp=Ct();_u.exports=function(e,r,t,a){a||(a={});var s=a.enumerable,m=a.name!==void 0?a.name:r;if(Bp(t)&&Vp(t,m,a),a.global)s?e[r]=t:Lp(r,t);else{try{a.unsafe?e[r]&&(s=!0):delete e[r]}catch{}s?e[r]=t:Fp.f(e,r,{value:t,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}});var nr=d((cO,xu)=>{var Du=re(),Up=Du({}.toString),kp=Du("".slice);xu.exports=function(e){return kp(Up(e),8,-1)}});var Pu=d((fO,Cu)=>{var $p=re(),Kp=X(),Gp=nr(),sa=Object,Hp=$p("".split);Cu.exports=Kp(function(){return!sa("z").propertyIsEnumerable(0)})?function(e){return Gp(e)=="String"?Hp(e,""):sa(e)}:sa});var ar=d((lO,Nu)=>{var zp=Pu(),Yp=zn();Nu.exports=function(e){return zp(Yp(e))}});var Mu=d((vO,ju)=>{var Wp=Math.ceil,Jp=Math.floor;ju.exports=Math.trunc||i(function(r){var t=+r;return(t>0?Jp:Wp)(t)},"trunc")});var ca=d((dO,Bu)=>{var Xp=Mu();Bu.exports=function(e){var r=+e;return r!==r||r===0?0:Xp(r)}});var fa=d((pO,Fu)=>{var Qp=ca(),Zp=Math.max,ey=Math.min;Fu.exports=function(e,r){var t=Qp(e);return t<0?Zp(t+r,0):ey(t,r)}});var Lu=d((yO,Vu)=>{var ry=ca(),ty=Math.min;Vu.exports=function(e){return e>0?ty(ry(e),9007199254740991):0}});var Kr=d((hO,Uu)=>{var ny=Lu();Uu.exports=function(e){return ny(e.length)}});var Ku=d((mO,$u)=>{var ay=ar(),iy=fa(),oy=Kr(),ku=i(function(e){return function(r,t,a){var s=ay(r),m=oy(s),c=iy(a,m),E;if(e&&t!=t){for(;m>c;)if(E=s[c++],E!=E)return!0}else for(;m>c;c++)if((e||c in s)&&s[c]===t)return e||c||0;return!e&&-1}},"createMethod");$u.exports={includes:ku(!0),indexOf:ku(!1)}});var va=d((gO,Hu)=>{var uy=re(),la=ce(),sy=ar(),cy=Ku().indexOf,fy=Ur(),Gu=uy([].push);Hu.exports=function(e,r){var t=sy(e),a=0,s=[],m;for(m in t)!la(fy,m)&&la(t,m)&&Gu(s,m);for(;r.length>a;)la(t,m=r[a++])&&(~cy(s,m)||Gu(s,m));return s}});var kt=d((bO,zu)=>{zu.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]});var da=d((EO,Yu)=>{var ly=va(),vy=kt();Yu.exports=Object.keys||i(function(r){return ly(r,vy)},"keys")});var Ju=d(Wu=>{var dy=ue(),py=Mn(),yy=fe(),hy=pe(),my=ar(),gy=da();Wu.f=dy&&!py?Object.defineProperties:i(function(r,t){hy(r);for(var a=my(t),s=gy(t),m=s.length,c=0,E;m>c;)yy.f(r,E=s[c++],a[E]);return r},"defineProperties")});var Qu=d((TO,Xu)=>{var by=Te();Xu.exports=by("document","documentElement")});var ir=d((OO,is)=>{var Ey=pe(),Sy=Ju(),Zu=kt(),Ty=Ur(),Oy=Qu(),Iy=Nn(),wy=Bt(),es=">",rs="<",ya="prototype",ha="script",ns=wy("IE_PROTO"),pa=i(function(){},"EmptyConstructor"),as=i(function(e){return rs+ha+es+e+rs+"/"+ha+es},"scriptTag"),ts=i(function(e){e.write(as("")),e.close();var r=e.parentWindow.Object;return e=null,r},"NullProtoObjectViaActiveX"),Ry=i(function(){var e=Iy("iframe"),r="java"+ha+":",t;return e.style.display="none",Oy.appendChild(e),e.src=String(r),t=e.contentWindow.document,t.open(),t.write(as("document.F=Object")),t.close(),t.F},"NullProtoObjectViaIFrame"),$t,Kt=i(function(){try{$t=new ActiveXObject("htmlfile")}catch{}Kt=typeof document<"u"?document.domain&&$t?ts($t):Ry():ts($t);for(var e=Zu.length;e--;)delete Kt[ya][Zu[e]];return Kt()},"NullProtoObject");Ty[ns]=!0;is.exports=Object.create||i(function(r,t){var a;return r!==null?(pa[ya]=Ey(r),a=new pa,pa[ya]=null,a[ns]=r):a=Kt(),t===void 0?a:Sy.f(a,t)},"create")});var Gt=d((IO,us)=>{var qy=Se(),Ay=qy("toStringTag"),os={};os[Ay]="z";us.exports=String(os)==="[object z]"});var br=d((wO,ss)=>{var _y=Gt(),Dy=Z(),Ht=nr(),xy=Se(),Cy=xy("toStringTag"),Py=Object,Ny=Ht(function(){return arguments}())=="Arguments",jy=i(function(e,r){try{return e[r]}catch{}},"tryGet");ss.exports=_y?Ht:function(e){var r,t,a;return e===void 0?"Undefined":e===null?"Null":typeof(t=jy(r=Py(e),Cy))=="string"?t:Ny?Ht(r):(a=Ht(r))=="Object"&&Dy(r.callee)?"Arguments":a}});var fs=d((RO,cs)=>{var My=br(),By=String;cs.exports=function(e){if(My(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return By(e)}});var zt=d((qO,ls)=>{var Fy=fs();ls.exports=function(e,r){return e===void 0?arguments.length<2?"":r:Fy(e)}});var ma=d((AO,ds)=>{"use strict";var Vy=ue(),Ly=X(),Uy=pe(),ky=ir(),vs=zt(),Yt=Error.prototype.toString,$y=Ly(function(){if(Vy){var e=ky(Object.defineProperty({},"name",{get:function(){return this===e}}));if(Yt.call(e)!=="true")return!0}return Yt.call({message:1,name:2})!=="2: 1"||Yt.call({})!=="Error"});ds.exports=$y?i(function(){var r=Uy(this),t=vs(r.name,"Error"),a=vs(r.message);return t?a?t+": "+a:t:a},"toString"):Yt});var hs=d(()=>{var Ky=Ce(),ps=ma(),ys=Error.prototype;ys.toString!==ps&&Ky(ys,"toString",ps)});var gs=d((xO,ms)=>{var Gy=Se(),Hy=ir(),zy=fe().f,ga=Gy("unscopables"),ba=Array.prototype;ba[ga]==null&&zy(ba,ga,{configurable:!0,value:Hy(null)});ms.exports=function(e){ba[ga][e]=!0}});var Er=d((CO,bs)=>{bs.exports={}});var Os=d(Ts=>{"use strict";var Es={}.propertyIsEnumerable,Ss=Object.getOwnPropertyDescriptor,Yy=Ss&&!Es.call({1:2},1);Ts.f=Yy?i(function(r){var t=Ss(this,r);return!!t&&t.enumerable},"propertyIsEnumerable"):Es});var Ea=d(ws=>{var Wy=ue(),Jy=xe(),Xy=Os(),Qy=$e(),Zy=ar(),eh=jt(),rh=ce(),th=jn(),Is=Object.getOwnPropertyDescriptor;ws.f=Wy?Is:i(function(r,t){if(r=Zy(r),t=eh(t),th)try{return Is(r,t)}catch{}if(rh(r,t))return Qy(!Jy(Xy.f,r,t),r[t])},"getOwnPropertyDescriptor")});var Wt=d(Rs=>{var nh=va(),ah=kt(),ih=ah.concat("length","prototype");Rs.f=Object.getOwnPropertyNames||i(function(r){return nh(r,ih)},"getOwnPropertyNames")});var As=d(qs=>{qs.f=Object.getOwnPropertySymbols});var Ds=d((BO,_s)=>{var oh=Te(),uh=re(),sh=Wt(),ch=As(),fh=pe(),lh=uh([].concat);_s.exports=oh("Reflect","ownKeys")||i(function(r){var t=sh.f(fh(r)),a=ch.f;return a?lh(t,a(r)):t},"ownKeys")});var Ps=d((FO,Cs)=>{var xs=ce(),vh=Ds(),dh=Ea(),ph=fe();Cs.exports=function(e,r,t){for(var a=vh(r),s=ph.f,m=dh.f,c=0;c<a.length;c++){var E=a[c];!xs(e,E)&&!(t&&xs(t,E))&&s(e,E,m(r,E))}}});var Sa=d((VO,Ns)=>{var yh=X(),hh=Z(),mh=/#|\.prototype\./,Gr=i(function(e,r){var t=bh[gh(e)];return t==Sh?!0:t==Eh?!1:hh(r)?yh(r):!!r},"isForced"),gh=Gr.normalize=function(e){return String(e).replace(mh,".").toLowerCase()},bh=Gr.data={},Eh=Gr.NATIVE="N",Sh=Gr.POLYFILL="P";Ns.exports=Gr});var Ke=d((LO,js)=>{var Ta=se(),Th=Ea().f,Oh=Lr(),Ih=Ce(),wh=Ct(),Rh=Ps(),qh=Sa();js.exports=function(e,r){var t=e.target,a=e.global,s=e.stat,m,c,E,y,b,g;if(a?c=Ta:s?c=Ta[t]||wh(t,{}):c=(Ta[t]||{}).prototype,c)for(E in r){if(b=r[E],e.dontCallGetSet?(g=Th(c,E),y=g&&g.value):y=c[E],m=qh(a?E:t+(s?".":"#")+E,e.forced),!m&&y!==void 0){if(typeof b==typeof y)continue;Rh(b,y)}(e.sham||y&&y.sham)&&Oh(b,"sham",!0),Ih(c,E,b,e)}}});var Bs=d((UO,Ms)=>{var Ah=X();Ms.exports=!Ah(function(){function e(){}return i(e,"F"),e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})});var Ia=d((kO,Vs)=>{var _h=ce(),Dh=Z(),xh=Nt(),Ch=Bt(),Ph=Bs(),Fs=Ch("IE_PROTO"),Oa=Object,Nh=Oa.prototype;Vs.exports=Ph?Oa.getPrototypeOf:function(e){var r=xh(e);if(_h(r,Fs))return r[Fs];var t=r.constructor;return Dh(t)&&r instanceof t?t.prototype:r instanceof Oa?Nh:null}});var Aa=d(($O,ks)=>{"use strict";var jh=X(),Mh=Z(),Bh=Ee(),Fh=ir(),Ls=Ia(),Vh=Ce(),Lh=Se(),Uh=ke(),qa=Lh("iterator"),Us=!1,Pe,wa,Ra;[].keys&&(Ra=[].keys(),"next"in Ra?(wa=Ls(Ls(Ra)),wa!==Object.prototype&&(Pe=wa)):Us=!0);var kh=!Bh(Pe)||jh(function(){var e={};return Pe[qa].call(e)!==e});kh?Pe={}:Uh&&(Pe=Fh(Pe));Mh(Pe[qa])||Vh(Pe,qa,function(){return this});ks.exports={IteratorPrototype:Pe,BUGGY_SAFARI_ITERATORS:Us}});var Hr=d((KO,Ks)=>{var $h=fe().f,Kh=ce(),Gh=Se(),$s=Gh("toStringTag");Ks.exports=function(e,r,t){e&&!t&&(e=e.prototype),e&&!Kh(e,$s)&&$h(e,$s,{configurable:!0,value:r})}});var Hs=d((GO,Gs)=>{"use strict";var Hh=Aa().IteratorPrototype,zh=ir(),Yh=$e(),Wh=Hr(),Jh=Er(),Xh=i(function(){return this},"returnThis");Gs.exports=function(e,r,t,a){var s=r+" Iterator";return e.prototype=zh(Hh,{next:Yh(+!a,t)}),Wh(e,s,!1,!0),Jh[s]=Xh,e}});var Ys=d((HO,zs)=>{var Qh=Z(),Zh=String,em=TypeError;zs.exports=function(e){if(typeof e=="object"||Qh(e))return e;throw em("Can't set "+Zh(e)+" as a prototype")}});var _a=d((zO,Ws)=>{var rm=re(),tm=pe(),nm=Ys();Ws.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=!1,r={},t;try{t=rm(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(r,[]),e=r instanceof Array}catch{}return i(function(s,m){return tm(s),nm(m),e?t(s,m):s.__proto__=m,s},"setPrototypeOf")}():void 0)});var xa=d((YO,ic)=>{"use strict";var am=Ke(),im=xe(),Jt=ke(),nc=ea(),om=Z(),um=Hs(),Js=Ia(),Xs=_a(),sm=Hr(),cm=Lr(),Da=Ce(),fm=Se(),Qs=Er(),ac=Aa(),lm=nc.PROPER,vm=nc.CONFIGURABLE,Zs=ac.IteratorPrototype,Xt=ac.BUGGY_SAFARI_ITERATORS,zr=fm("iterator"),ec="keys",Yr="values",rc="entries",tc=i(function(){return this},"returnThis");ic.exports=function(e,r,t,a,s,m,c){um(t,r,a);var E=i(function(C){if(C===s&&h)return h;if(!Xt&&C in g)return g[C];switch(C){case ec:return i(function(){return new t(this,C)},"keys");case Yr:return i(function(){return new t(this,C)},"values");case rc:return i(function(){return new t(this,C)},"entries")}return function(){return new t(this)}},"getIterationMethod"),y=r+" Iterator",b=!1,g=e.prototype,A=g[zr]||g["@@iterator"]||s&&g[s],h=!Xt&&A||E(s),T=r=="Array"&&g.entries||A,D,M,Y;if(T&&(D=Js(T.call(new e)),D!==Object.prototype&&D.next&&(!Jt&&Js(D)!==Zs&&(Xs?Xs(D,Zs):om(D[zr])||Da(D,zr,tc)),sm(D,y,!0,!0),Jt&&(Qs[y]=tc))),lm&&s==Yr&&A&&A.name!==Yr&&(!Jt&&vm?cm(g,"name",Yr):(b=!0,h=i(function(){return im(A,this)},"values"))),s)if(M={values:E(Yr),keys:m?h:E(ec),entries:E(rc)},c)for(Y in M)(Xt||b||!(Y in g))&&Da(g,Y,M[Y]);else am({target:r,proto:!0,forced:Xt||b},M);return(!Jt||c)&&g[zr]!==h&&Da(g,zr,h,{name:s}),Qs[r]=h,M}});var Ca=d((WO,oc)=>{oc.exports=function(e,r){return{value:e,done:r}}});var vc=d((JO,lc)=>{"use strict";var dm=ar(),Pa=gs(),uc=Er(),cc=$r(),pm=fe().f,ym=xa(),Qt=Ca(),hm=ke(),mm=ue(),fc="Array Iterator",gm=cc.set,bm=cc.getterFor(fc);lc.exports=ym(Array,"Array",function(e,r){gm(this,{type:fc,target:dm(e),index:0,kind:r})},function(){var e=bm(this),r=e.target,t=e.kind,a=e.index++;return!r||a>=r.length?(e.target=void 0,Qt(void 0,!0)):t=="keys"?Qt(a,!1):t=="values"?Qt(r[a],!1):Qt([a,r[a]],!1)},"values");var sc=uc.Arguments=uc.Array;Pa("keys");Pa("values");Pa("entries");if(!hm&&mm&&sc.name!=="values")try{pm(sc,"name",{value:"values"})}catch{}});var pc=d(()=>{var Em=Ke(),Sm=Nt(),dc=da(),Tm=X(),Om=Tm(function(){dc(1)});Em({target:"Object",stat:!0,forced:Om},{keys:i(function(r){return dc(Sm(r))},"keys")})});var hc=d((ZO,yc)=>{"use strict";var Im=Gt(),wm=br();yc.exports=Im?{}.toString:i(function(){return"[object "+wm(this)+"]"},"toString")});var mc=d(()=>{var Rm=Gt(),qm=Ce(),Am=hc();Rm||qm(Object.prototype,"toString",Am,{unsafe:!0})});var Na=d((tI,gc)=>{"use strict";var _m=jt(),Dm=fe(),xm=$e();gc.exports=function(e,r,t){var a=_m(r);a in e?Dm.f(e,a,xm(0,t)):e[a]=t}});var Sc=d((nI,Ec)=>{var bc=fa(),Cm=Kr(),Pm=Na(),Nm=Array,jm=Math.max;Ec.exports=function(e,r,t){for(var a=Cm(e),s=bc(r,a),m=bc(t===void 0?a:t,a),c=Nm(jm(m-s,0)),E=0;s<m;s++,E++)Pm(c,E,e[s]);return c.length=E,c}});var wc=d((aI,Ic)=>{var Mm=nr(),Bm=ar(),Tc=Wt().f,Fm=Sc(),Oc=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],Vm=i(function(e){try{return Tc(e)}catch{return Fm(Oc)}},"getWindowNames");Ic.exports.f=i(function(r){return Oc&&Mm(r)=="Window"?Vm(r):Tc(Bm(r))},"getOwnPropertyNames")});var qc=d((iI,Rc)=>{var Lm=X();Rc.exports=Lm(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})});var Dc=d((oI,_c)=>{var Um=X(),km=Ee(),$m=nr(),Ac=qc(),Zt=Object.isExtensible,Km=Um(function(){Zt(1)});_c.exports=Km||Ac?i(function(r){return!km(r)||Ac&&$m(r)=="ArrayBuffer"?!1:Zt?Zt(r):!0},"isExtensible"):Zt});var Cc=d((uI,xc)=>{var Gm=X();xc.exports=!Gm(function(){return Object.isExtensible(Object.preventExtensions({}))})});var Fa=d((sI,jc)=>{var Hm=Ke(),zm=re(),Ym=Ur(),Wm=Ee(),ja=ce(),Jm=fe().f,Pc=Wt(),Xm=wc(),Ma=Dc(),Qm=Vr(),Zm=Cc(),Nc=!1,Ne=Qm("meta"),eg=0,Ba=i(function(e){Jm(e,Ne,{value:{objectID:"O"+eg++,weakData:{}}})},"setMetadata"),rg=i(function(e,r){if(!Wm(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!ja(e,Ne)){if(!Ma(e))return"F";if(!r)return"E";Ba(e)}return e[Ne].objectID},"fastKey"),tg=i(function(e,r){if(!ja(e,Ne)){if(!Ma(e))return!0;if(!r)return!1;Ba(e)}return e[Ne].weakData},"getWeakData"),ng=i(function(e){return Zm&&Nc&&Ma(e)&&!ja(e,Ne)&&Ba(e),e},"onFreeze"),ag=i(function(){ig.enable=function(){},Nc=!0;var e=Pc.f,r=zm([].splice),t={};t[Ne]=1,e(t).length&&(Pc.f=function(a){for(var s=e(a),m=0,c=s.length;m<c;m++)if(s[m]===Ne){r(s,m,1);break}return s},Hm({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Xm.f}))},"enable"),ig=jc.exports={enable:ag,fastKey:rg,getWeakData:tg,onFreeze:ng};Ym[Ne]=!0});var Bc=d((cI,Mc)=>{var og=nr(),ug=re();Mc.exports=function(e){if(og(e)==="Function")return ug(e)}});var Va=d((fI,Vc)=>{var Fc=Bc(),sg=Dt(),cg=wt(),fg=Fc(Fc.bind);Vc.exports=function(e,r){return sg(e),r===void 0?e:cg?fg(e,r):function(){return e.apply(r,arguments)}}});var Uc=d((lI,Lc)=>{var lg=Se(),vg=Er(),dg=lg("iterator"),pg=Array.prototype;Lc.exports=function(e){return e!==void 0&&(vg.Array===e||pg[dg]===e)}});var La=d((vI,$c)=>{var yg=br(),kc=xt(),hg=er(),mg=Er(),gg=Se(),bg=gg("iterator");$c.exports=function(e){if(!hg(e))return kc(e,bg)||kc(e,"@@iterator")||mg[yg(e)]}});var Gc=d((dI,Kc)=>{var Eg=xe(),Sg=Dt(),Tg=pe(),Og=_t(),Ig=La(),wg=TypeError;Kc.exports=function(e,r){var t=arguments.length<2?Ig(e):r;if(Sg(t))return Tg(Eg(t,e));throw wg(Og(e)+" is not iterable")}});var Yc=d((pI,zc)=>{var Rg=xe(),Hc=pe(),qg=xt();zc.exports=function(e,r,t){var a,s;Hc(e);try{if(a=qg(e,"return"),!a){if(r==="throw")throw t;return t}a=Rg(a,e)}catch(m){s=!0,a=m}if(r==="throw")throw t;if(s)throw a;return Hc(a),t}});var rn=d((yI,Qc)=>{var Ag=Va(),_g=xe(),Dg=pe(),xg=_t(),Cg=Uc(),Pg=Kr(),Wc=Fr(),Ng=Gc(),jg=La(),Jc=Yc(),Mg=TypeError,en=i(function(e,r){this.stopped=e,this.result=r},"Result"),Xc=en.prototype;Qc.exports=function(e,r,t){var a=t&&t.that,s=!!(t&&t.AS_ENTRIES),m=!!(t&&t.IS_RECORD),c=!!(t&&t.IS_ITERATOR),E=!!(t&&t.INTERRUPTED),y=Ag(r,a),b,g,A,h,T,D,M,Y=i(function(P){return b&&Jc(b,"normal",P),new en(!0,P)},"stop"),C=i(function(P){return s?(Dg(P),E?y(P[0],P[1],Y):y(P[0],P[1])):E?y(P,Y):y(P)},"callFn");if(m)b=e.iterator;else if(c)b=e;else{if(g=jg(e),!g)throw Mg(xg(e)+" is not iterable");if(Cg(g)){for(A=0,h=Pg(e);h>A;A++)if(T=C(e[A]),T&&Wc(Xc,T))return T;return new en(!1)}b=Ng(e,g)}for(D=m?e.next:b.next;!(M=_g(D,b)).done;){try{T=C(M.value)}catch(P){Jc(b,"throw",P)}if(typeof T=="object"&&T&&Wc(Xc,T))return T}return new en(!1)}});var Wr=d((hI,Zc)=>{var Bg=Fr(),Fg=TypeError;Zc.exports=function(e,r){if(Bg(r,e))return e;throw Fg("Incorrect invocation")}});var af=d((mI,nf)=>{var Vg=Se(),rf=Vg("iterator"),tf=!1;try{ef=0,Ua={next:function(){return{done:!!ef++}},return:function(){tf=!0}},Ua[rf]=function(){return this},Array.from(Ua,function(){throw 2})}catch{}var ef,Ua;nf.exports=function(e,r){if(!r&&!tf)return!1;var t=!1;try{var a={};a[rf]=function(){return{next:function(){return{done:t=!0}}}},e(a)}catch{}return t}});var ka=d((gI,uf)=>{var Lg=Z(),Ug=Ee(),of=_a();uf.exports=function(e,r,t){var a,s;return of&&Lg(a=r.constructor)&&a!==t&&Ug(s=a.prototype)&&s!==t.prototype&&of(e,s),e}});var Ga=d((bI,cf)=>{"use strict";var kg=Ke(),$g=se(),Kg=re(),sf=Sa(),Gg=Ce(),Hg=Fa(),zg=rn(),Yg=Wr(),Wg=Z(),Jg=er(),$a=Ee(),Ka=X(),Xg=af(),Qg=Hr(),Zg=ka();cf.exports=function(e,r,t){var a=e.indexOf("Map")!==-1,s=e.indexOf("Weak")!==-1,m=a?"set":"add",c=$g[e],E=c&&c.prototype,y=c,b={},g=i(function(C){var P=Kg(E[C]);Gg(E,C,C=="add"?i(function(te){return P(this,te===0?0:te),this},"add"):C=="delete"?function(F){return s&&!$a(F)?!1:P(this,F===0?0:F)}:C=="get"?i(function(te){return s&&!$a(te)?void 0:P(this,te===0?0:te)},"get"):C=="has"?i(function(te){return s&&!$a(te)?!1:P(this,te===0?0:te)},"has"):i(function(te,qe){return P(this,te===0?0:te,qe),this},"set"))},"fixMethod"),A=sf(e,!Wg(c)||!(s||E.forEach&&!Ka(function(){new c().entries().next()})));if(A)y=t.getConstructor(r,e,a,m),Hg.enable();else if(sf(e,!0)){var h=new y,T=h[m](s?{}:-0,1)!=h,D=Ka(function(){h.has(1)}),M=Xg(function(C){new c(C)}),Y=!s&&Ka(function(){for(var C=new c,P=5;P--;)C[m](P,P);return!C.has(-0)});M||(y=r(function(C,P){Yg(C,E);var F=Zg(new c,C,y);return Jg(P)||zg(P,F[m],{that:F,AS_ENTRIES:a}),F}),y.prototype=E,E.constructor=y),(D||Y)&&(g("delete"),g("has"),a&&g("get")),(Y||T)&&g(m),s&&E.clear&&delete E.clear}return b[e]=y,kg({global:!0,constructor:!0,forced:y!=c},b),Qg(y,e),s||t.setStrong(y,e,a),y}});var lf=d((EI,ff)=>{var eb=Ce();ff.exports=function(e,r,t){for(var a in r)eb(e,a,r[a],t);return e}});var pf=d((SI,df)=>{"use strict";var rb=Te(),tb=fe(),nb=Se(),ab=ue(),vf=nb("species");df.exports=function(e){var r=rb(e),t=tb.f;ab&&r&&!r[vf]&&t(r,vf,{configurable:!0,get:function(){return this}})}});var za=d((TI,bf)=>{"use strict";var ib=fe().f,ob=ir(),yf=lf(),ub=Va(),sb=Wr(),cb=er(),fb=rn(),lb=xa(),tn=Ca(),vb=pf(),Jr=ue(),hf=Fa().fastKey,gf=$r(),mf=gf.set,Ha=gf.getterFor;bf.exports={getConstructor:function(e,r,t,a){var s=e(function(b,g){sb(b,m),mf(b,{type:r,index:ob(null),first:void 0,last:void 0,size:0}),Jr||(b.size=0),cb(g)||fb(g,b[a],{that:b,AS_ENTRIES:t})}),m=s.prototype,c=Ha(r),E=i(function(b,g,A){var h=c(b),T=y(b,g),D,M;return T?T.value=A:(h.last=T={index:M=hf(g,!0),key:g,value:A,previous:D=h.last,next:void 0,removed:!1},h.first||(h.first=T),D&&(D.next=T),Jr?h.size++:b.size++,M!=="F"&&(h.index[M]=T)),b},"define"),y=i(function(b,g){var A=c(b),h=hf(g),T;if(h!=="F")return A.index[h];for(T=A.first;T;T=T.next)if(T.key==g)return T},"getEntry");return yf(m,{clear:i(function(){for(var g=this,A=c(g),h=A.index,T=A.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=void 0),delete h[T.index],T=T.next;A.first=A.last=void 0,Jr?A.size=0:g.size=0},"clear"),delete:function(b){var g=this,A=c(g),h=y(g,b);if(h){var T=h.next,D=h.previous;delete A.index[h.index],h.removed=!0,D&&(D.next=T),T&&(T.previous=D),A.first==h&&(A.first=T),A.last==h&&(A.last=D),Jr?A.size--:g.size--}return!!h},forEach:i(function(g){for(var A=c(this),h=ub(g,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:A.first;)for(h(T.value,T.key,this);T&&T.removed;)T=T.previous},"forEach"),has:i(function(g){return!!y(this,g)},"has")}),yf(m,t?{get:i(function(g){var A=y(this,g);return A&&A.value},"get"),set:i(function(g,A){return E(this,g===0?0:g,A)},"set")}:{add:i(function(g){return E(this,g=g===0?0:g,g)},"add")}),Jr&&ib(m,"size",{get:function(){return c(this).size}}),s},setStrong:function(e,r,t){var a=r+" Iterator",s=Ha(r),m=Ha(a);lb(e,r,function(c,E){mf(this,{type:a,target:c,state:s(c),kind:E,last:void 0})},function(){for(var c=m(this),E=c.kind,y=c.last;y&&y.removed;)y=y.previous;return!c.target||!(c.last=y=y?y.next:c.state.first)?(c.target=void 0,tn(void 0,!0)):E=="keys"?tn(y.key,!1):E=="values"?tn(y.value,!1):tn([y.key,y.value],!1)},t?"entries":"values",!t,!0),vb(r)}}});var Ef=d(()=>{"use strict";var db=Ga(),pb=za();db("Map",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Map")},pb)});var Sf=d(()=>{Ef()});var Tf=d(()=>{"use strict";var yb=Ga(),hb=za();yb("Set",function(e){return i(function(){return e(this,arguments.length?arguments[0]:void 0)},"Set")},hb)});var Of=d(()=>{Tf()});var nn=d((xI,If)=>{var mb=nr(),gb=se();If.exports=mb(gb.process)=="process"});var Rf=d((CI,wf)=>{var bb=nn();wf.exports=function(e){try{if(bb)return Function('return require("'+e+'")')()}catch{}}});var _f=d((PI,Af)=>{var qf=ua(),Eb=fe();Af.exports=function(e,r,t){return t.get&&qf(t.get,r,{getter:!0}),t.set&&qf(t.set,r,{setter:!0}),Eb.f(e,r,t)}});var Ya=d((NI,Df)=>{Df.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}});var Wa=d((jI,Pf)=>{var Sb=re(),xf=Error,Tb=Sb("".replace),Ob=function(e){return String(xf(e).stack)}("zxcasd"),Cf=/\n\s*at [^:]*:[^\n]*/,Ib=Cf.test(Ob);Pf.exports=function(e,r){if(Ib&&typeof e=="string"&&!xf.prepareStackTrace)for(;r--;)e=Tb(e,Cf,"");return e}});var Kf=d(()=>{"use strict";var wb=Ke(),Rb=Rf(),un=Te(),ri=X(),qb=ir(),ti=$e(),sn=fe().f,Ab=Ce(),an=_f(),on=ce(),_b=Wr(),Db=pe(),Mf=ma(),Nf=zt(),Sr=Ya(),xb=Wa(),Bf=$r(),ni=ue(),Ff=ke(),Tr="DOMException",ei="DATA_CLONE_ERR",fn=un("Error"),je=un(Tr)||function(){try{var e=un("MessageChannel")||Rb("worker_threads").MessageChannel;new e().port1.postMessage(new WeakMap)}catch(r){if(r.name==ei&&r.code==25)return r.constructor}}(),Cb=je&&je.prototype,Vf=fn.prototype,Pb=Bf.set,Nb=Bf.getterFor(Tr),jb="stack"in fn(Tr),Lf=i(function(e){return on(Sr,e)&&Sr[e].m?Sr[e].c:0},"codeFor"),ai=i(function(){_b(this,Qr);var r=arguments.length,t=Nf(r<1?void 0:arguments[0]),a=Nf(r<2?void 0:arguments[1],"Error"),s=Lf(a);if(Pb(this,{type:Tr,name:a,message:t,code:s}),ni||(this.name=a,this.message=t,this.code=s),jb){var m=fn(t);m.name=Tr,sn(this,"stack",ti(1,xb(m.stack,1)))}},"DOMException"),Qr=ai.prototype=qb(Vf),Uf=i(function(e){return{enumerable:!0,configurable:!0,get:e}},"createGetterDescriptor"),Ja=i(function(e){return Uf(function(){return Nb(this)[e]})},"getterFor");ni&&(an(Qr,"code",Ja("code")),an(Qr,"message",Ja("message")),an(Qr,"name",Ja("name")));sn(Qr,"constructor",ti(1,ai));var ln=ri(function(){return!(new je instanceof fn)}),kf=ln||ri(function(){return Vf.toString!==Mf||String(new je(1,2))!=="2: 1"}),$f=ln||ri(function(){return new je(1,"DataCloneError").code!==25}),Mb=ln||je[ei]!==25||Cb[ei]!==25,jf=Ff?kf||$f||Mb:ln;wb({global:!0,constructor:!0,forced:jf},{DOMException:jf?ai:je});var Zr=un(Tr),cn=Zr.prototype;kf&&(Ff||je===Zr)&&Ab(cn,"toString",Mf);$f&&ni&&je===Zr&&an(cn,"code",Uf(function(){return Lf(Db(this).name)}));for(Xa in Sr)on(Sr,Xa)&&(Qa=Sr[Xa],Xr=Qa.s,Za=ti(6,Qa.c),on(Zr,Xr)||sn(Zr,Xr,Za),on(cn,Xr)||sn(cn,Xr,Za));var Qa,Xr,Za,Xa});var Xf=d(()=>{"use strict";var Bb=Ke(),Fb=se(),vi=Te(),fi=$e(),li=fe().f,Gf=ce(),Vb=Wr(),Lb=ka(),Hf=zt(),ii=Ya(),Ub=Wa(),kb=ue(),Wf=ke(),rt="DOMException",Jf=vi("Error"),tt=vi(rt),di=i(function(){Vb(this,$b);var r=arguments.length,t=Hf(r<1?void 0:arguments[0]),a=Hf(r<2?void 0:arguments[1],"Error"),s=new tt(t,a),m=Jf(t);return m.name=rt,li(s,"stack",fi(1,Ub(m.stack,1))),Lb(s,this,di),s},"DOMException"),$b=di.prototype=tt.prototype,Kb="stack"in Jf(rt),Gb="stack"in new tt(1,2),oi=tt&&kb&&Object.getOwnPropertyDescriptor(Fb,rt),Hb=!!oi&&!(oi.writable&&oi.configurable),zf=Kb&&!Hb&&!Gb;Bb({global:!0,constructor:!0,forced:Wf||zf},{DOMException:zf?di:tt});var et=vi(rt),Yf=et.prototype;if(Yf.constructor!==et){Wf||li(Yf,"constructor",fi(1,et));for(ui in ii)Gf(ii,ui)&&(si=ii[ui],ci=si.s,Gf(et,ci)||li(et,ci,fi(6,si.c)))}var si,ci,ui});var Zf=d(()=>{var zb=Te(),Yb=Hr(),Qf="DOMException";Yb(zb(Qf),Qf)});var il=d((kI,al)=>{var Wb=re(),Jb=X(),el=Z(),Xb=br(),Qb=Te(),Zb=ta(),rl=i(function(){},"noop"),eE=[],tl=Qb("Reflect","construct"),pi=/^\s*(?:class|function)\b/,rE=Wb(pi.exec),tE=!pi.exec(rl),nt=i(function(r){if(!el(r))return!1;try{return tl(rl,eE,r),!0}catch{return!1}},"isConstructor"),nl=i(function(r){if(!el(r))return!1;switch(Xb(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return tE||!!rE(pi,Zb(r))}catch{return!0}},"isConstructor");nl.sham=!0;al.exports=!tl||Jb(function(){var e;return nt(nt.call)||!nt(Object)||!nt(function(){e=!0})||e})?nl:nt});var ul=d(($I,ol)=>{var nE=TypeError;ol.exports=function(e,r){if(e<r)throw nE("Not enough arguments");return e}});var cl=d((KI,sl)=>{"use strict";var aE=pe();sl.exports=function(){var e=aE(this),r="";return e.hasIndices&&(r+="d"),e.global&&(r+="g"),e.ignoreCase&&(r+="i"),e.multiline&&(r+="m"),e.dotAll&&(r+="s"),e.unicode&&(r+="u"),e.unicodeSets&&(r+="v"),e.sticky&&(r+="y"),r}});var vl=d((GI,ll)=>{var iE=xe(),oE=ce(),uE=Fr(),sE=cl(),fl=RegExp.prototype;ll.exports=function(e){var r=e.flags;return r===void 0&&!("flags"in fl)&&!oE(e,"flags")&&uE(fl,e)?iE(sE,e):r}});var pl=d((HI,dl)=>{var vn=re(),at=Map.prototype;dl.exports={Map,set:vn(at.set),get:vn(at.get),has:vn(at.has),remove:vn(at.delete),proto:at}});var hl=d((zI,yl)=>{var yi=re(),Or=Set.prototype;yl.exports={Set,add:yi(Or.add),has:yi(Or.has),remove:yi(Or.delete),proto:Or,$has:Or.has,$keys:Or.keys}});var gl=d((YI,ml)=>{var cE=X(),fE=$e();ml.exports=!cE(function(){var e=Error("a");return"stack"in e?(Object.defineProperty(e,"stack",fE(1,7)),e.stack!==7):!0})});var hi=d((WI,bl)=>{bl.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"});var Sl=d((JI,El)=>{var lE=hi(),vE=nn();El.exports=!lE&&!vE&&typeof window=="object"&&typeof document=="object"});var xl=d(()=>{var dE=ke(),pE=Ke(),H=se(),wi=Te(),ut=re(),yn=X(),yE=Vr(),Si=Z(),hE=il(),mE=er(),Ti=Ee(),gE=At(),bE=rn(),Ol=pe(),Il=br(),EE=ce(),SE=Na(),mi=Lr(),dn=Kr(),TE=ul(),OE=vl(),hn=pl(),wl=hl(),IE=gl(),gi=Ln(),wE=Sl(),RE=hi(),qE=nn(),it=H.Object,AE=H.Array,Rl=H.Date,st=H.Error,_E=H.EvalError,DE=H.RangeError,xE=H.ReferenceError,CE=H.SyntaxError,ql=H.TypeError,PE=H.URIError,NE=H.PerformanceMark,Ir=H.WebAssembly,jE=Ir&&Ir.CompileError||st,ME=Ir&&Ir.LinkError||st,BE=Ir&&Ir.RuntimeError||st,or=wi("DOMException"),Oi=hn.Map,Al=hn.has,FE=hn.get,pn=hn.set,VE=wl.Set,LE=wl.add,UE=wi("Object","keys"),kE=ut([].push),$E=ut((!0).valueOf),KE=ut(1 .valueOf),GE=ut("".valueOf),HE=ut(Rl.prototype.getTime),Ii=yE("structuredClone"),ot="DataCloneError",bi="Transferring",_l=i(function(e){return!yn(function(){var r=new H.Set([7]),t=e(r),a=e(it(7));return t==r||!t.has(7)||typeof a!="object"||a!=7})&&e},"checkBasicSemantic"),Tl=i(function(e,r){return!yn(function(){var t=new r,a=e({a:t,b:t});return!(a&&a.a===a.b&&a.a instanceof r&&a.a.stack===t.stack)})},"checkErrorsCloning"),zE=i(function(e){return!yn(function(){var r=e(new H.AggregateError([1],Ii,{cause:3}));return r.name!="AggregateError"||r.errors[0]!=1||r.message!=Ii||r.cause!=3})},"checkNewErrorsCloningSemantic"),He=H.structuredClone,YE=dE||!Tl(He,st)||!Tl(He,or)||!zE(He),WE=!He&&_l(function(e){return new NE(Ii,{detail:e}).detail}),Ge=_l(He)||WE,Ei=i(function(e){throw new or("Uncloneable type: "+e,ot)},"throwUncloneable"),le=i(function(e,r){throw new or((r||"Cloning")+" of "+e+" cannot be properly polyfilled in this engine",ot)},"throwUnpolyfillable"),JE=i(function(){var e;try{e=new H.DataTransfer}catch{try{e=new H.ClipboardEvent("").clipboardData}catch{}}return e&&e.items&&e.files?e:null},"createDataTransfer"),oe=i(function(e,r){if(gE(e)&&Ei("Symbol"),!Ti(e))return e;if(r){if(Al(r,e))return FE(r,e)}else r=new Oi;var t=Il(e),a=!1,s,m,c,E,y,b,g,A,h,T;switch(t){case"Array":c=AE(dn(e)),a=!0;break;case"Object":c={},a=!0;break;case"Map":c=new Oi,a=!0;break;case"Set":c=new VE,a=!0;break;case"RegExp":c=new RegExp(e.source,OE(e));break;case"Error":switch(m=e.name,m){case"AggregateError":c=wi("AggregateError")([]);break;case"EvalError":c=_E();break;case"RangeError":c=DE();break;case"ReferenceError":c=xE();break;case"SyntaxError":c=CE();break;case"TypeError":c=ql();break;case"URIError":c=PE();break;case"CompileError":c=jE();break;case"LinkError":c=ME();break;case"RuntimeError":c=BE();break;default:c=st()}a=!0;break;case"DOMException":c=new or(e.message,e.name),a=!0;break;case"DataView":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":s=H[t],Ti(s)||le(t),c=new s(oe(e.buffer,r),e.byteOffset,t==="DataView"?e.byteLength:e.length);break;case"DOMQuad":try{c=new DOMQuad(oe(e.p1,r),oe(e.p2,r),oe(e.p3,r),oe(e.p4,r))}catch{Ge?c=Ge(e):le(t)}break;case"FileList":if(E=JE(),E){for(y=0,b=dn(e);y<b;y++)E.items.add(oe(e[y],r));c=E.files}else Ge?c=Ge(e):le(t);break;case"ImageData":try{c=new ImageData(oe(e.data,r),e.width,e.height,{colorSpace:e.colorSpace})}catch{Ge?c=Ge(e):le(t)}break;default:if(Ge)c=Ge(e);else switch(t){case"BigInt":c=it(e.valueOf());break;case"Boolean":c=it($E(e));break;case"Number":c=it(KE(e));break;case"String":c=it(GE(e));break;case"Date":c=new Rl(HE(e));break;case"ArrayBuffer":s=H.DataView,!s&&typeof e.slice!="function"&&le(t);try{if(typeof e.slice=="function")c=e.slice(0);else for(b=e.byteLength,c=new ArrayBuffer(b),h=new s(e),T=new s(c),y=0;y<b;y++)T.setUint8(y,h.getUint8(y))}catch{throw new or("ArrayBuffer is detached",ot)}break;case"SharedArrayBuffer":c=e;break;case"Blob":try{c=e.slice(0,e.size,e.type)}catch{le(t)}break;case"DOMPoint":case"DOMPointReadOnly":s=H[t];try{c=s.fromPoint?s.fromPoint(e):new s(e.x,e.y,e.z,e.w)}catch{le(t)}break;case"DOMRect":case"DOMRectReadOnly":s=H[t];try{c=s.fromRect?s.fromRect(e):new s(e.x,e.y,e.width,e.height)}catch{le(t)}break;case"DOMMatrix":case"DOMMatrixReadOnly":s=H[t];try{c=s.fromMatrix?s.fromMatrix(e):new s(e)}catch{le(t)}break;case"AudioData":case"VideoFrame":Si(e.clone)||le(t);try{c=e.clone()}catch{Ei(t)}break;case"File":try{c=new File([e],e.name,e)}catch{le(t)}break;case"CropTarget":case"CryptoKey":case"FileSystemDirectoryHandle":case"FileSystemFileHandle":case"FileSystemHandle":case"GPUCompilationInfo":case"GPUCompilationMessage":case"ImageBitmap":case"RTCCertificate":case"WebAssembly.Module":le(t);default:Ei(t)}}if(pn(r,e,c),a)switch(t){case"Array":case"Object":for(g=UE(e),y=0,b=dn(g);y<b;y++)A=g[y],SE(c,A,oe(e[A],r));break;case"Map":e.forEach(function(D,M){pn(c,oe(M,r),oe(D,r))});break;case"Set":e.forEach(function(D){LE(c,oe(D,r))});break;case"Error":mi(c,"message",oe(e.message,r)),EE(e,"cause")&&mi(c,"cause",oe(e.cause,r)),m=="AggregateError"&&(c.errors=oe(e.errors,r));case"DOMException":IE&&mi(c,"stack",oe(e.stack,r))}return c},"structuredCloneInternal"),Dl=He&&!yn(function(){if(RE&&gi>92||qE&&gi>94||wE&&gi>97)return!1;var e=new ArrayBuffer(8),r=He(e,{transfer:[e]});return e.byteLength!=0||r.byteLength!=8}),XE=i(function(e,r){if(!Ti(e))throw ql("Transfer option cannot be converted to a sequence");var t=[];bE(e,function(h){kE(t,Ol(h))});var a=0,s=dn(t),m,c,E,y,b,g,A;if(Dl)for(y=He(t,{transfer:t});a<s;)pn(r,t[a],y[a++]);else for(;a<s;){if(m=t[a++],Al(r,m))throw new or("Duplicate transferable",ot);switch(c=Il(m),c){case"ImageBitmap":E=H.OffscreenCanvas,hE(E)||le(c,bi);try{g=new E(m.width,m.height),A=g.getContext("bitmaprenderer"),A.transferFromImageBitmap(m),b=g.transferToImageBitmap()}catch{}break;case"AudioData":case"VideoFrame":(!Si(m.clone)||!Si(m.close))&&le(c,bi);try{b=m.clone(),m.close()}catch{}break;case"ArrayBuffer":case"MediaSourceHandle":case"MessagePort":case"OffscreenCanvas":case"ReadableStream":case"TransformStream":case"WritableStream":le(c,bi)}if(b===void 0)throw new or("This object cannot be transferred: "+c,ot);pn(r,m,b)}},"tryToTransfer");pE({global:!0,enumerable:!0,sham:!Dl,forced:YE},{structuredClone:i(function(r){var t=TE(arguments.length,1)>1&&!mE(arguments[1])?Ol(arguments[1]):void 0,a=t?t.transfer:void 0,s;return a!==void 0&&(s=new Oi,XE(a,s)),oe(r,s)},"structuredClone")})});var Pl=d((ZI,Cl)=>{var QE=se();Cl.exports=QE});var jl=d((ew,Nl)=>{hs();vc();pc();mc();Sf();Of();Kf();Xf();Zf();xl();var ZE=Pl();Nl.exports=ZE.structuredClone});var Bl=d((rw,Ml)=>{var eS=jl();Ml.exports=eS});var qi=d((Fl,Ri)=>{(function(e){if(typeof Fl=="object"&&typeof Ri<"u")Ri.exports=e();else if(typeof define=="function"&&define.amd)define([],e);else{var r;typeof window<"u"?r=window:typeof global<"u"?r=global:typeof self<"u"?r=self:r=this,r.localforage=e()}})(function(){var e,r,t;return i(function a(s,m,c){function E(g,A){if(!m[g]){if(!s[g]){var h=typeof jr=="function"&&jr;if(!A&&h)return h(g,!0);if(y)return y(g,!0);var T=new Error("Cannot find module '"+g+"'");throw T.code="MODULE_NOT_FOUND",T}var D=m[g]={exports:{}};s[g][0].call(D.exports,function(M){var Y=s[g][1][M];return E(Y||M)},D,D.exports,a,s,m,c)}return m[g].exports}i(E,"s");for(var y=typeof jr=="function"&&jr,b=0;b<c.length;b++)E(c[b]);return E},"e")({1:[function(a,s,m){(function(c){"use strict";var E=c.MutationObserver||c.WebKitMutationObserver,y;if(E){var b=0,g=new E(M),A=c.document.createTextNode("");g.observe(A,{characterData:!0}),y=i(function(){A.data=b=++b%2},"scheduleDrain")}else if(!c.setImmediate&&typeof c.MessageChannel<"u"){var h=new c.MessageChannel;h.port1.onmessage=M,y=i(function(){h.port2.postMessage(0)},"scheduleDrain")}else"document"in c&&"onreadystatechange"in c.document.createElement("script")?y=i(function(){var C=c.document.createElement("script");C.onreadystatechange=function(){M(),C.onreadystatechange=null,C.parentNode.removeChild(C),C=null},c.document.documentElement.appendChild(C)},"scheduleDrain"):y=i(function(){setTimeout(M,0)},"scheduleDrain");var T,D=[];function M(){T=!0;for(var C,P,F=D.length;F;){for(P=D,D=[],C=-1;++C<F;)P[C]();F=D.length}T=!1}i(M,"nextTick"),s.exports=Y;function Y(C){D.push(C)===1&&!T&&y()}i(Y,"immediate")}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(a,s,m){"use strict";var c=a(1);function E(){}i(E,"INTERNAL");var y={},b=["REJECTED"],g=["FULFILLED"],A=["PENDING"];s.exports=h;function h(q){if(typeof q!="function")throw new TypeError("resolver must be a function");this.state=A,this.queue=[],this.outcome=void 0,q!==E&&Y(this,q)}i(h,"Promise"),h.prototype.catch=function(q){return this.then(null,q)},h.prototype.then=function(q,V){if(typeof q!="function"&&this.state===g||typeof V!="function"&&this.state===b)return this;var j=new this.constructor(E);if(this.state!==A){var k=this.state===g?q:V;D(j,k,this.outcome)}else this.queue.push(new T(j,q,V));return j};function T(q,V,j){this.promise=q,typeof V=="function"&&(this.onFulfilled=V,this.callFulfilled=this.otherCallFulfilled),typeof j=="function"&&(this.onRejected=j,this.callRejected=this.otherCallRejected)}i(T,"QueueItem"),T.prototype.callFulfilled=function(q){y.resolve(this.promise,q)},T.prototype.otherCallFulfilled=function(q){D(this.promise,this.onFulfilled,q)},T.prototype.callRejected=function(q){y.reject(this.promise,q)},T.prototype.otherCallRejected=function(q){D(this.promise,this.onRejected,q)};function D(q,V,j){c(function(){var k;try{k=V(j)}catch(ne){return y.reject(q,ne)}k===q?y.reject(q,new TypeError("Cannot resolve promise with itself")):y.resolve(q,k)})}i(D,"unwrap"),y.resolve=function(q,V){var j=C(M,V);if(j.status==="error")return y.reject(q,j.value);var k=j.value;if(k)Y(q,k);else{q.state=g,q.outcome=V;for(var ne=-1,de=q.queue.length;++ne<de;)q.queue[ne].callFulfilled(V)}return q},y.reject=function(q,V){q.state=b,q.outcome=V;for(var j=-1,k=q.queue.length;++j<k;)q.queue[j].callRejected(V);return q};function M(q){var V=q&&q.then;if(q&&(typeof q=="object"||typeof q=="function")&&typeof V=="function")return i(function(){V.apply(q,arguments)},"appyThen")}i(M,"getThen");function Y(q,V){var j=!1;function k(me){j||(j=!0,y.reject(q,me))}i(k,"onError");function ne(me){j||(j=!0,y.resolve(q,me))}i(ne,"onSuccess");function de(){V(ne,k)}i(de,"tryToUnwrap");var he=C(de);he.status==="error"&&k(he.value)}i(Y,"safelyResolveThenable");function C(q,V){var j={};try{j.value=q(V),j.status="success"}catch(k){j.status="error",j.value=k}return j}i(C,"tryCatch"),h.resolve=P;function P(q){return q instanceof this?q:y.resolve(new this(E),q)}i(P,"resolve"),h.reject=F;function F(q){var V=new this(E);return y.reject(V,q)}i(F,"reject"),h.all=te;function te(q){var V=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=q.length,k=!1;if(!j)return this.resolve([]);for(var ne=new Array(j),de=0,he=-1,me=new this(E);++he<j;)Ae(q[he],he);return me;function Ae(Cr,mt){V.resolve(Cr).then(gn,function(pr){k||(k=!0,y.reject(me,pr))});function gn(pr){ne[mt]=pr,++de===j&&!k&&(k=!0,y.resolve(me,ne))}i(gn,"resolveFromAll")}}i(te,"all"),h.race=qe;function qe(q){var V=this;if(Object.prototype.toString.call(q)!=="[object Array]")return this.reject(new TypeError("must be an array"));var j=q.length,k=!1;if(!j)return this.resolve([]);for(var ne=-1,de=new this(E);++ne<j;)he(q[ne]);return de;function he(me){V.resolve(me).then(function(Ae){k||(k=!0,y.resolve(de,Ae))},function(Ae){k||(k=!0,y.reject(de,Ae))})}}i(qe,"race")},{"1":1}],3:[function(a,s,m){(function(c){"use strict";typeof c.Promise!="function"&&(c.Promise=a(2))}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{"2":2}],4:[function(a,s,m){"use strict";var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};function E(n,u){if(!(n instanceof u))throw new TypeError("Cannot call a class as a function")}i(E,"_classCallCheck");function y(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}i(y,"getIDB");var b=y();function g(){try{if(!b||!b.open)return!1;var n=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),u=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!n||u)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}i(g,"isIndexedDBValid");function A(n,u){n=n||[],u=u||{};try{return new Blob(n,u)}catch(f){if(f.name!=="TypeError")throw f;for(var o=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,l=new o,v=0;v<n.length;v+=1)l.append(n[v]);return l.getBlob(u.type)}}i(A,"createBlob"),typeof Promise>"u"&&a(3);var h=Promise;function T(n,u){u&&n.then(function(o){u(null,o)},function(o){u(o)})}i(T,"executeCallback");function D(n,u,o){typeof u=="function"&&n.then(u),typeof o=="function"&&n.catch(o)}i(D,"executeTwoCallbacks");function M(n){return typeof n!="string"&&(console.warn(n+" used as a key, but it is not a string."),n=String(n)),n}i(M,"normalizeKey");function Y(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}i(Y,"getCallback");var C="local-forage-detect-blob-support",P=void 0,F={},te=Object.prototype.toString,qe="readonly",q="readwrite";function V(n){for(var u=n.length,o=new ArrayBuffer(u),l=new Uint8Array(o),v=0;v<u;v++)l[v]=n.charCodeAt(v);return o}i(V,"_binStringToArrayBuffer");function j(n){return new h(function(u){var o=n.transaction(C,q),l=A([""]);o.objectStore(C).put(l,"key"),o.onabort=function(v){v.preventDefault(),v.stopPropagation(),u(!1)},o.oncomplete=function(){var v=navigator.userAgent.match(/Chrome\/(\d+)/),f=navigator.userAgent.match(/Edge\//);u(f||!v||parseInt(v[1],10)>=43)}}).catch(function(){return!1})}i(j,"_checkBlobSupportWithoutCaching");function k(n){return typeof P=="boolean"?h.resolve(P):j(n).then(function(u){return P=u,P})}i(k,"_checkBlobSupport");function ne(n){var u=F[n.name],o={};o.promise=new h(function(l,v){o.resolve=l,o.reject=v}),u.deferredOperations.push(o),u.dbReady?u.dbReady=u.dbReady.then(function(){return o.promise}):u.dbReady=o.promise}i(ne,"_deferReadiness");function de(n){var u=F[n.name],o=u.deferredOperations.pop();if(o)return o.resolve(),o.promise}i(de,"_advanceReadiness");function he(n,u){var o=F[n.name],l=o.deferredOperations.pop();if(l)return l.reject(u),l.promise}i(he,"_rejectReadiness");function me(n,u){return new h(function(o,l){if(F[n.name]=F[n.name]||Ci(),n.db)if(u)ne(n),n.db.close();else return o(n.db);var v=[n.name];u&&v.push(n.version);var f=b.open.apply(b,v);u&&(f.onupgradeneeded=function(p){var S=f.result;try{S.createObjectStore(n.storeName),p.oldVersion<=1&&S.createObjectStore(C)}catch(O){if(O.name==="ConstraintError")console.warn('The database "'+n.name+'" has been upgraded from version '+p.oldVersion+" to version "+p.newVersion+', but the storage "'+n.storeName+'" already exists.');else throw O}}),f.onerror=function(p){p.preventDefault(),l(f.error)},f.onsuccess=function(){var p=f.result;p.onversionchange=function(S){S.target.close()},o(p),de(n)}})}i(me,"_getConnection");function Ae(n){return me(n,!1)}i(Ae,"_getOriginalConnection");function Cr(n){return me(n,!0)}i(Cr,"_getUpgradedConnection");function mt(n,u){if(!n.db)return!0;var o=!n.db.objectStoreNames.contains(n.storeName),l=n.version<n.db.version,v=n.version>n.db.version;if(l&&(n.version!==u&&console.warn('The database "'+n.name+`" can't be downgraded from version `+n.db.version+" to version "+n.version+"."),n.version=n.db.version),v||o){if(o){var f=n.db.version+1;f>n.version&&(n.version=f)}return!0}return!1}i(mt,"_isUpgradeNeeded");function gn(n){return new h(function(u,o){var l=new FileReader;l.onerror=o,l.onloadend=function(v){var f=btoa(v.target.result||"");u({__local_forage_encoded_blob:!0,data:f,type:n.type})},l.readAsBinaryString(n)})}i(gn,"_encodeBlob");function pr(n){var u=V(atob(n.data));return A([u],{type:n.type})}i(pr,"_decodeBlob");function xi(n){return n&&n.__local_forage_encoded_blob}i(xi,"_isEncodedBlob");function Ul(n){var u=this,o=u._initReady().then(function(){var l=F[u._dbInfo.name];if(l&&l.dbReady)return l.dbReady});return D(o,n,n),o}i(Ul,"_fullyReady");function kl(n){ne(n);for(var u=F[n.name],o=u.forages,l=0;l<o.length;l++){var v=o[l];v._dbInfo.db&&(v._dbInfo.db.close(),v._dbInfo.db=null)}return n.db=null,Ae(n).then(function(f){return n.db=f,mt(n)?Cr(n):f}).then(function(f){n.db=u.db=f;for(var p=0;p<o.length;p++)o[p]._dbInfo.db=f}).catch(function(f){throw he(n,f),f})}i(kl,"_tryReconnect");function _e(n,u,o,l){l===void 0&&(l=1);try{var v=n.db.transaction(n.storeName,u);o(null,v)}catch(f){if(l>0&&(!n.db||f.name==="InvalidStateError"||f.name==="NotFoundError"))return h.resolve().then(function(){if(!n.db||f.name==="NotFoundError"&&!n.db.objectStoreNames.contains(n.storeName)&&n.version<=n.db.version)return n.db&&(n.version=n.db.version+1),Cr(n)}).then(function(){return kl(n).then(function(){_e(n,u,o,l-1)})}).catch(o);o(f)}}i(_e,"createTransaction");function Ci(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}i(Ci,"createDbContext");function $l(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=n[l];var v=F[o.name];v||(v=Ci(),F[o.name]=v),v.forages.push(u),u._initReady||(u._initReady=u.ready,u.ready=Ul);var f=[];function p(){return h.resolve()}i(p,"ignoreErrors");for(var S=0;S<v.forages.length;S++){var O=v.forages[S];O!==u&&f.push(O._initReady().catch(p))}var I=v.forages.slice(0);return h.all(f).then(function(){return o.db=v.db,Ae(o)}).then(function(w){return o.db=w,mt(o,u._defaultConfig.version)?Cr(o):w}).then(function(w){o.db=v.db=w,u._dbInfo=o;for(var _=0;_<I.length;_++){var N=I[_];N!==u&&(N._dbInfo.db=o.db,N._dbInfo.version=o.version)}})}i($l,"_initStorage");function Kl(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,qe,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.get(n);I.onsuccess=function(){var w=I.result;w===void 0&&(w=null),xi(w)&&(w=pr(w)),v(w)},I.onerror=function(){f(I.error)}}catch(w){f(w)}})}).catch(f)});return T(l,u),l}i(Kl,"getItem");function Gl(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,qe,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.openCursor(),w=1;I.onsuccess=function(){var _=I.result;if(_){var N=_.value;xi(N)&&(N=pr(N));var L=n(N,_.key,w++);L!==void 0?v(L):_.continue()}else v()},I.onerror=function(){f(I.error)}}catch(_){f(_)}})}).catch(f)});return T(l,u),l}i(Gl,"iterate");function Hl(n,u,o){var l=this;n=M(n);var v=new h(function(f,p){var S;l.ready().then(function(){return S=l._dbInfo,te.call(u)==="[object Blob]"?k(S.db).then(function(O){return O?u:gn(u)}):u}).then(function(O){_e(l._dbInfo,q,function(I,w){if(I)return p(I);try{var _=w.objectStore(l._dbInfo.storeName);O===null&&(O=void 0);var N=_.put(O,n);w.oncomplete=function(){O===void 0&&(O=null),f(O)},w.onabort=w.onerror=function(){var L=N.error?N.error:N.transaction.error;p(L)}}catch(L){p(L)}})}).catch(p)});return T(v,o),v}i(Hl,"setItem");function zl(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){_e(o._dbInfo,q,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=O.delete(n);S.oncomplete=function(){v()},S.onerror=function(){f(I.error)},S.onabort=function(){var w=I.error?I.error:I.transaction.error;f(w)}}catch(w){f(w)}})}).catch(f)});return T(l,u),l}i(zl,"removeItem");function Yl(n){var u=this,o=new h(function(l,v){u.ready().then(function(){_e(u._dbInfo,q,function(f,p){if(f)return v(f);try{var S=p.objectStore(u._dbInfo.storeName),O=S.clear();p.oncomplete=function(){l()},p.onabort=p.onerror=function(){var I=O.error?O.error:O.transaction.error;v(I)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(Yl,"clear");function Wl(n){var u=this,o=new h(function(l,v){u.ready().then(function(){_e(u._dbInfo,qe,function(f,p){if(f)return v(f);try{var S=p.objectStore(u._dbInfo.storeName),O=S.count();O.onsuccess=function(){l(O.result)},O.onerror=function(){v(O.error)}}catch(I){v(I)}})}).catch(v)});return T(o,n),o}i(Wl,"length");function Jl(n,u){var o=this,l=new h(function(v,f){if(n<0){v(null);return}o.ready().then(function(){_e(o._dbInfo,qe,function(p,S){if(p)return f(p);try{var O=S.objectStore(o._dbInfo.storeName),I=!1,w=O.openKeyCursor();w.onsuccess=function(){var _=w.result;if(!_){v(null);return}n===0||I?v(_.key):(I=!0,_.advance(n))},w.onerror=function(){f(w.error)}}catch(_){f(_)}})}).catch(f)});return T(l,u),l}i(Jl,"key");function Xl(n){var u=this,o=new h(function(l,v){u.ready().then(function(){_e(u._dbInfo,qe,function(f,p){if(f)return v(f);try{var S=p.objectStore(u._dbInfo.storeName),O=S.openKeyCursor(),I=[];O.onsuccess=function(){var w=O.result;if(!w){l(I);return}I.push(w.key),w.continue()},O.onerror=function(){v(O.error)}}catch(w){v(w)}})}).catch(v)});return T(o,n),o}i(Xl,"keys");function Ql(n,u){u=Y.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;if(!n.name)v=h.reject("Invalid arguments");else{var f=n.name===o.name&&l._dbInfo.db,p=f?h.resolve(l._dbInfo.db):Ae(n).then(function(S){var O=F[n.name],I=O.forages;O.db=S;for(var w=0;w<I.length;w++)I[w]._dbInfo.db=S;return S});n.storeName?v=p.then(function(S){if(!!S.objectStoreNames.contains(n.storeName)){var O=S.version+1;ne(n);var I=F[n.name],w=I.forages;S.close();for(var _=0;_<w.length;_++){var N=w[_];N._dbInfo.db=null,N._dbInfo.version=O}var L=new h(function(U,Q){var W=b.open(n.name,O);W.onerror=function(ge){var Nr=W.result;Nr.close(),Q(ge)},W.onupgradeneeded=function(){var ge=W.result;ge.deleteObjectStore(n.storeName)},W.onsuccess=function(){var ge=W.result;ge.close(),U(ge)}});return L.then(function(U){I.db=U;for(var Q=0;Q<w.length;Q++){var W=w[Q];W._dbInfo.db=U,de(W._dbInfo)}}).catch(function(U){throw(he(n,U)||h.resolve()).catch(function(){}),U})}}):v=p.then(function(S){ne(n);var O=F[n.name],I=O.forages;S.close();for(var w=0;w<I.length;w++){var _=I[w];_._dbInfo.db=null}var N=new h(function(L,U){var Q=b.deleteDatabase(n.name);Q.onerror=function(){var W=Q.result;W&&W.close(),U(Q.error)},Q.onblocked=function(){console.warn('dropInstance blocked for database "'+n.name+'" until all open connections are closed')},Q.onsuccess=function(){var W=Q.result;W&&W.close(),L(W)}});return N.then(function(L){O.db=L;for(var U=0;U<I.length;U++){var Q=I[U];de(Q._dbInfo)}}).catch(function(L){throw(he(n,L)||h.resolve()).catch(function(){}),L})})}return T(v,u),v}i(Ql,"dropInstance");var Zl={_driver:"asyncStorage",_initStorage:$l,_support:g(),iterate:Gl,getItem:Kl,setItem:Hl,removeItem:zl,clear:Yl,length:Wl,key:Jl,keys:Xl,dropInstance:Ql};function ev(){return typeof openDatabase=="function"}i(ev,"isWebSQLValid");var Ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rv="~~local_forage_type~",Pi=/^~~local_forage_type~([^~]+)~/,gt="__lfsc__:",bn=gt.length,En="arbf",Sn="blob",Ni="si08",ji="ui08",Mi="uic8",Bi="si16",Fi="si32",Vi="ur16",Li="ui32",Ui="fl32",ki="fl64",$i=bn+En.length,Ki=Object.prototype.toString;function Gi(n){var u=n.length*.75,o=n.length,l,v=0,f,p,S,O;n[n.length-1]==="="&&(u--,n[n.length-2]==="="&&u--);var I=new ArrayBuffer(u),w=new Uint8Array(I);for(l=0;l<o;l+=4)f=Ve.indexOf(n[l]),p=Ve.indexOf(n[l+1]),S=Ve.indexOf(n[l+2]),O=Ve.indexOf(n[l+3]),w[v++]=f<<2|p>>4,w[v++]=(p&15)<<4|S>>2,w[v++]=(S&3)<<6|O&63;return I}i(Gi,"stringToBuffer");function Tn(n){var u=new Uint8Array(n),o="",l;for(l=0;l<u.length;l+=3)o+=Ve[u[l]>>2],o+=Ve[(u[l]&3)<<4|u[l+1]>>4],o+=Ve[(u[l+1]&15)<<2|u[l+2]>>6],o+=Ve[u[l+2]&63];return u.length%3===2?o=o.substring(0,o.length-1)+"=":u.length%3===1&&(o=o.substring(0,o.length-2)+"=="),o}i(Tn,"bufferToString");function tv(n,u){var o="";if(n&&(o=Ki.call(n)),n&&(o==="[object ArrayBuffer]"||n.buffer&&Ki.call(n.buffer)==="[object ArrayBuffer]")){var l,v=gt;n instanceof ArrayBuffer?(l=n,v+=En):(l=n.buffer,o==="[object Int8Array]"?v+=Ni:o==="[object Uint8Array]"?v+=ji:o==="[object Uint8ClampedArray]"?v+=Mi:o==="[object Int16Array]"?v+=Bi:o==="[object Uint16Array]"?v+=Vi:o==="[object Int32Array]"?v+=Fi:o==="[object Uint32Array]"?v+=Li:o==="[object Float32Array]"?v+=Ui:o==="[object Float64Array]"?v+=ki:u(new Error("Failed to get type for BinaryArray"))),u(v+Tn(l))}else if(o==="[object Blob]"){var f=new FileReader;f.onload=function(){var p=rv+n.type+"~"+Tn(this.result);u(gt+Sn+p)},f.readAsArrayBuffer(n)}else try{u(JSON.stringify(n))}catch(p){console.error("Couldn't convert value into a JSON string: ",n),u(null,p)}}i(tv,"serialize");function nv(n){if(n.substring(0,bn)!==gt)return JSON.parse(n);var u=n.substring($i),o=n.substring(bn,$i),l;if(o===Sn&&Pi.test(u)){var v=u.match(Pi);l=v[1],u=u.substring(v[0].length)}var f=Gi(u);switch(o){case En:return f;case Sn:return A([f],{type:l});case Ni:return new Int8Array(f);case ji:return new Uint8Array(f);case Mi:return new Uint8ClampedArray(f);case Bi:return new Int16Array(f);case Vi:return new Uint16Array(f);case Fi:return new Int32Array(f);case Li:return new Uint32Array(f);case Ui:return new Float32Array(f);case ki:return new Float64Array(f);default:throw new Error("Unkown type: "+o)}}i(nv,"deserialize");var On={serialize:tv,deserialize:nv,stringToBuffer:Gi,bufferToString:Tn};function Hi(n,u,o,l){n.executeSql("CREATE TABLE IF NOT EXISTS "+u.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],o,l)}i(Hi,"createDbTable");function av(n){var u=this,o={db:null};if(n)for(var l in n)o[l]=typeof n[l]!="string"?n[l].toString():n[l];var v=new h(function(f,p){try{o.db=openDatabase(o.name,String(o.version),o.description,o.size)}catch(S){return p(S)}o.db.transaction(function(S){Hi(S,o,function(){u._dbInfo=o,f()},function(O,I){p(I)})},p)});return o.serializer=On,v}i(av,"_initStorage$1");function Le(n,u,o,l,v,f){n.executeSql(o,l,v,function(p,S){S.code===S.SYNTAX_ERR?p.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[u.storeName],function(O,I){I.rows.length?f(O,S):Hi(O,u,function(){O.executeSql(o,l,v,f)},f)},f):f(p,S)},f)}i(Le,"tryExecuteSql");function iv(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"SELECT * FROM "+p.storeName+" WHERE key = ? LIMIT 1",[n],function(O,I){var w=I.rows.length?I.rows.item(0).value:null;w&&(w=p.serializer.deserialize(w)),v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(iv,"getItem$1");function ov(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"SELECT * FROM "+p.storeName,[],function(O,I){for(var w=I.rows,_=w.length,N=0;N<_;N++){var L=w.item(N),U=L.value;if(U&&(U=p.serializer.deserialize(U)),U=n(U,L.key,N+1),U!==void 0){v(U);return}}v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(ov,"iterate$1");function zi(n,u,o,l){var v=this;n=M(n);var f=new h(function(p,S){v.ready().then(function(){u===void 0&&(u=null);var O=u,I=v._dbInfo;I.serializer.serialize(u,function(w,_){_?S(_):I.db.transaction(function(N){Le(N,I,"INSERT OR REPLACE INTO "+I.storeName+" (key, value) VALUES (?, ?)",[n,w],function(){p(O)},function(L,U){S(U)})},function(N){if(N.code===N.QUOTA_ERR){if(l>0){p(zi.apply(v,[n,O,o,l-1]));return}S(N)}})})}).catch(S)});return T(f,o),f}i(zi,"_setItem");function uv(n,u,o){return zi.apply(this,[n,u,o,1])}i(uv,"setItem$1");function sv(n,u){var o=this;n=M(n);var l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"DELETE FROM "+p.storeName+" WHERE key = ?",[n],function(){v()},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(sv,"removeItem$1");function cv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Le(p,f,"DELETE FROM "+f.storeName,[],function(){l()},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(cv,"clear$1");function fv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Le(p,f,"SELECT COUNT(key) as c FROM "+f.storeName,[],function(S,O){var I=O.rows.item(0).c;l(I)},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(fv,"length$1");function lv(n,u){var o=this,l=new h(function(v,f){o.ready().then(function(){var p=o._dbInfo;p.db.transaction(function(S){Le(S,p,"SELECT key FROM "+p.storeName+" WHERE id = ? LIMIT 1",[n+1],function(O,I){var w=I.rows.length?I.rows.item(0).key:null;v(w)},function(O,I){f(I)})})}).catch(f)});return T(l,u),l}i(lv,"key$1");function vv(n){var u=this,o=new h(function(l,v){u.ready().then(function(){var f=u._dbInfo;f.db.transaction(function(p){Le(p,f,"SELECT key FROM "+f.storeName,[],function(S,O){for(var I=[],w=0;w<O.rows.length;w++)I.push(O.rows.item(w).key);l(I)},function(S,O){v(O)})})}).catch(v)});return T(o,n),o}i(vv,"keys$1");function dv(n){return new h(function(u,o){n.transaction(function(l){l.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(v,f){for(var p=[],S=0;S<f.rows.length;S++)p.push(f.rows.item(S).name);u({db:n,storeNames:p})},function(v,f){o(f)})},function(l){o(l)})})}i(dv,"getAllStoreNames");function pv(n,u){u=Y.apply(this,arguments);var o=this.config();n=typeof n!="function"&&n||{},n.name||(n.name=n.name||o.name,n.storeName=n.storeName||o.storeName);var l=this,v;return n.name?v=new h(function(f){var p;n.name===o.name?p=l._dbInfo.db:p=openDatabase(n.name,"","",0),n.storeName?f({db:p,storeNames:[n.storeName]}):f(dv(p))}).then(function(f){return new h(function(p,S){f.db.transaction(function(O){function I(L){return new h(function(U,Q){O.executeSql("DROP TABLE IF EXISTS "+L,[],function(){U()},function(W,ge){Q(ge)})})}i(I,"dropTable");for(var w=[],_=0,N=f.storeNames.length;_<N;_++)w.push(I(f.storeNames[_]));h.all(w).then(function(){p()}).catch(function(L){S(L)})},function(O){S(O)})})}):v=h.reject("Invalid arguments"),T(v,u),v}i(pv,"dropInstance$1");var yv={_driver:"webSQLStorage",_initStorage:av,_support:ev(),iterate:ov,getItem:iv,setItem:uv,removeItem:sv,clear:cv,length:fv,key:lv,keys:vv,dropInstance:pv};function hv(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}i(hv,"isLocalStorageValid");function Yi(n,u){var o=n.name+"/";return n.storeName!==u.storeName&&(o+=n.storeName+"/"),o}i(Yi,"_getKeyPrefix");function mv(){var n="_localforage_support_test";try{return localStorage.setItem(n,!0),localStorage.removeItem(n),!1}catch{return!0}}i(mv,"checkIfLocalStorageThrows");function gv(){return!mv()||localStorage.length>0}i(gv,"_isLocalStorageUsable");function bv(n){var u=this,o={};if(n)for(var l in n)o[l]=n[l];return o.keyPrefix=Yi(n,u._defaultConfig),gv()?(u._dbInfo=o,o.serializer=On,h.resolve()):h.reject()}i(bv,"_initStorage$2");function Ev(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo.keyPrefix,v=localStorage.length-1;v>=0;v--){var f=localStorage.key(v);f.indexOf(l)===0&&localStorage.removeItem(f)}});return T(o,n),o}i(Ev,"clear$2");function Sv(n,u){var o=this;n=M(n);var l=o.ready().then(function(){var v=o._dbInfo,f=localStorage.getItem(v.keyPrefix+n);return f&&(f=v.serializer.deserialize(f)),f});return T(l,u),l}i(Sv,"getItem$2");function Tv(n,u){var o=this,l=o.ready().then(function(){for(var v=o._dbInfo,f=v.keyPrefix,p=f.length,S=localStorage.length,O=1,I=0;I<S;I++){var w=localStorage.key(I);if(w.indexOf(f)===0){var _=localStorage.getItem(w);if(_&&(_=v.serializer.deserialize(_)),_=n(_,w.substring(p),O++),_!==void 0)return _}}});return T(l,u),l}i(Tv,"iterate$2");function Ov(n,u){var o=this,l=o.ready().then(function(){var v=o._dbInfo,f;try{f=localStorage.key(n)}catch{f=null}return f&&(f=f.substring(v.keyPrefix.length)),f});return T(l,u),l}i(Ov,"key$2");function Iv(n){var u=this,o=u.ready().then(function(){for(var l=u._dbInfo,v=localStorage.length,f=[],p=0;p<v;p++){var S=localStorage.key(p);S.indexOf(l.keyPrefix)===0&&f.push(S.substring(l.keyPrefix.length))}return f});return T(o,n),o}i(Iv,"keys$2");function wv(n){var u=this,o=u.keys().then(function(l){return l.length});return T(o,n),o}i(wv,"length$2");function Rv(n,u){var o=this;n=M(n);var l=o.ready().then(function(){var v=o._dbInfo;localStorage.removeItem(v.keyPrefix+n)});return T(l,u),l}i(Rv,"removeItem$2");function qv(n,u,o){var l=this;n=M(n);var v=l.ready().then(function(){u===void 0&&(u=null);var f=u;return new h(function(p,S){var O=l._dbInfo;O.serializer.serialize(u,function(I,w){if(w)S(w);else try{localStorage.setItem(O.keyPrefix+n,I),p(f)}catch(_){(_.name==="QuotaExceededError"||_.name==="NS_ERROR_DOM_QUOTA_REACHED")&&S(_),S(_)}})})});return T(v,o),v}i(qv,"setItem$2");function Av(n,u){if(u=Y.apply(this,arguments),n=typeof n!="function"&&n||{},!n.name){var o=this.config();n.name=n.name||o.name,n.storeName=n.storeName||o.storeName}var l=this,v;return n.name?v=new h(function(f){n.storeName?f(Yi(n,l._defaultConfig)):f(n.name+"/")}).then(function(f){for(var p=localStorage.length-1;p>=0;p--){var S=localStorage.key(p);S.indexOf(f)===0&&localStorage.removeItem(S)}}):v=h.reject("Invalid arguments"),T(v,u),v}i(Av,"dropInstance$2");var _v={_driver:"localStorageWrapper",_initStorage:bv,_support:hv(),iterate:Tv,getItem:Sv,setItem:qv,removeItem:Rv,clear:Ev,length:wv,key:Ov,keys:Iv,dropInstance:Av},Dv=i(function(u,o){return u===o||typeof u=="number"&&typeof o=="number"&&isNaN(u)&&isNaN(o)},"sameValue"),xv=i(function(u,o){for(var l=u.length,v=0;v<l;){if(Dv(u[v],o))return!0;v++}return!1},"includes"),Wi=Array.isArray||function(n){return Object.prototype.toString.call(n)==="[object Array]"},Pr={},Ji={},yr={INDEXEDDB:Zl,WEBSQL:yv,LOCALSTORAGE:_v},Cv=[yr.INDEXEDDB._driver,yr.WEBSQL._driver,yr.LOCALSTORAGE._driver],bt=["dropInstance"],In=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(bt),Pv={description:"",driver:Cv.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function Nv(n,u){n[u]=function(){var o=arguments;return n.ready().then(function(){return n[u].apply(n,o)})}}i(Nv,"callWhenReady");function wn(){for(var n=1;n<arguments.length;n++){var u=arguments[n];if(u)for(var o in u)u.hasOwnProperty(o)&&(Wi(u[o])?arguments[0][o]=u[o].slice():arguments[0][o]=u[o])}return arguments[0]}i(wn,"extend");var jv=function(){function n(u){E(this,n);for(var o in yr)if(yr.hasOwnProperty(o)){var l=yr[o],v=l._driver;this[o]=v,Pr[v]||this.defineDriver(l)}this._defaultConfig=wn({},Pv),this._config=wn({},this._defaultConfig,u),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return i(n,"LocalForage"),n.prototype.config=i(function(o){if((typeof o>"u"?"undefined":c(o))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var l in o){if(l==="storeName"&&(o[l]=o[l].replace(/\W/g,"_")),l==="version"&&typeof o[l]!="number")return new Error("Database version must be a number.");this._config[l]=o[l]}return"driver"in o&&o.driver?this.setDriver(this._config.driver):!0}else return typeof o=="string"?this._config[o]:this._config},"config"),n.prototype.defineDriver=i(function(o,l,v){var f=new h(function(p,S){try{var O=o._driver,I=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!o._driver){S(I);return}for(var w=In.concat("_initStorage"),_=0,N=w.length;_<N;_++){var L=w[_],U=!xv(bt,L);if((U||o[L])&&typeof o[L]!="function"){S(I);return}}var Q=i(function(){for(var Nr=i(function(Fv){return function(){var Vv=new Error("Method "+Fv+" is not implemented by the current driver"),Xi=h.reject(Vv);return T(Xi,arguments[arguments.length-1]),Xi}},"methodNotImplementedFactory"),Rn=0,Bv=bt.length;Rn<Bv;Rn++){var qn=bt[Rn];o[qn]||(o[qn]=Nr(qn))}},"configureMissingMethods");Q();var W=i(function(Nr){Pr[O]&&console.info("Redefining LocalForage driver: "+O),Pr[O]=o,Ji[O]=Nr,p()},"setDriverSupport");"_support"in o?o._support&&typeof o._support=="function"?o._support().then(W,S):W(!!o._support):W(!0)}catch(ge){S(ge)}});return D(f,l,v),f},"defineDriver"),n.prototype.driver=i(function(){return this._driver||null},"driver"),n.prototype.getDriver=i(function(o,l,v){var f=Pr[o]?h.resolve(Pr[o]):h.reject(new Error("Driver not found."));return D(f,l,v),f},"getDriver"),n.prototype.getSerializer=i(function(o){var l=h.resolve(On);return D(l,o),l},"getSerializer"),n.prototype.ready=i(function(o){var l=this,v=l._driverSet.then(function(){return l._ready===null&&(l._ready=l._initDriver()),l._ready});return D(v,o,o),v},"ready"),n.prototype.setDriver=i(function(o,l,v){var f=this;Wi(o)||(o=[o]);var p=this._getSupportedDrivers(o);function S(){f._config.driver=f.driver()}i(S,"setDriverToConfig");function O(_){return f._extend(_),S(),f._ready=f._initStorage(f._config),f._ready}i(O,"extendSelfWithDriver");function I(_){return function(){var N=0;function L(){for(;N<_.length;){var U=_[N];return N++,f._dbInfo=null,f._ready=null,f.getDriver(U).then(O).catch(L)}S();var Q=new Error("No available storage method found.");return f._driverSet=h.reject(Q),f._driverSet}return i(L,"driverPromiseLoop"),L()}}i(I,"initDriver");var w=this._driverSet!==null?this._driverSet.catch(function(){return h.resolve()}):h.resolve();return this._driverSet=w.then(function(){var _=p[0];return f._dbInfo=null,f._ready=null,f.getDriver(_).then(function(N){f._driver=N._driver,S(),f._wrapLibraryMethodsWithReady(),f._initDriver=I(p)})}).catch(function(){S();var _=new Error("No available storage method found.");return f._driverSet=h.reject(_),f._driverSet}),D(this._driverSet,l,v),this._driverSet},"setDriver"),n.prototype.supports=i(function(o){return!!Ji[o]},"supports"),n.prototype._extend=i(function(o){wn(this,o)},"_extend"),n.prototype._getSupportedDrivers=i(function(o){for(var l=[],v=0,f=o.length;v<f;v++){var p=o[v];this.supports(p)&&l.push(p)}return l},"_getSupportedDrivers"),n.prototype._wrapLibraryMethodsWithReady=i(function(){for(var o=0,l=In.length;o<l;o++)Nv(this,In[o])},"_wrapLibraryMethodsWithReady"),n.prototype.createInstance=i(function(o){return new n(o)},"createInstance"),n}(),Mv=new jv;s.exports=Mv},{"3":3}]},{},[4])(4)})});var Qi=i(e=>e==null,"isNil");var Zi=i(e=>(typeof e=="string"||e instanceof String)&&e.trim()==="","isEmptyString");var eo=i(()=>{let e=new Date().getTime(),r=typeof performance<"u"&&performance.now&&performance.now()*1e3||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){let a=Math.random()*16;return e>0?(a=(e+a)%16|0,e=Math.floor(e/16)):(a=(r+a)%16|0,r=Math.floor(r/16)),(t==="x"?a:a&3|8).toString(16)})},"generateUUID");var be=i(e=>`${e}`=="[object Object]","isObjectLiteral");var ie=class{constructor(r,t,a){this.name=r;this.type=t;this.defaultValue=a}static getTypeName(r){if(be(r))return"";let t,a=r instanceof B;try{a?t=r:(t=new r,t instanceof ie||(t=r))}catch{}return t.name}};i(ie,"CustomType");var J=class extends ie{constructor(){super("SchemaId",String,(()=>{try{return crypto.randomUUID()}catch{return eo()}})())}};i(J,"SchemaId");var ro=i(e=>e===null||[B,J,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array,Object].some(r=>e instanceof r||typeof e===r.name.toLowerCase()),"isSupportedTypeValue");var Mr=i(class extends ie{constructor(){super("Null",null,null)}},"Null");Object.defineProperty(Mr,"name",{value:"Null"});var to=i((e,r)=>{if(e===Mr)return r===null;if(typeof r=="number"&&isNaN(r)||!r&&r===void 0)return!1;try{if(e instanceof B)return r===e||`${r}`=="[object Object]"&&e.getInvalidSchemaDataFields(r).length===0;let t=typeof r===e.name.toLowerCase();return(e[Symbol.hasInstance]?r instanceof e:t)||t}catch{return!1}},"isOfSupportedType");var Qe=i((e,r)=>{try{if(r instanceof Array&&r.some(t=>!ro(t)))return!1;if(/ArrayOf/.test(e?.name)){let t=new e;return r instanceof Array&&!r.some(a=>!Qe(t.type,a))}return/OneOf/.test(e?.name)?new e().type.some(t=>Qe(t,r)):/SchemaId/.test(e?.name)?r instanceof J||typeof r=="string"&&/[0-9a-z]{8}-[0-9a-z]{4}-4[0-9a-z]{3}-[0-9a-z]{4}-[0-9a-z]{12}/.test(r):/Schema/.test(e?.name)?`${r}`=="[object Object]":/Null/.test(e?.name)?r===null:to(e,r)}catch{return!1}},"isSameValueType");var Et=i(e=>{switch(e){case Number:return 0;case Boolean:return!1;case String:return"";case Array:case Float32Array:case Float64Array:case Int8Array:case Int16Array:case Int32Array:case Uint8Array:case Uint8ClampedArray:case Uint16Array:case Uint32Array:return new e;default:return/SchemaId|ArrayOf|OneOf|Null/.test(e.name)?new e().defaultValue:e instanceof B?Object.entries(e.toJSON()).reduce((r,[t,a])=>({...r,[t]:a.defaultValue}),{}):null}},"getDefaultValue");var St=i(e=>{let r=(e||{name:""}).name;return/ArrayOf|OneOf|Null/.test(r)||[B,J,Date,Number,String,Boolean,Array,ArrayBuffer,Blob,Float32Array,Float64Array,Int8Array,Int16Array,Int32Array,Uint8Array,Uint8ClampedArray,Uint16Array,Uint32Array].some(t=>e===t)},"isSupportedType");var hr,Ue=class{constructor(r,t=!1,a){this.type=r;this.required=t;this.defaultValue=a;$(this,hr,"");if(!(r instanceof B)&&!St(r))throw new Error(`Invalid SchemaValue type provided. Received "${r?.name??new r()?.name}"`);if(ae(this,hr,this.type instanceof B?`Schema<${this.type.name}>`:/ArrayOf|OneOf|SchemaId|Null/.test(r.name)?new r().name:this.type.name),a!==void 0&&!Qe(r,a))throw new Error(`Default value does not match type "${R(this,hr)}"`);this.defaultValue=a!==void 0?a instanceof ie||a instanceof J?a.defaultValue:a:Et(this.type)}toJSON(){return{type:R(this,hr),required:this.required,defaultValue:this.defaultValue}}toString(){return JSON.stringify(this.toJSON(),null,4)}};i(Ue,"SchemaValue"),hr=new WeakMap;var ee,Br,De=class{constructor(r,t=null){$(this,ee,{});$(this,Br,void 0);if(ae(this,Br,r),t){for(let a in t)if(t.hasOwnProperty(a))if(t[a]instanceof Ue)R(this,ee)[a]=t[a];else throw new Error(`Field "${a}" is not a SchemaValue`)}}get name(){return R(this,Br)}defineField(r,t,{defaultValue:a,required:s}={}){R(this,ee)[String(r)]=new Ue(t,s,a)}removeField(r){if(r){let[t,...a]=String(r).split("."),s=R(this,ee)[t];s&&(a.length?s.type instanceof De&&s.type.removeField(a.join(".")):delete R(this,ee)[t])}}hasField(r){if(r){let[t,...a]=String(r).split("."),s=R(this,ee)[t];if(s)if(a.length){if(s.type instanceof De)return s.type.hasField(a.join("."))}else return R(this,ee).hasOwnProperty(t)}return!1}getField(r){if(r){let[t,...a]=String(r).split("."),s=R(this,ee)[t];return s&&a.length&&s.type instanceof De?s.type.getField(a.join(".")):s??null}return null}isValidFieldValue(r,t=null){let a=this.getField(String(r));return a?a.required?!Qi(t)&&(a.type!==String||!Zi(t))&&Qe(a.type,t):Qe(a.type,t):!1}getInvalidSchemaDataFields(r,t=new Set){let a=new Set,s=Object.keys(R(this,ee)).filter(c=>R(this,ee)[c].required),m=[...Object.keys(r),...s];for(let c of m)if(!t.has(c)){let E=this.getField(c),y=r[c];if(/ArrayOf/.test(E?.type.name??""))if(y instanceof Array){let b=new E.type;if(b.type instanceof De){y.forEach((g,A)=>{`${g}`=="[object Object]"?b.type.getInvalidSchemaDataFields(g).forEach(h=>{a.add(`${c}[${A}].${h}`)}):a.add(`${c}[${A}]`)});continue}}else{a.add(c);continue}if(/OneOf/.test(E?.type.name??"")){let g=new E.type().type.find(A=>A instanceof De);g&&`${y}`=="[object Object]"?g.getInvalidSchemaDataFields(y).forEach(A=>{a.add(`${c}.${A}`)}):this.isValidFieldValue(c,y)||a.add(c);continue}if(E?.type instanceof De){`${y}`=="[object Object]"?E.type.getInvalidSchemaDataFields(y).forEach(b=>{a.add(`${c}.${b}`)}):a.add(c);continue}this.isValidFieldValue(c,y)||a.add(c)}return Array.from(a)}toJSON(){let r={};for(let t in R(this,ee))if(R(this,ee).hasOwnProperty(t)){let a=R(this,ee)[t];r[t]=a.toJSON()}return r}toString(){return JSON.stringify(this.toJSON(),null,4)}toValue(){let r=new Date,t={};for(let a in R(this,ee))if(R(this,ee).hasOwnProperty(a)){let s=R(this,ee)[a];switch(!0){case s.type instanceof De:t[a]=s.type.toValue();break;case s.type===J:t[a]=new J().defaultValue;break;case s.type===Date:t[a]=s.defaultValue instanceof Date?s.defaultValue:r;break;default:t[a]=s.defaultValue}}return t}},B=De;i(B,"Schema"),ee=new WeakMap,Br=new WeakMap;var Tt=i(e=>{let r=null,t=e;switch(typeof e){case"string":r=String;break;case"number":r=Number;break;case"boolean":r=Boolean;break;case"object":if(e instanceof Date)return{type:Date,defaultValue:t};if(Array.isArray(e)){if(e.length){let{type:a}=Tt(e[0]);if(e.every(s=>Tt(s).type===a))return{type:Ot(a),defaultValue:e}}return{type:Array,defaultValue:t}}return ArrayBuffer.isView(e)?{type:e.constructor,defaultValue:t}:e instanceof ArrayBuffer?{type:ArrayBuffer,defaultValue:t}:e instanceof Blob?{type:Blob,defaultValue:t}:e instanceof B?{type:B,defaultValue:e.toValue()}:e instanceof J?{type:J,defaultValue:e.defaultValue}:`${e}`=="[object Object]"?{type:B,defaultValue:e}:{type:null,defaultValue:t};default:return St(e)?{type:e,defaultValue:Et(e)}:{type:null,defaultValue:t}}return{type:r,defaultValue:t}},"getSchemaTypeAndDefaultValueFromValue");var mr=i(e=>be(e)&&Object.keys(e).length,"isValidObjectLiteral");var G={blankStoreName:()=>"ClientStore must have a non-blank name",invalidSchema:()=>'Invalid "Schema" instance or object',invalidSubHandler:e=>`Received invalid "subscribe" handler => ${e}`,invalidEventName:(e,r)=>`Received unknown ${e} "${r}" event`,invalidEventHandler:(e,r,t)=>`Received invalid ${e} "${r}" event handler => ${t}`,invalidValueProvided:(e,r)=>`Invalid "value" provided to ${e} item => ${r}`,invalidValueInterceptProvided:(e,r)=>`Invalid "value" returned via ${e} intercept handler - item => ${r}`,missingOrInvalidFields:(e,r)=>`Missing or invalid field types for "${e.join(", ")}" keys. Should be ${r.map((t,a)=>`[${e[a]}, ${t}]`).join(", ")}`};var Ze=i((e,r)=>{if(!mr(r))throw new Error(G.invalidSchema());let t=new B(e);return Object.entries(r).forEach(([a,s])=>{a=`${a}`;let m=a.startsWith("$");m&&(a=`${a}`.slice(1));let{type:c,defaultValue:E}=Tt(s);if(!c)throw new Error(`Unsupported Schema Type => key: "${a}", type: "${s?.constructor?.name??typeof s}" (estimated)`);c===B&&`${E}`=="[object Object]"&&(c=Ze(a,E),E=void 0),t.defineField(a,c,{required:m,...E===null?{}:{defaultValue:E}})}),t},"objectToSchema");function Ot(e){let r=ie.getTypeName(e);be(e)&&(e=Ze(r,e));let t=`Array<${e instanceof B?r?`Schema<${r}>`:"Schema":r}>`,a=i(class extends ie{constructor(){super(t,e,[])}},"CustomTypeConstructor");return Object.defineProperty(a,"name",{value:"ArrayOf"}),a}i(Ot,"ArrayOf");function no(...e){if(e.length<2)throw new Error("OneOf requires more than single type listed comma separated");e=e.map(a=>be(a)?Ze("",a):a);let r=e.map(a=>{if(a.name==="OneOf")throw new Error('Cannot nest "OneOf" types');let s=ie.getTypeName(a);return a instanceof B?s?`Schema<${s}>`:"Schema":s}).join(" | "),t=i(class extends ie{constructor(){super(r,e,null)}},"CustomTypeConstructor");return Object.defineProperty(t,"name",{value:"OneOf"}),t}i(no,"OneOf");var uw=_n(Bl()),Di=_n(qi());var Me=i((e,r)=>typeof r=="function"?r(null,e):Promise.resolve(e),"callBackOrPromise"),ct="Memory",Ai={},_i=i(e=>`${e.storeName}-${e.name}-${e.version}`,"getMapKeyFromConfig"),ze=i(({_config:e})=>Ai[_i(e)]??{},"getMap"),Vl=i(()=>({_driver:ct,_initStorage(e){this._config=e,Ai[_i(e)]=new Map},async clear(e){ze(this).clear(),Me([],e)},async getItem(e,r){let t=ze(this).get(e);return Me(t??null,r)||null},async iterate(e,r){let t=0,a;for(let[s,m]of ze(this).entries()){if(a=e(m,s,t),a!==void 0)return Me(a,r);t+=1}return Me(null,r)},async key(e,r){let t=Array.from(ze(this).keys());return Me(t[e],r)||""},async keys(e){let r=Array.from(ze(this).keys());return Me(r,e)||[]},async length(e){return Me(ze(this).size,e)||0},async removeItem(e,r){return ze(this).delete(e),Me(e,r)},async setItem(e,r,t){return ze(this).set(e,r),Me(r,t)},async dropInstance(){delete Ai[_i(this._config)]}}),"MemoryStore");var wr=_n(qi());var ur=(g=>(g.READY="ready",g.PROCESSING="processing",g.PROCESSING_EVENTS="processing-events",g.CREATED="created",g.LOADED="loaded",g.ERROR="error",g.ABORTED="aborted",g.REMOVED="removed",g.UPDATED="updated",g.CLEARED="cleared",g))(ur||{}),Ll={LOCALSTORAGE:wr.LOCALSTORAGE,WEBSQL:wr.WEBSQL,INDEXEDDB:wr.INDEXEDDB,MEMORYSTORAGE:ct};var Rr={version:1,type:ct,description:"",appName:"App",idKeyName:"_id",createdDateKeyName:"_createdDate",updatedDateKeyName:"_lastUpdatedDate"};Di.default.defineDriver(Vl());var ft=structuredClone,ve,ye,vt,dt,Dr,Ye,cr,fr,pt,Be,lr,lt,Fe,sr,K,z,We,qr,Je,Ar,xr,mn,Xe,_r,vr=class{constructor(r,t,a=Rr){$(this,lr);$(this,Fe);$(this,K);$(this,We);$(this,Je);$(this,xr);$(this,Xe);$(this,ve,void 0);$(this,ye,void 0);$(this,vt,void 0);$(this,dt,void 0);$(this,Dr,new Set);$(this,Ye,new Map(Object.values(ur).map(r=>[r,new Set])));$(this,cr,new Map(Object.values(ur).map(r=>[r,null])));$(this,fr,null);$(this,pt,!1);$(this,Be,new Set);if(ae(this,vt,r),ae(this,ye,{...Rr,...a}),!`${r}`.trim().length)throw new Error(G.blankStoreName());if(!(t instanceof B))if(`${t}`=="[object Object]")t=Ze(r,t);else throw new Error(G.invalidSchema());let s=R(this,ye).appName||"App";ae(this,dt,t),ae(this,ve,Di.default.createInstance({driver:R(this,ye).type,version:R(this,ye).version,description:R(this,ye).description,name:s,storeName:r})),R(this,ve).ready(()=>{ae(this,pt,!0),x(this,K,z).call(this,"ready",!0)})}get schema(){return R(this,dt)}get ready(){return R(this,pt)}get type(){return R(this,ye).type}get name(){return R(this,vt)}get appName(){return R(this,ye).appName}get processing(){return R(this,Be).size>0}get idKeyName(){return R(this,ye).idKeyName||Rr.idKeyName}get createdDateKeyName(){return R(this,ye).createdDateKeyName||Rr.createdDateKeyName}get updatedDateKeyName(){return R(this,ye).updatedDateKeyName||Rr.updatedDateKeyName}get processingEvents(){return Array.from(R(this,Be),r=>r.split("_")[0])}async size(){return await R(this,ve).length()}subscribe(r){if(typeof r=="function")return R(this,Dr).add(r),()=>{R(this,Dr).delete(r)};throw new Error(G.invalidSubHandler(r))}on(r,t){if(typeof t=="function"){if(R(this,Ye).has(r))return R(this,Ye).get(r)?.add(t),()=>this.off(r,t);throw new Error(G.invalidEventName("ON",r))}throw new Error(G.invalidEventHandler("ON",r,t))}off(r,t){if(typeof t=="function"){if(R(this,Ye).has(r)){R(this,Ye).get(r)?.delete(t);return}throw new Error(G.invalidEventName("OFF",r))}throw new Error(G.invalidEventHandler("OFF",r,t))}beforeChange(r){if(typeof r=="function")ae(this,fr,r);else throw new Error(G.invalidEventHandler("function","beforeChange",r));return()=>{ae(this,fr,null)}}intercept(r,t){if(typeof t=="function"){if(R(this,cr).has(r))return R(this,cr).set(r,t),()=>{R(this,cr).set(r,null)};throw new Error(G.invalidEventName("INTERCEPT",r))}throw new Error(G.invalidEventHandler("INTERCEPT",r,t))}async loadItems(r=[]){return x(this,Xe,_r).call(this,"loaded",async()=>{try{let t=new Map,{key:a}=x(this,xr,mn).call(this);for(let c of r){if(!mr(c))throw new Error(G.invalidValueProvided("load",c));let{item:E,id:y}=await x(this,lr,lt).call(this,c);x(this,Fe,sr).call(this,E,b=>G.missingOrInvalidFields(b,b.map(g=>this.schema.getField(g)??void 0))),t.set(y,E)}let s=await x(this,Je,Ar).call(this,"loaded",Array.from(t.values()));if(s===null)return x(this,K,z).call(this,"aborted",{action:"loaded",data:r}),null;if(Array.isArray(s)&&s.length)for(let c of s){if(!be(c))throw new Error(G.invalidValueInterceptProvided("load",c));let E=c[a];if(t.get(c[a]))t.set(c[a],ft({...t.get(c[a]),...c}));else{let{item:y,id:b}=await x(this,lr,lt).call(this,c);t.set(b,y),E=b}x(this,Fe,sr).call(this,t.get(E),y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)))}let m=await Promise.all(Array.from(t.values()).map(c=>R(this,ve).setItem(`${c[a]}`,c)));return x(this,K,z).call(this,"loaded",m),m}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"loaded",r,null,t)),t}})}async createItem(r){return x(this,Xe,_r).call(this,"created",async()=>{try{if(!mr(r))throw new Error(G.invalidValueProvided("create",r));x(this,Fe,sr).call(this,r,c=>G.missingOrInvalidFields(c,c.map(E=>this.schema.getField(E)??void 0)));let{item:t,id:a}=await x(this,lr,lt).call(this,r),s=await x(this,Je,Ar).call(this,"created",t,a);if(s===null)return x(this,K,z).call(this,"aborted",{action:"created",data:r}),null;be(s)&&(t=ft({...t,...s}),x(this,Fe,sr).call(this,t,c=>G.missingOrInvalidFields(c,c.map(E=>this.schema.getField(E)??void 0))));let m=await R(this,ve).setItem(String(t[this.idKeyName]),t);return x(this,K,z).call(this,"created",m),m}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"created",r,null,t)),t}})}async updateItem(r,t){return x(this,Xe,_r).call(this,"updated",async()=>{try{if(!mr(t))throw new Error(G.invalidValueProvided("update",t));let a=ft(await this.getItem(r));if(a){let{item:s,id:m}=await x(this,lr,lt).call(this,t,a);x(this,Fe,sr).call(this,s,y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0)));let c=await x(this,Je,Ar).call(this,"updated",s,m);if(c===null)return x(this,K,z).call(this,"aborted",{action:"updated",data:t}),null;be(c)&&(s=ft(c),x(this,Fe,sr).call(this,s,y=>G.missingOrInvalidFields(y,y.map(b=>this.schema.getField(b)??void 0))));let E=await R(this,ve).setItem(String(m),s);return x(this,K,z).call(this,"updated",E),E}}catch(a){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"updated",t,r,a)),a}return null})}async getItems(){return this.findItems(()=>!0)}async getItem(r){return R(this,ve).getItem(String(r))}async removeItem(r){return x(this,Xe,_r).call(this,"removed",async()=>{try{if(await this.getItem(r))if(await x(this,Je,Ar).call(this,"removed",r,r)===null)x(this,K,z).call(this,"aborted",{action:"removed",data:r});else return await R(this,ve).removeItem(`${r}`),x(this,K,z).call(this,"removed",r),r}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"removed",r,r,t)),t}return null})}async clear(){return x(this,Xe,_r).call(this,"cleared",async()=>{let r=await R(this,ve).keys();try{if(await x(this,Je,Ar).call(this,"cleared",r)===null)x(this,K,z).call(this,"aborted",{action:"cleared",data:r});else return await R(this,ve).clear(),x(this,K,z).call(this,"cleared",r),r}catch(t){throw x(this,K,z).call(this,"error",x(this,We,qr).call(this,"cleared",r,null,t)),t}return null})}async findItem(r){return typeof r!="function"?null:await R(this,ve).iterate((t,a)=>{if(r(t,a))return t})??null}async findItems(r){if(typeof r!="function")return[];let t=[];return await R(this,ve).iterate((a,s)=>{r(a,s)&&a&&t.push(a)}),t}};i(vr,"ClientStore"),ve=new WeakMap,ye=new WeakMap,vt=new WeakMap,dt=new WeakMap,Dr=new WeakMap,Ye=new WeakMap,cr=new WeakMap,fr=new WeakMap,pt=new WeakMap,Be=new WeakMap,lr=new WeakSet,lt=i(async function(r,t=null){let{defaultKeys:a,key:s,createKey:m,updateKey:c}=x(this,xr,mn).call(this),E=new Date,y=r[s],b=t??await this.getItem(y);b?(b=ft(b),b[c]=r[c]??E):(b=this.schema.toValue(),b[s]=y??new J().defaultValue,b[m]=r[m]??E,b[c]=b[m]);for(let g in r)!a.has(g)&&r.hasOwnProperty(g)&&(b[g]=r[g]);return{item:b,id:b[s]}},"#mergeExistingItemWithNewData"),Fe=new WeakSet,sr=i(function(r,t){let{defaultKeys:a}=x(this,xr,mn).call(this),s=this.schema.getInvalidSchemaDataFields(r,a);if(s.length)throw new Error(t(s))},"#validateData"),K=new WeakSet,z=i(function(r,t){R(this,Dr).forEach(a=>a(r,t)),R(this,Ye).get(r)?.forEach(a=>a(t))},"#broadcast"),We=new WeakSet,qr=i(function(r,t,a=null,s=null){return{action:r,data:t,id:a,error:s}},"#createEventData"),Je=new WeakSet,Ar=i(function(r,t,a=null){let s={data:t,id:a},m=R(this,cr).get(r);if(typeof m=="function")return m(s);if(R(this,fr))return R(this,fr).call(this,r,s)},"#getWithResult"),xr=new WeakSet,mn=i(function(){let r=this.idKeyName,t=this.createdDateKeyName,a=this.updatedDateKeyName;return{key:r,createKey:t,updateKey:a,defaultKeys:new Set([r,t,a])}},"#getDefaultKeys"),Xe=new WeakSet,_r=i(async function(r,t){let a=`${r}_${Date.now()}`;R(this,Be).add(a),R(this,Be).size===1&&(x(this,K,z).call(this,"processing",!0),x(this,K,z).call(this,"processing-events",this.processingEvents));try{let s=await t();return R(this,Be).delete(a),this.processing||(x(this,K,z).call(this,"processing",!1),x(this,K,z).call(this,"processing-events",this.processingEvents)),s}catch(s){throw R(this,Be).delete(a),this.processing||(x(this,K,z).call(this,"processing",!1),x(this,K,z).call(this,"processing-events",this.processingEvents)),s}},"#trackProcess");var we,Re,dr,yt,ht=class{constructor(r,t){$(this,dr);$(this,we,void 0);$(this,Re,{});ae(this,we,new vr(r,t)),ae(this,Re,R(this,we).schema.toValue())}get value(){return x(this,dr,yt).call(this,R(this,Re))}async update(r){return R(this,Re)._id?R(this,we).updateItem(R(this,Re)._id,{...r}).then(t=>(ae(this,Re,t),x(this,dr,yt).call(this,t))):R(this,we).createItem({...R(this,Re),...r}).then(t=>(ae(this,Re,t),x(this,dr,yt).call(this,t)))}subscribe(r){return R(this,we).subscribe((t,a)=>{switch(t){case"created":case"updated":r(x(this,dr,yt).call(this,a),null);break;case"error":r(null,a.error);break}})}intercept(r){let t=R(this,we).intercept("created",({data:s})=>{r(s)}),a=R(this,we).intercept("updated",({data:s})=>{r(s)});return()=>{t(),a()}}};i(ht,"AppState"),we=new WeakMap,Re=new WeakMap,dr=new WeakSet,yt=i(function(r){let{_id:t,_createdDate:a,_lastUpdatedDate:s,...m}=r;return m},"#extractStateFromItem");window&&(window.CWS={Schema:B,SchemaValue:Ue,SchemaId:J,ArrayOf:Ot,OneOf:no,Null:Mr,ClientStore:vr,EventType:ur,StorageType:Ll,AppState:ht});})();
/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/
//# sourceMappingURL=client-web-storage.min.js.map
